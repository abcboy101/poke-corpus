(function(){"use strict";var Je={},zr=function(e,r,t,n,a){var s=new Worker(Je[r]||(Je[r]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(i){var o=i.data,f=o.$e$;if(f){var u=new Error(f[0]);u.code=f[1],u.stack=f[2],a(u,null)}else a(null,o)},s.postMessage(t,n),s},D=Uint8Array,G=Uint16Array,de=Int32Array,ne=new D([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ae=new D([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ae=new D([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ke=function(e,r){for(var t=new G(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var a=new de(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},Xe=Ke(ne,2),qe=Xe.b,we=Xe.r;qe[28]=258,we[258]=28;for(var er=Ke(ae,0),rr=er.b,Oe=er.r,Be=new G(32768),m=0;m<32768;++m){var X=(m&43690)>>1|(m&21845)<<1;X=(X&52428)>>2|(X&13107)<<2,X=(X&61680)>>4|(X&3855)<<4,Be[m]=((X&65280)>>8|(X&255)<<8)>>1}for(var U=function(e,r,t){for(var n=e.length,a=0,s=new G(r);a<n;++a)e[a]&&++s[e[a]-1];var i=new G(r);for(a=1;a<r;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(t){o=new G(1<<r);var f=15-r;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],l=r-e[a],c=i[e[a]-1]++<<l,g=c|(1<<l)-1;c<=g;++c)o[Be[c]>>f]=u}else for(o=new G(n),a=0;a<n;++a)e[a]&&(o[a]=Be[i[e[a]-1]++]>>15-e[a]);return o},J=new D(288),m=0;m<144;++m)J[m]=8;for(var m=144;m<256;++m)J[m]=9;for(var m=256;m<280;++m)J[m]=7;for(var m=280;m<288;++m)J[m]=8;for(var se=new D(32),m=0;m<32;++m)se[m]=5;var tr=U(J,9,0),nr=U(J,9,1),ar=U(se,5,0),sr=U(se,5,1),ye=function(e){for(var r=e[0],t=1;t<e.length;++t)e[t]>r&&(r=e[t]);return r},W=function(e,r,t){var n=r/8|0;return(e[n]|e[n+1]<<8)>>(r&7)&t},be=function(e,r){var t=r/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(r&7)},ie=function(e){return(e+7)/8|0},re=function(e,r,t){return(r==null||r<0)&&(r=0),(t==null||t>e.length)&&(t=e.length),new D(e.subarray(r,t))},ir=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],y=function(e,r,t){var n=new Error(r||ir[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,y),!t)throw n;return n},Re=function(e,r,t,n){var a=e.length,s=n?n.length:0;if(!a||r.f&&!r.l)return t||new D(0);var i=!t,o=i||r.i!=2,f=r.i;i&&(t=new D(a*3));var u=function(Fe){var me=t.length;if(Fe>me){var pe=new D(Math.max(me*2,Fe));pe.set(t),t=pe}},l=r.f||0,c=r.p||0,g=r.b||0,B=r.l,x=r.d,E=r.m,R=r.n,T=a*8;do{if(!B){l=W(e,c,1);var L=W(e,c+1,3);if(c+=3,L)if(L==1)B=nr,x=sr,E=9,R=5;else if(L==2){var b=W(e,c,31)+257,S=W(e,c+10,15)+4,A=b+W(e,c+5,31)+1;c+=14;for(var h=new D(A),v=new D(19),d=0;d<S;++d)v[Ae[d]]=W(e,c+d*3,7);c+=S*3;for(var F=ye(v),k=(1<<F)-1,p=U(v,F,1),d=0;d<A;){var C=p[W(e,c,k)];c+=C&15;var w=C>>4;if(w<16)h[d++]=w;else{var H=0,z=0;for(w==16?(z=3+W(e,c,3),c+=2,H=h[d-1]):w==17?(z=3+W(e,c,7),c+=3):w==18&&(z=11+W(e,c,127),c+=7);z--;)h[d++]=H}}var P=h.subarray(0,b),O=h.subarray(b);E=ye(P),R=ye(O),B=U(P,E,1),x=U(O,R,1)}else y(1);else{var w=ie(c)+4,q=e[w-4]|e[w-3]<<8,M=w+q;if(M>a){f&&y(0);break}o&&u(g+q),t.set(e.subarray(w,M),g),r.b=g+=q,r.p=c=M*8,r.f=l;continue}if(c>T){f&&y(0);break}}o&&u(g+131072);for(var Ee=(1<<E)-1,$=(1<<R)-1,K=c;;K=c){var H=B[be(e,c)&Ee],I=H>>4;if(c+=H&15,c>T){f&&y(0);break}if(H||y(2),I<256)t[g++]=I;else if(I==256){K=c,B=null;break}else{var N=I-254;if(I>264){var d=I-257,j=ne[d];N=W(e,c,(1<<j)-1)+qe[d],c+=j}var Q=x[be(e,c)&$],ge=Q>>4;Q||y(3),c+=Q&15;var O=rr[ge];if(ge>3){var j=ae[ge];O+=be(e,c)&(1<<j)-1,c+=j}if(c>T){f&&y(0);break}o&&u(g+131072);var ve=g+N;if(g<O){var Me=s-O,Se=Math.min(O,ve);for(Me+g<0&&y(3);g<Se;++g)t[g]=n[Me+g]}for(;g<ve;++g)t[g]=t[g-O]}}r.l=B,r.p=K,r.b=g,r.f=l,B&&(l=1,r.m=E,r.d=x,r.n=R)}while(!l);return g!=t.length&&i?re(t,0,g):t.subarray(0,g)},Z=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8},oe=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8,e[n+2]|=t>>16},ke=function(e,r){for(var t=[],n=0;n<e.length;++n)e[n]&&t.push({s:n,f:e[n]});var a=t.length,s=t.slice();if(!a)return{t:Te,l:0};if(a==1){var i=new D(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(M,b){return M.f-b.f}),t.push({s:-1,f:25001});var o=t[0],f=t[1],u=0,l=1,c=2;for(t[0]={s:-1,f:o.f+f.f,l:o,r:f};l!=a-1;)o=t[t[u].f<t[c].f?u++:c++],f=t[u!=l&&t[u].f<t[c].f?u++:c++],t[l++]={s:-1,f:o.f+f.f,l:o,r:f};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var B=new G(g+1),x=ze(t[l-1],B,0);if(x>r){var n=0,E=0,R=x-r,T=1<<R;for(s.sort(function(b,S){return B[S.s]-B[b.s]||b.f-S.f});n<a;++n){var L=s[n].s;if(B[L]>r)E+=T-(1<<x-B[L]),B[L]=r;else break}for(E>>=R;E>0;){var w=s[n].s;B[w]<r?E-=1<<r-B[w]++-1:++n}for(;n>=0&&E;--n){var q=s[n].s;B[q]==r&&(--B[q],++E)}x=r}return{t:new D(B),l:x}},ze=function(e,r,t){return e.s==-1?Math.max(ze(e.l,r,t+1),ze(e.r,r,t+1)):r[e.s]=t},Ge=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new G(++r),n=0,a=e[0],s=1,i=function(f){t[n++]=f},o=1;o<=r;++o)if(e[o]==a&&o!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:t.subarray(0,n),n:r}},le=function(e,r){for(var t=0,n=0;n<r.length;++n)t+=e[n]*r[n];return t},Le=function(e,r,t){var n=t.length,a=ie(r+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=t[s];return(a+4+n)*8},Pe=function(e,r,t,n,a,s,i,o,f,u,l){Z(r,l++,t),++a[256];for(var c=ke(a,15),g=c.t,B=c.l,x=ke(s,15),E=x.t,R=x.l,T=Ge(g),L=T.c,w=T.n,q=Ge(E),M=q.c,b=q.n,S=new G(19),A=0;A<L.length;++A)++S[L[A]&31];for(var A=0;A<M.length;++A)++S[M[A]&31];for(var h=ke(S,7),v=h.t,d=h.l,F=19;F>4&&!v[Ae[F-1]];--F);var k=u+5<<3,p=le(a,J)+le(s,se)+i,C=le(a,g)+le(s,E)+i+14+3*F+le(S,v)+2*S[16]+3*S[17]+7*S[18];if(f>=0&&k<=p&&k<=C)return Le(r,l,e.subarray(f,f+u));var H,z,P,O;if(Z(r,l,1+(C<p)),l+=2,C<p){H=U(g,B,0),z=g,P=U(E,R,0),O=E;var Ee=U(v,d,0);Z(r,l,w-257),Z(r,l+5,b-1),Z(r,l+10,F-4),l+=14;for(var A=0;A<F;++A)Z(r,l+3*A,v[Ae[A]]);l+=3*F;for(var $=[L,M],K=0;K<2;++K)for(var I=$[K],A=0;A<I.length;++A){var N=I[A]&31;Z(r,l,Ee[N]),l+=v[N],N>15&&(Z(r,l,I[A]>>5&127),l+=I[A]>>12)}}else H=tr,z=J,P=ar,O=se;for(var A=0;A<o;++A){var j=n[A];if(j>255){var N=j>>18&31;oe(r,l,H[N+257]),l+=z[N+257],N>7&&(Z(r,l,j>>23&31),l+=ne[N]);var Q=j&31;oe(r,l,P[Q]),l+=O[Q],Q>3&&(oe(r,l,j>>5&8191),l+=ae[Q])}else oe(r,l,H[j]),l+=z[j]}return oe(r,l,H[256]),l+z[256]},or=new de([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Te=new D(0),lr=function(e,r,t,n,a,s){var i=s.z||e.length,o=new D(n+i+5*(1+Math.ceil(i/7e3))+a),f=o.subarray(n,o.length-a),u=s.l,l=(s.r||0)&7;if(r){l&&(f[0]=s.r>>3);for(var c=or[r-1],g=c>>13,B=c&8191,x=(1<<t)-1,E=s.p||new G(32768),R=s.h||new G(x+1),T=Math.ceil(t/3),L=2*T,w=function(Qe){return(e[Qe]^e[Qe+1]<<T^e[Qe+2]<<L)&x},q=new de(25e3),M=new G(288),b=new G(32),S=0,A=0,h=s.i||0,v=0,d=s.w||0,F=0;h+2<i;++h){var k=w(h),p=h&32767,C=R[k];if(E[p]=C,R[k]=p,d<=h){var H=i-h;if((S>7e3||v>24576)&&(H>423||!u)){l=Pe(e,f,0,q,M,b,A,v,F,h-F,l),v=S=A=0,F=h;for(var z=0;z<286;++z)M[z]=0;for(var z=0;z<30;++z)b[z]=0}var P=2,O=0,Ee=B,$=p-C&32767;if(H>2&&k==w(h-$))for(var K=Math.min(g,H)-1,I=Math.min(32767,h),N=Math.min(258,H);$<=I&&--Ee&&p!=C;){if(e[h+P]==e[h+P-$]){for(var j=0;j<N&&e[h+j]==e[h+j-$];++j);if(j>P){if(P=j,O=$,j>K)break;for(var Q=Math.min($,j-2),ge=0,z=0;z<Q;++z){var ve=h-$+z&32767,Me=E[ve],Se=ve-Me&32767;Se>ge&&(ge=Se,C=ve)}}}p=C,C=E[p],$+=p-C&32767}if(O){q[v++]=268435456|we[P]<<18|Oe[O];var Fe=we[P]&31,me=Oe[O]&31;A+=ne[Fe]+ae[me],++M[257+Fe],++b[me],d=h+P,++S}else q[v++]=e[h],++M[e[h]]}}for(h=Math.max(h,d);h<i;++h)q[v++]=e[h],++M[e[h]];l=Pe(e,f,u,q,M,b,A,v,F,h-F,l),u||(s.r=l&7|f[l/8|0]<<3,l-=7,s.h=R,s.p=E,s.i=h,s.w=d)}else{for(var h=s.w||0;h<i+u;h+=65535){var pe=h+65535;pe>=i&&(f[l/8|0]=u,pe=i),l=Le(f,l+1,e.subarray(h,pe))}s.i=i}return re(o,0,n+ie(l)+a)},ur=function(){for(var e=new Int32Array(256),r=0;r<256;++r){for(var t=r,n=9;--n;)t=(t&1&&-306674912)^t>>>1;e[r]=t}return e}(),cr=function(){var e=-1;return{p:function(r){for(var t=e,n=0;n<r.length;++n)t=ur[t&255^r[n]]^t>>>8;e=t},d:function(){return~e}}},Ie=function(){var e=1,r=0;return{p:function(t){for(var n=e,a=r,s=t.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,r=a},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},Ce=function(e,r,t,n,a){if(!a&&(a={l:1},r.dictionary)){var s=r.dictionary.subarray(-32768),i=new D(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return lr(e,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,n,a)},jr=function(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t},fr=function(e,r,t){for(var n=e(),a=e.toString(),s=a.slice(a.indexOf("[")+1,a.lastIndexOf("]")).replace(/\s+/g,"").split(","),i=0;i<n.length;++i){var o=n[i],f=s[i];if(typeof o=="function"){r+=";"+f+"=";var u=o.toString();if(o.prototype)if(u.indexOf("[native code]")!=-1){var l=u.indexOf(" ",8)+1;r+=u.slice(l,u.indexOf("(",l))}else{r+=u;for(var c in o.prototype)r+=";"+f+".prototype."+c+"="+o.prototype[c].toString()}else r+=u}else t[f]=o}return r},je=[],xr=function(e){var r=[];for(var t in e)e[t].buffer&&r.push((e[t]=new e[t].constructor(e[t])).buffer);return r},Hr=function(e,r,t,n){if(!je[t]){for(var a="",s={},i=e.length-1,o=0;o<i;++o)a=fr(e[o],a,s);je[t]={c:fr(e[i],a,s),e:s}}var f=jr({},je[t].e);return zr(je[t].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+r.toString()+"}",t,f,xr(f),n)},Ne=function(){return[D,G,de,ne,ae,Ae,qe,rr,nr,sr,Be,ir,U,ye,W,be,ie,re,y,Re,Tr,hr,Rr]},Ue=function(){return[D,G,de,ne,ae,Ae,we,Oe,tr,J,ar,se,Be,or,Te,U,Z,oe,ke,ze,Ge,le,Le,Pe,ie,re,lr,Ce,Lr,hr]},Mr=function(){return[gr,pr,te,cr,ur]},Sr=function(){return[vr,Gr]},qr=function(){return[dr,te,Ie]},Or=function(){return[Ar]},hr=function(e){return postMessage(e,[e.buffer])},Rr=function(e){return e&&{out:e.size&&new D(e.size),dictionary:e.dictionary}},V=function(e){return e.ondata=function(r,t){return postMessage([r,t],[r.buffer])},function(r){r.data.length?(e.push(r.data[0],r.data[1]),postMessage([r.data[0].length])):e.flush()}},ue=function(e,r,t,n,a,s,i){var o,f=Hr(e,n,a,function(u,l){u?(f.terminate(),r.ondata.call(r,u)):Array.isArray(l)?l.length==1?(r.queuedSize-=l[0],r.ondrain&&r.ondrain(l[0])):(l[1]&&f.terminate(),r.ondata.call(r,u,l[0],l[1])):i(l)});f.postMessage(t),r.queuedSize=0,r.push=function(u,l){r.ondata||y(5),o&&r.ondata(y(4,0,1),null,!!l),r.queuedSize+=u.length,f.postMessage([u,o=l],[u.buffer])},r.terminate=function(){f.terminate()},s&&(r.flush=function(){f.postMessage([])})},te=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},gr=function(e,r){var t=r.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=r.level<2?4:r.level==9?2:0,e[9]=3,r.mtime!=0&&te(e,4,Math.floor(new Date(r.mtime||Date.now())/1e3)),t){e[3]=8;for(var n=0;n<=t.length;++n)e[n+10]=t.charCodeAt(n)}},vr=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&y(6,"invalid gzip data");var r=e[3],t=10;r&4&&(t+=(e[10]|e[11]<<8)+2);for(var n=(r>>3&1)+(r>>4&1);n>0;n-=!e[t++]);return t+(r&2)},Gr=function(e){var r=e.length;return(e[r-4]|e[r-3]<<8|e[r-2]<<16|e[r-1]<<24)>>>0},pr=function(e){return 10+(e.filename?e.filename.length+1:0)},dr=function(e,r){var t=r.level,n=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=n<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var a=Ie();a.p(r.dictionary),te(e,2,a.d())}},Ar=function(e,r){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&y(6,"invalid zlib data"),(e[1]>>5&1)==+!r&&y(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ce(e,r){return typeof e=="function"&&(r=e,e={}),this.ondata=r,e}var _=function(){function e(r,t){if(typeof r=="function"&&(t=r,r={}),this.ondata=t,this.o=r||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new D(98304),this.o.dictionary){var n=this.o.dictionary.subarray(-32768);this.b.set(n,32768-n.length),this.s.i=32768-n.length}}return e.prototype.p=function(r,t){this.ondata(Ce(r,this.o,0,0,this.s),t)},e.prototype.push=function(r,t){this.ondata||y(5),this.s.l&&y(4);var n=r.length+this.s.z;if(n>this.b.length){if(n>2*this.b.length-32768){var a=new D(n&-32768);a.set(this.b.subarray(0,this.s.z)),this.b=a}var s=this.b.length-this.s.z;this.b.set(r.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(r.subarray(s),32768),this.s.z=r.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(r,this.s.z),this.s.z+=r.length;this.s.l=t&1,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||y(5),this.s.l&&y(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}(),Br=function(){function e(r,t){ue([Ue,function(){return[V,_]}],this,ce.call(this,r,t),function(n){var a=new _(n.data);onmessage=V(a)},6,1)}return e}();function Lr(e,r){return Ce(e,r||{},0,0)}var Y=function(){function e(r,t){typeof r=="function"&&(t=r,r={}),this.ondata=t;var n=r&&r.dictionary&&r.dictionary.subarray(-32768);this.s={i:0,b:n?n.length:0},this.o=new D(32768),this.p=new D(0),n&&this.o.set(n)}return e.prototype.e=function(r){if(this.ondata||y(5),this.d&&y(4),!this.p.length)this.p=r;else if(r.length){var t=new D(this.p.length+r.length);t.set(this.p),t.set(r,this.p.length),this.p=t}},e.prototype.c=function(r){this.s.i=+(this.d=r||!1);var t=this.s.b,n=Re(this.p,this.s,this.o);this.ondata(re(n,t,this.s.b),this.d),this.o=re(n,this.s.b-32768),this.s.b=this.o.length,this.p=re(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(r,t){this.e(r),this.c(t)},e}(),Pr=function(){function e(r,t){ue([Ne,function(){return[V,Y]}],this,ce.call(this,r,t),function(n){var a=new Y(n.data);onmessage=V(a)},7,0)}return e}();function Tr(e,r){return Re(e,{i:2},r&&r.out,r&&r.dictionary)}var We=function(){function e(r,t){this.c=cr(),this.l=0,this.v=1,_.call(this,r,t)}return e.prototype.push=function(r,t){this.c.p(r),this.l+=r.length,_.prototype.push.call(this,r,t)},e.prototype.p=function(r,t){var n=Ce(r,this.o,this.v&&pr(this.o),t&&8,this.s);this.v&&(gr(n,this.o),this.v=0),t&&(te(n,n.length-8,this.c.d()),te(n,n.length-4,this.l)),this.ondata(n,t)},e.prototype.flush=function(){_.prototype.flush.call(this)},e}(),Ir=function(){function e(r,t){ue([Ue,Mr,function(){return[V,_,We]}],this,ce.call(this,r,t),function(n){var a=new We(n.data);onmessage=V(a)},8,1)}return e}(),Ve=function(){function e(r,t){this.v=1,this.r=0,Y.call(this,r,t)}return e.prototype.push=function(r,t){if(Y.prototype.e.call(this,r),this.r+=r.length,this.v){var n=this.p.subarray(this.v-1),a=n.length>3?vr(n):4;if(a>n.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-n.length);this.p=n.subarray(a),this.v=0}Y.prototype.c.call(this,t),this.s.f&&!this.s.l&&!t&&(this.v=ie(this.s.p)+9,this.s={i:0},this.o=new D(0),this.push(new D(0),t))},e}(),Nr=function(){function e(r,t){var n=this;ue([Ne,Sr,function(){return[V,Y,Ve]}],this,ce.call(this,r,t),function(a){var s=new Ve(a.data);s.onmember=function(i){return postMessage(i)},onmessage=V(s)},9,0,function(a){return n.onmember&&n.onmember(a)})}return e}(),$e=function(){function e(r,t){this.c=Ie(),this.v=1,_.call(this,r,t)}return e.prototype.push=function(r,t){this.c.p(r),_.prototype.push.call(this,r,t)},e.prototype.p=function(r,t){var n=Ce(r,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(dr(n,this.o),this.v=0),t&&te(n,n.length-4,this.c.d()),this.ondata(n,t)},e.prototype.flush=function(){_.prototype.flush.call(this)},e}(),Ur=function(){function e(r,t){ue([Ue,qr,function(){return[V,_,$e]}],this,ce.call(this,r,t),function(n){var a=new $e(n.data);onmessage=V(a)},10,1)}return e}(),_e=function(){function e(r,t){Y.call(this,r,t),this.v=r&&r.dictionary?2:1}return e.prototype.push=function(r,t){if(Y.prototype.e.call(this,r),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(Ar(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&y(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Y.prototype.c.call(this,t)},e}(),Wr=function(){function e(r,t){ue([Ne,Or,function(){return[V,Y,_e]}],this,ce.call(this,r,t),function(n){var a=new _e(n.data);onmessage=V(a)},11,0)}return e}(),Vr=typeof TextDecoder<"u"&&new TextDecoder,$r=0;try{Vr.decode(Te,{stream:!0}),$r=1}catch{}const fe=e=>{class r{constructor(){this.i=new e,this.i.ondata=(n,a)=>{this.ondata(null,n,a)}}push(n,a){try{this.queuedSize+=n.length,this.i.push(n,a),this.queuedSize-=n.length,this.ondrain&&this.ondrain(n.length)}catch(s){this.ondata(s,null,a||!1)}}}return r};let Ye=1;try{new Br().terminate()}catch{Ye=0}const _r=Ye?{gzip:Ir,deflate:Ur,"deflate-raw":Br}:{gzip:fe(We),deflate:fe($e),"deflate-raw":fe(_)},Yr=Ye?{gzip:Nr,deflate:Wr,"deflate-raw":Pr}:{gzip:fe(Ve),deflate:fe(_e),"deflate-raw":fe(Y)},Cr=(e,r,t)=>{class n extends e{constructor(s){if(!arguments.length)throw new TypeError(`Failed to construct '${t}': 1 argument required, but only 0 present.`);const i=r[s];if(!i)throw new TypeError(`Failed to construct '${t}': Unsupported compression format: '${s}'`);let o=new i,f;super({start:u=>{o.ondata=(l,c,g)=>{l?u.error(l):c&&(u.enqueue(c),g&&(f?f():u.terminate()))}},transform:u=>{if(u instanceof ArrayBuffer)u=new Uint8Array(u);else if(ArrayBuffer.isView(u))u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);else throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");if(o.push(u),o.queuedSize>=32768)return new Promise(l=>{o.ondrain=()=>{o.queuedSize<32768&&l()}})},flush:()=>new Promise(u=>{f=u,o.push(new Uint8Array(0),!0)})},{size:u=>u.byteLength|0,highWaterMark:65536},{size:u=>u.byteLength|0,highWaterMark:65536})}}return n};function Zr(e){return Cr(e,_r,"CompressionStream")}function Qr(e){return Cr(e,Yr,"DecompressionStream")}const xe=typeof globalThis>"u"?typeof self>"u"?typeof global>"u"?{}:global:self:globalThis;typeof xe.CompressionStream>"u"&&(xe.CompressionStream=Zr(TransformStream)),typeof xe.DecompressionStream>"u"&&(xe.DecompressionStream=Qr(TransformStream));var Jr={languages:["qid","ja-Hrkt","ja","en","en-GB","fr","it","de","es","es-419","ko","zh-Hans","zh-Hans-CN","zh-Hant","pt-BR","th","ru","tr","id","hi"],collections:{Red:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},RubySapphire:{id:"rs",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.1",en:"1.2",fr:"1.1",it:"1.1",de:"1.1",es:"1.1"},files:["msg"],literals:{KUN:{branch:"gender",line:[12348,12349]},VERSION:{branch:"version",line:[12351,12350]},EVIL_TEAM:{branch:"version",line:[12353,12352]},GOOD_TEAM:{branch:"version",line:[12352,12353]},EVIL_LEADER:{branch:"version",line:[12355,12354]},GOOD_LEADER:{branch:"version",line:[12354,12355]},EVIL_LEGENDARY:{branch:"version",line:[12357,12356]},GOOD_LEGENDARY:{branch:"version",line:[12356,12357]},RIVAL:{branch:"gender",line:[12359,12358]}}},FireRedLeafGreen:{id:"frlg",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.0",en:"1.1",fr:"1.0",it:"1.0",de:"1.0",es:"1.0"},files:["msg"],literals:{KUN:{branch:"gender",line:[9351,9352]}}},Emerald:{id:"e",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:"1.0",files:["msg"],literals:{KUN:{branch:"gender",line:[15105,15106]},VERSION:{line:15109},EVIL_TEAM:{line:15110},GOOD_TEAM:{line:15111},EVIL_LEADER:{line:15112},GOOD_LEADER:{line:15113},EVIL_LEGENDARY:{line:15114},GOOD_LEGENDARY:{line:15115},RIVAL:{branch:"gender",line:[15117,15116]}}},DiamondPearl:{id:"dp",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid","ja-Hrkt","en","fr","it","de","es","ko"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hans-CN","zh-Hant"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Stadium:{id:"stad",languages:["qid","en","fr","it","de","es"],structured:!0,files:["msg"]},Stadium2:{id:"stad2",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,files:["msg"]},Box:{id:"box",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,files:["message"]},Colosseum:{id:"colo",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,version:{ja:"0/1/2",en:"0","en-GB":"0",fr:"0",it:"0",de:"0",es:"0"},files:["message"],literals:{'"No."':{branch:"language",line:{ja:992,en:993,"en-GB":993,de:994,fr:995,es:996,it:997}},'"Lv."':{branch:"language",line:{ja:998,en:999,"en-GB":999,de:1e3,fr:1001,es:1002,it:1003}},'"HP"':{branch:"language",line:{ja:1036,en:1037,"en-GB":1037,de:1038,fr:1039,es:1040,it:1041}},'"PP"':{branch:"language",line:{ja:1042,en:1043,"en-GB":1043,de:1044,fr:1045,es:1046,it:1047}}}},Ranch:{id:"ranch",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,version:{"ja-Hrkt":"258",en:"256","en-GB":"1",fr:"1",it:"1",de:"1",es:"1"},files:["msg"]},Bank:{id:"bank",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:{nx:"3.2.1"},files:["megaturtle_nx","megaturtle_sp"]},GO:{id:"go",languages:["qid","ja","en","fr","it","de","es","es-419","ko","zh-Hant","pt-BR","th","ru","tr","id","hi"],structured:!0,softWrap:!0,files:["text"]},Masters:{id:"masters",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hant"],structured:!0,softWrap:!0,files:["messages","talk","ui"]}}};const Dr="qid",ee=Jr;var Kr=JSON.parse('[["805868F0",451848],["FE0A4516",184505],["0E6B4AFC",186358],["38089687",184678],["C8E18522",192736],["AC075F40",185187],["BC8E428D",451830],["E0EDED5F",452016],["AE888233",184382],["42CE5E23",186162],["49A1D761",184638],["E6BE2C39",192693],["EEE6AA0B",184987],["D0A898D8",914491],["B4916E10",247699],["9353A098",247605],["01E40379",247360],["B9271014",255341],["7A3C7531",247525],["93D27A9D",853930],["50D2D70E",371161],["297D48D7",423562],["9E40D227",443434],["7E45FF40",433301],["E53FA927",443211],["DB38E4EE",716552],["F5DB65C4",853759],["CB8106C0",371328],["847BC0BC",423799],["F4F9E121",443569],["31E85F86",433496],["CCEB35BA",443147],["B5AC5376",716517],["C258E1C0",1188380],["AA0CCAD6",516532],["061F929E",583183],["9EB0BB7D",617996],["3154E257",605519],["287D9986",626416],["1B6B811F",56247],["47F479B5",219921],["E98655B9",240723],["A5BA82AE",251904],["66BF6AE1",243507],["24BE0C34",265357],["48268292",253204],["15DA0A67",80381],["B5C9124E",206414],["D50DFB6F",212463],["8BDC97A0",209249],["7F5DBF9C",203357],["BAFD4554",223099],["79526023",209842],["464B1550",105715],["51475FA2",326267],["C1B05D7D",337789],["B91D2631",351308],["3F0AD689",343626],["812A1AB9",378330],["AA61A5BF",362267],["2B0D4B93",43358],["5904163D",376708],["EDD0E9E7",388614],["127039EB",388665],["D5FDB9AE",400933],["C7B1655B",389346],["1EFE3353",417115],["63F8BA72",391961],["ECFF31F9",360643],["3A1A9B1D",65345],["598865DB",612597],["9FC7F04F",658341],["724DB29C",658264],["064910D4",684430],["85A41B08",667743],["F0A6E5C4",718659],["C2700D4A",670855],["FEEB02C7",619191],["4D550F2C",73843],["5A4CAD20",706150],["24945ACB",647415],["5C256E39",661940],["A0E65FD8",661900],["1853AD06",741198],["F1A542E7",663250],["F486A32C",641976],["9C34BDCD",74122],["B7574077",14277],["F995C30A",418914],["9D60674E",238161],["30FC1626",431312],["0F0B9315",251501],["2BD96831",427975],["B2A835DB",231433],["C25D8FD2",440869],["B4D5380B",253667],["19CCEDE0",435286],["A7392F1D",238116],["21A4F991",471647],["F5456BBE",286258],["319F6C84",434313],["D35D93AA",255061],["3202D6A1",432445],["5821F1C6",228581],["8098B211",108529],["DA8465B6",23285],["D986A44C",689295],["D26EF998",345597],["6788D3EB",725690],["D853AAFB",366512],["809A966C",661231],["71BD1A82",321837],["A7E66C77",686073],["6263F6C4",364277],["1C541F50",676483],["80392CBD",345983],["8C28A3B1",743806],["5C726113",400249],["E4D9A8A1",709524],["F010E441",388964],["611CB7AE",654063],["270BED6B",326680],["F9AC014E",41653],["7CBC93B4",13564],["5D77F2D3",290600],["19096712",193156],["99B3AF25",304677],["7EF08E1A",204728],["DCB617AB",309647],["33EF4A6B",218185],["B199F277",317847],["E4933814",237126],["C3A6023B",305573],["34ECA43C",204825],["4E05F7C3",331242],["B9A4C5A5",249282],["719F6CF7",336580],["D4C5FC1F",253405],["B779A7AA",293411],["AB306EB4",193921],["D0453ADC",52057],["A49819C8",20978],["D5E64271",361359],["81DC14F2",251358],["607BD37E",380246],["79364FB4",267071],["C6F7E9BB",391949],["55CB3423",261236],["F3C1F5D1",412072],["A445144E",275169],["04BED485",395485],["32F9174D",249289],["4C011AA6",431932],["3B6F2B5D",311428],["A159FCC1",426053],["EFBA305C",281565],["9727DB13",363094],["00F9CD07",247291],["66850A84",49635],["F7C003F5",19275],["D6E2E088",251306],["3A9A986B",221524],["FC0C8ADD",262055],["3155AD9B",234129],["36A24DD7",264111],["7DE90361",266183],["B1B911A6",281427],["D154C0F5",292914],["914BC9E8",269703],["FCB58A19",255431],["73318A95",286031],["1DACFB2B",294363],["E024B96B",284632],["0482085E",291207],["DBACF489",250082],["9EEA28B7",220906],["6C6BDA9A",248873],["615402EC",225468],["E7763E5F",251831],["DCF080B4",228710],["E9064BC7",57142],["515C63BC",30391],["B029ECEF",287029],["D7459F7B",351512],["C2849705",299536],["76226F39",371546],["925DA459",304276],["1332A7BF",417674],["1E24F599",322366],["08238B58",462128],["72449731",311083],["4DC4D0F7",410852],["2A36BB82",331386],["B6CCB707",473448],["485DE0B0",327958],["B0BDACD1",465944],["ECDEB54B",285212],["6046FCAE",351632],["8015D11D",285461],["B97E3074",357817],["291B1F2D",289137],["C47A8D10",363279],["56BFFE84",70001],["0F56A27C",17961],["78D61CE1",188757],["3046EC50",91141],["AB01F4D4",195222],["EAEAC744",96916],["7BDB3096",185660],["A731DF7B",98146],["79D3F3B5",196364],["90DADB7E",112741],["3CD179DB",189954],["3CA333A8",100965],["8D12AA04",201217],["DE0762F4",122416],["C3639674",195797],["3449002C",112911],["D23A1D38",186937],["70B92862",92474],["920D68A3",183962],["38CB3189",99595],["4A2AF0BD",183355],["0C39B49A",99105],["9CFCB04F",185584],["24056C87",98436],["F88C7D51",109707],["D06EC6B0",47268],["BC465CEB",327255],["DABDD117",249057],["DB6499F8",343106],["A1E9A260",263024],["2E39FF52",353598],["D72D5490",301521],["E97E3DEA",360374],["C14BE010",316566],["B243A50B",354609],["6DD06B2E",294483],["71E64CE2",374758],["B755DFD7",338573],["D675ED02",354540],["C109C728",315868],["099C8225",334519],["ACBD302C",263043],["CAAB3D17",340926],["3239020C",280033],["94E2F348",339910],["7DD6502E",283225],["A3C49BBF",99393],["87647E62",438279],["9616FC8D",459527],["A2BCEA38",441003],["224162EA",473430],["1B465C57",456582],["FF560BEE",502888],["690BFF6E",465097],["1C088BF9",412634],["BDB8EF03",416941],["EC2A02E5",430970],["868957D1",74049],["A142B3F1",24108],["AE7A3398",217519],["5F77F1A4",230194],["C7DC5911",212569],["EFC20517",250558],["B1E9377A",212889],["C74A122A",247223],["D054DE70",207469],["CE8B0601",241619],["ED88D7E1",217691],["FC76E487",250690],["D766E68F",209904],["0B78B3D6",250516],["7707196A",196581],["D6E20DF4",198422],["AEE9875F",197067],["7F1BE555",196414],["2E5BAC17",197521],["1365CBAA",206782],["9D22F3E2",142866],["1D2F4BF3",71136],["B38DE6C7",428923],["C0C91D78",523598],["99B6F5E4",400940],["D1F7D9A3",527195],["DB66385A",410479],["8D9AFC15",540864],["2A68B3C4",396595],["E0AC173E",500289],["300A80E9",415883],["23719FF4",547694],["B53002F4",401220],["14C7FDE3",535541],["B6B8EBAE",376872],["6D12C9E1",440546],["EDD3DC38",377240],["B2485F5C",432631],["A12D9827",380373],["4C32D9D0",449342],["C3E5FB9D",4339],["8F488338",26442],["C0CC6C78",27488],["C000BF76",26723],["5D8671DF",30377],["38FA9F65",28212],["A8F362C0",43636],["3BF95355",213995],["8B89062A",189456],["BD1820D9",174259],["40824263",181488],["38D29549",211516],["CDD1322A",188971],["9920B1E3",3505],["CCD878B1",11682],["CC445D0F",10530],["A01D9E8C",10488],["3B409C23",11138],["0B197BEA",10982],["4452D813",11317],["D958ECBF",11107],["EA1432F5",14904],["CA9CD9BD",185298],["E266968F",191903],["97ECABBA",187664],["87A27B31",197388],["04872EBD",196569],["8E557D83",204124],["1605EDD5",197879],["26D93D24",11886],["95CC0171",294807],["C46156B1",261280],["9EA398A5",234498],["68062841",229744],["656E796C",230208],["A80BEC67",254904],["A190FDDD",241132],["3356A778",27511],["F8317CFE",168076],["F71850AB",154401],["E554DABC",154242],["C7E7F875",160914],["2C56E000",156325],["A55CCB2E",163853],["DE9A5332",149658],["4028E267",10276],["38B7948A",85967],["B3B75E50",63779],["34A6C0E7",63992],["F1318B98",68269],["CA1ADAA3",67235],["12F3987F",68652],["0E2E5E91",66187],["8EA29A66",28943],["A6D0F48B",252507],["BA9443EB",266550],["886D0304",287489],["606FC990",290952],["DC096C52",284717],["A25EDA41",300791],["B5DC512F",288797],["41303CFE",254545],["BF4FC8A0",260380],["7DEBD604",262359],["19B88DB6",124422],["3FE9024F",83651],["45B39AA0",695517],["468019A5",522803],["178F33F9",724549],["1DFF87A8",543864],["34E25F98",770042],["B471ACEC",584649],["9A31C8AB",773486],["69138ED7",586195],["2B197D76",756785],["A81BC8F2",575557],["6CBB2A0F",817937],["8F227AF5",626642],["64A00033",763166],["5743DC04",581048],["B2E49CB7",695621],["736542D5",520364],["DE6516AD",711468],["FF181780",534178],["42A2B796",713699],["0C26F405",535801],["656A6704",143592],["5EB6C18E",482108],["6B4445CC",505370],["D8888024",549360],["F8F09D09",537978],["37749736",563371],["52405B63",544493],["E4EB901C",535840],["1517145B",461152],["619AD20F",481547],["68E40EC0",532562],["2705D4FF",624240],["2E624650",649539],["1DB75E38",528211],["E48CA5D7",473358],["97A0615C",640307],["43C26113",126213],["4EBBC268",181948],["EFD76187",12925],["C2C155D6",331883],["A84095F4",1509992],["75869BAD",62707],["421E9846",317363],["962FB091",1487074],["49345F87",63760],["B49849FD",346999],["8E26B672",1691339],["0E0547BE",69664],["42A47AF4",330698],["267217A2",1554533],["5BF584ED",66055],["1B0FD60F",347436],["C48076A1",1749200],["AF58D88D",69924],["F47A457C",341942],["16E0133F",1682870],["0315060B",67728],["9B8572CA",313930],["9D7CD26A",1425380],["9CF8A919",58808],["54C2F830",319639],["AD6E8427",1514255],["DAFC0EC4",56486]]');const Ze=(e,r,t)=>`corpus/${e}/${r}_${t}.txt.gz`,Er=e=>"/poke-corpus/"+e,Xr=async(e,r,t)=>{const n=Er(t),[a,s]=await it(r,t);if(s?.hash===a.hash||!navigator.onLine&&s?.hash!==void 0){const o=await ut(e,n);if(o!==void 0)return o}const i=await fetch(n);return await ct(e,n,i).then(async o=>{o&&await st(r,t)}),i},et=e=>{const r=Er(e);return fetch(r)},Fr=Kr,mr=Object.fromEntries(Object.entries(ee.collections).flatMap(([e,r])=>r.languages.flatMap(t=>r.files.map(n=>Ze(e,t,n)))).map((e,r)=>[e,{hash:Fr[r][0],size:Fr[r][1]}])),rt="corpus",De="files",tt=()=>{const e=indexedDB.open(rt);return new Promise((r,t)=>{e.onupgradeneeded=()=>{e.result.createObjectStore(De),e.transaction!==null&&(e.transaction.oncomplete=()=>{console.log("Created object store")})},e.onsuccess=()=>r(e.result),e.onerror=()=>t(e.error)})},nt=e=>mr[e],at=(e,r)=>{const a=e.transaction([De],"readonly").objectStore(De).get(r);return new Promise((s,i)=>{a.onsuccess=()=>s(a.result),a.onerror=()=>i(a.error)})},st=(e,r)=>{const a=e.transaction([De],"readwrite").objectStore(De).put(mr[r],r);return new Promise((s,i)=>{a.onsuccess=()=>s(a.result===r),a.onerror=()=>i(a.error)})},it=async(e,r)=>[nt(r),await at(e,r)],ot="corpus",lt=async()=>await caches.open(ot),ut=async(e,r)=>{try{const t=await e.match(r);return t}catch(t){console.error(t);return}},ct=async(e,r,t)=>{try{return await e.put(r,t.clone()),!0}catch(n){return console.error(n),!1}};function ft(e){return new Worker("/poke-corpus/assets/searchWorker-B_Ma_VfK.js",{name:e?.name})}function wr(e){try{new RegExp(e,"u")}catch(r){return console.error(r),!1}return!0}const He=Object.keys(ee.collections);He.filter(e=>ee.collections[e].structured),He.length^ee.languages.length<<4,Math.ceil(He.length/8),Math.ceil(Math.log2(ee.languages.length+He.length));function ht(e){return e.replaceAll("\\\\","󰄀").replaceAll("\\n",`
`).replaceAll("\\r","\r").replaceAll("\\c","\f").replaceAll("󰄀","\\\\")}function gt(e,r){const t=e.split(/\s+/);if(!r)return s=>t.every(i=>s.includes(i));const n=t.map(s=>s.toLowerCase()),a=t.map(s=>s.toUpperCase());return s=>{const i=s.toLowerCase(),o=s.toUpperCase();return t.every((f,u)=>i.includes(n[u])||o.includes(a[u]))}}function vt(e,r){if(!r)return a=>a.includes(e);const t=e.toLowerCase(),n=e.toUpperCase();return a=>a.toLowerCase().includes(t)||a.toUpperCase().includes(n)}function pt(e,r){const t=new RegExp(e,r?"sui":"su");return n=>ht(n).match(t)!==null}const dt=e=>({success:!0,postfix:e}),he=e=>({success:!1,message:e}),At=e=>e.replaceAll("\\\\","󰄀").replaceAll("\\/","󰄁").replaceAll("\\(","󰄈").replaceAll("\\)","󰄉").replaceAll('\\"',"󰆀"),yr=e=>e.replaceAll("󰄈","(").replaceAll("󰄉",")").replaceAll("󰆀",'"').replaceAll("󰄁","/").replaceAll("󰄀","\\\\"),Bt=e=>e.replaceAll("󰄈","\\(").replaceAll("󰄉","\\)").replaceAll("󰆀",'\\"').replaceAll("󰄁","/").replaceAll("󰄀","\\\\");function Ct(e){e=At(e);const r=e.split(/(\b(?:NOT|AND|OR)\b|\\?[/"()])/u).filter(i=>i.length>0),t=[],n=[];let a=!1,s=!1;for(const i of r){const o=i.trim();if(a&&o!=="/"||s&&o!=='"'){n[n.length-1]+=i;continue}switch(o){case"NOT":t.push(o);break;case"AND":case"OR":for(;t[t.length-1]!=="("&&(t[t.length-1]==="NOT"||t[t.length-1]==="AND"&&o==="OR"||o===t[t.length-1]);)n.push(t.pop());t.push(o);break;case"/":if(!a)t.push(o),a=!0,n.push("");else if(t[t.length-1]==="/"){t.pop();const f=n.pop();if(!wr(f))return he("regex");for(n.push(`/${f}/`),a=!1;t[t.length-1]==="NOT";)n.push(t.pop())}break;case'"':if(!s)t.push(o),s=!0,n.push("");else if(t[t.length-1]==='"')for(t.pop(),n.push(`"${n.pop()}"`),s=!1;t[t.length-1]==="NOT";)n.push(t.pop());break;case"(":t.push(o);break;case")":for(;t[t.length-1]!=="(";){if(t.length===0)return he("parentheses");n.push(t.pop())}if(t[t.length-1]!=="(")return he("parentheses");for(t.pop();t[t.length-1]==="NOT";)n.push(t.pop());break;default:o.length>0&&n.push(o)}}for(;t.length>0;){if(t[t.length-1]==="(")return he("parentheses");if(t[t.length-1]==="/")return he("slash");if(t[t.length-1]==='"')return he("quote");n.push(t.pop())}return dt(n)}function Dt(e,r){const t=[];for(const n of r)switch(n){case"NOT":{const a=t.pop();t.push(s=>!a(s));break}case"AND":{const a=t.pop(),s=t.pop();t.push(i=>s(i)&&a(i));break}case"OR":{const a=t.pop(),s=t.pop();t.push(i=>s(i)||a(i));break}default:n.startsWith("/")&&n.endsWith("/")?t.push(pt(Bt(n.substring(1,n.length-1)),e)):n.startsWith('"')&&n.endsWith('"')?t.push(vt(yr(n.substring(1,n.length-1)),e)):t.push(gt(yr(n),e))}for(;t.length>1;){const n=t.pop(),a=t.pop();t.push(s=>a(s)&&n(s))}return t.pop()}function Et(e,r){const t=Ct(e);if(!t.success)return t.message;try{const n=Dt(r,t.postfix);return n===void 0?"empty":(n(""),"success")}catch{return"operand"}}function Ft(e){return/(.*)\bWHERE\s+([0-9A-Za-z-]+)\s*(=|==|<>|!=)\s*([0-9A-Za-z-]+)/u.exec(e)}const br=e=>self.memoryCache.get(e)?.deref(),mt=(e,r)=>self.memoryCache.set(e,new WeakRef(r)),wt=(e,r,t)=>{const n=Ze(e,r,t);return br(n)!==void 0},kr=async(e,r,t)=>{const n=Ze(e,r,t),a=br(n);if(a)return a;let s;try{if("caches"in self&&"indexedDB"in self&&"databases"in self.indexedDB){const f=await lt(),u=await tt();s=await Xr(f,u,n),u.close()}else s=await et(n)}catch(f){return console.error(f),""}let i=(await s.blob()).stream();i=i.pipeThrough(new DecompressionStream("gzip"));const o=new Response(i).text();return mt(n,o),o};self.onmessage=e=>{const r=e.data;self.memoryCache===void 0&&(self.memoryCache=new Map);const t=r.showAllLanguages||r.languages.includes(Dr),n=r.richText;let a=.5,s=.5,i=0;const o=(u,l,c,g)=>{const B=l*a+c*s+g*i;postMessage({complete:!1,status:u,progress:B,showId:t,richText:n,results:[]})},f=(u,l=[])=>{postMessage({complete:!0,status:u,progress:1,showId:t,richText:n,results:l})};try{if(o("loading",0,0,0),r.type==="regex"&&!wr(r.query)){f("regex");return}if(r.type==="boolean"){let h=r;const v=Ft(r.query);if(v){const[,F,k,,p]=v;if(!ee.languages.includes(k)||!ee.languages.includes(p)){f("boolean.where");return}h={...r,query:F}}const d=Et(h.query,h.caseInsensitive);if(d!=="success"&&!(v&&d==="empty")){f(`boolean.${d}`);return}}let u=0,l=0;const c=[];if(Object.entries(ee.collections).forEach(([h,v])=>{if(!r.collections.includes(h)||!r.languages.some(p=>v.languages.includes(p)))return;const d=["common","messages","ui"],F=["script","talk"],k=v.structured&&r.showAllLanguages?v.languages:v.languages.filter(p=>r.languages.includes(p)||p===Dr);v.files.forEach(p=>{!r.common&&d.includes(p)||!r.script&&F.includes(p)||(v.structured?c.push({index:u,params:r,collectionKey:h,fileKey:p,languages:k,speaker:v?.speaker,literals:v?.literals}):k.forEach((C,H)=>{c.push({index:u+H,params:r,collectionKey:h,fileKey:p,languages:[C]})}),u+=k.length,l+=k.reduce((C,H)=>C+ +wt(h,H,p),0))})}),c.length===0){f("noMatch");return}l>0&&(a*=(u-l)/u,s*=(1-a)/(s+i),i*=(1-a)/(s+i));let g=0,B=0,x=0;const E=()=>[g/u,B/u,x/c.length],R=h=>(g++,o("loading",...E()),h),T=()=>{B++,o("processing",...E())},L=()=>{x++,o("collecting",...E())};let w=!1,q=!1;const M=[],b=[],S=h=>{if(w)return;const v=h.data;if(v.status==="processing")T();else if(v.status==="done"){if(M.push(v),L(),x===c.length){const d=[];M.sort((p,C)=>p.index-C.index);let F="",k="";M.forEach(({result:p})=>{p.lines.length!==0&&(d.push({...p,displayHeader:p.collection!==F||p.file!==k}),F=p.collection,k=p.file)}),f(q?"network":"done",d),b.forEach(p=>p.terminate())}}else w=!0,f(v.status),b.forEach(d=>d.terminate())},A=Math.max(1,Math.min(c.length,(navigator.hardwareConcurrency||4)-2));for(let h=0;h<A;h++){const v=new ft;v.onmessage=S,v.onerror=()=>{w||(w=!0,f("error"),b.forEach(d=>d.terminate()))},b.push(v)}c.forEach(async(h,v)=>{const d=h.speaker,F=await Promise.all(h.languages.map(C=>kr(h.collectionKey,C,h.fileKey).then(R))),k=d===void 0?void 0:await Promise.all(h.languages.map(C=>kr(h.collectionKey,C,d.file)));if((F.some(C=>C==="")||k&&k.some(C=>C===""))&&(q=!0),w)return;const p={...h,files:F,speakerFiles:k};b[v%b.length].postMessage(p)})}catch(u){console.error(u),f("error")}}})();
