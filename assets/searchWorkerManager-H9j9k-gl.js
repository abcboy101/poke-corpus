(function(){"use strict";var Ze={},yr=function(r,e,t,n,s){var a=new Worker(Ze[e]||(Ze[e]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(i){var l=i.data,h=l.$e$;if(h){var u=new Error(h[0]);u.code=h[1],u.stack=h[2],s(u,null)}else s(null,l)},a.postMessage(t,n),a},C=Uint8Array,R=Uint16Array,ve=Int32Array,te=new C([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ne=new C([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pe=new C([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ke=function(r,e){for(var t=new R(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new ve(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)s[a]=a-t[n]<<5|n;return{b:t,r:s}},Qe=Ke(te,2),qe=Qe.b,me=Qe.r;qe[28]=258,me[258]=28;for(var Je=Ke(ne,0),Xe=Je.b,Me=Je.r,de=new R(32768),F=0;F<32768;++F){var X=(F&43690)>>1|(F&21845)<<1;X=(X&52428)>>2|(X&13107)<<2,X=(X&61680)>>4|(X&3855)<<4,de[F]=((X&65280)>>8|(X&255)<<8)>>1}for(var U=function(r,e,t){for(var n=r.length,s=0,a=new R(e);s<n;++s)r[s]&&++a[r[s]-1];var i=new R(e);for(s=1;s<e;++s)i[s]=i[s-1]+a[s-1]<<1;var l;if(t){l=new R(1<<e);var h=15-e;for(s=0;s<n;++s)if(r[s])for(var u=s<<4|r[s],o=e-r[s],f=i[r[s]-1]++<<o,v=f|(1<<o)-1;f<=v;++f)l[de[f]>>h]=u}else for(l=new R(n),s=0;s<n;++s)r[s]&&(l[s]=de[i[r[s]-1]++]>>15-r[s]);return l},Q=new C(288),F=0;F<144;++F)Q[F]=8;for(var F=144;F<256;++F)Q[F]=9;for(var F=256;F<280;++F)Q[F]=7;for(var F=280;F<288;++F)Q[F]=8;for(var se=new C(32),F=0;F<32;++F)se[F]=5;var er=U(Q,9,0),rr=U(Q,9,1),tr=U(se,5,0),nr=U(se,5,1),we=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},W=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},ye=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},ae=function(r){return(r+7)/8|0},ee=function(r,e,t){return(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length),new C(r.subarray(e,t))},sr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],y=function(r,e,t){var n=new Error(e||sr[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,y),!t)throw n;return n},Oe=function(r,e,t,n){var s=r.length,a=n?n.length:0;if(!s||e.f&&!e.l)return t||new C(0);var i=!t,l=i||e.i!=2,h=e.i;i&&(t=new C(s*3));var u=function(Ce){var Fe=t.length;if(Ce>Fe){var ge=new C(Math.max(Fe*2,Ce));ge.set(t),t=ge}},o=e.f||0,f=e.p||0,v=e.b||0,B=e.l,z=e.d,m=e.m,G=e.n,P=s*8;do{if(!B){o=W(r,f,1);var H=W(r,f+1,3);if(f+=3,H)if(H==1)B=rr,z=nr,m=9,G=5;else if(H==2){var q=W(r,f,31)+257,S=W(r,f+10,15)+4,g=q+W(r,f+5,31)+1;f+=14;for(var c=new C(g),p=new C(19),D=0;D<S;++D)p[pe[D]]=W(r,f+D*3,7);f+=S*3;for(var d=we(p),A=(1<<d)-1,E=U(p,d,1),D=0;D<g;){var L=E[W(r,f,A)];f+=L&15;var j=L>>4;if(j<16)c[D++]=j;else{var M=0,b=0;for(j==16?(b=3+W(r,f,3),f+=2,M=c[D-1]):j==17?(b=3+W(r,f,7),f+=3):j==18&&(b=11+W(r,f,127),f+=7);b--;)c[D++]=M}}var I=c.subarray(0,q),O=c.subarray(q);m=we(I),G=we(O),B=U(I,m,1),z=U(O,G,1)}else y(1);else{var j=ae(f)+4,x=r[j-4]|r[j-3]<<8,w=j+x;if(w>s){h&&y(0);break}l&&u(v+x),t.set(r.subarray(j,w),v),e.b=v+=x,e.p=f=w*8,e.f=o;continue}if(f>P){h&&y(0);break}}l&&u(v+131072);for(var Ee=(1<<m)-1,$=(1<<G)-1,J=f;;J=f){var M=B[ye(r,f)&Ee],T=M>>4;if(f+=M&15,f>P){h&&y(0);break}if(M||y(2),T<256)t[v++]=T;else if(T==256){J=f,B=null;break}else{var N=T-254;if(T>264){var D=T-257,k=te[D];N=W(r,f,(1<<k)-1)+qe[D],f+=k}var K=z[ye(r,f)&$],fe=K>>4;K||y(3),f+=K&15;var O=Xe[fe];if(fe>3){var k=ne[fe];O+=ye(r,f)&(1<<k)-1,f+=k}if(f>P){h&&y(0);break}l&&u(v+131072);var he=v+N;if(v<O){var xe=a-O,Se=Math.min(O,he);for(xe+v<0&&y(3);v<Se;++v)t[v]=n[xe+v]}for(;v<he;++v)t[v]=t[v-O]}}e.l=B,e.p=J,e.b=v,e.f=o,B&&(o=1,e.m=m,e.d=z,e.n=G)}while(!o);return v!=t.length&&i?ee(t,0,v):t.subarray(0,v)},Z=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},ie=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},be=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,a=t.slice();if(!s)return{t:Ie,l:0};if(s==1){var i=new C(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(w,q){return w.f-q.f}),t.push({s:-1,f:25001});var l=t[0],h=t[1],u=0,o=1,f=2;for(t[0]={s:-1,f:l.f+h.f,l,r:h};o!=s-1;)l=t[t[u].f<t[f].f?u++:f++],h=t[u!=o&&t[u].f<t[f].f?u++:f++],t[o++]={s:-1,f:l.f+h.f,l,r:h};for(var v=a[0].s,n=1;n<s;++n)a[n].s>v&&(v=a[n].s);var B=new R(v+1),z=ke(t[o-1],B,0);if(z>e){var n=0,m=0,G=z-e,P=1<<G;for(a.sort(function(q,S){return B[S.s]-B[q.s]||q.f-S.f});n<s;++n){var H=a[n].s;if(B[H]>e)m+=P-(1<<z-B[H]),B[H]=e;else break}for(m>>=G;m>0;){var j=a[n].s;B[j]<e?m-=1<<e-B[j]++-1:++n}for(;n>=0&&m;--n){var x=a[n].s;B[x]==e&&(--B[x],++m)}z=e}return{t:new C(B),l:z}},ke=function(r,e,t){return r.s==-1?Math.max(ke(r.l,e,t+1),ke(r.r,e,t+1)):e[r.s]=t},Ge=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new R(++e),n=0,s=r[0],a=1,i=function(h){t[n++]=h},l=1;l<=e;++l)if(r[l]==s&&l!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=r[l]}return{c:t.subarray(0,n),n:e}},oe=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Le=function(r,e,t){var n=t.length,s=ae(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var a=0;a<n;++a)r[s+a+4]=t[a];return(s+4+n)*8},Re=function(r,e,t,n,s,a,i,l,h,u,o){Z(e,o++,t),++s[256];for(var f=be(s,15),v=f.t,B=f.l,z=be(a,15),m=z.t,G=z.l,P=Ge(v),H=P.c,j=P.n,x=Ge(m),w=x.c,q=x.n,S=new R(19),g=0;g<H.length;++g)++S[H[g]&31];for(var g=0;g<w.length;++g)++S[w[g]&31];for(var c=be(S,7),p=c.t,D=c.l,d=19;d>4&&!p[pe[d-1]];--d);var A=u+5<<3,E=oe(s,Q)+oe(a,se)+i,L=oe(s,v)+oe(a,m)+i+14+3*d+oe(S,p)+2*S[16]+3*S[17]+7*S[18];if(h>=0&&A<=E&&A<=L)return Le(e,o,r.subarray(h,h+u));var M,b,I,O;if(Z(e,o,1+(L<E)),o+=2,L<E){M=U(v,B,0),b=v,I=U(m,G,0),O=m;var Ee=U(p,D,0);Z(e,o,j-257),Z(e,o+5,q-1),Z(e,o+10,d-4),o+=14;for(var g=0;g<d;++g)Z(e,o+3*g,p[pe[g]]);o+=3*d;for(var $=[H,w],J=0;J<2;++J)for(var T=$[J],g=0;g<T.length;++g){var N=T[g]&31;Z(e,o,Ee[N]),o+=p[N],N>15&&(Z(e,o,T[g]>>5&127),o+=T[g]>>12)}}else M=er,b=Q,I=tr,O=se;for(var g=0;g<l;++g){var k=n[g];if(k>255){var N=k>>18&31;ie(e,o,M[N+257]),o+=b[N+257],N>7&&(Z(e,o,k>>23&31),o+=te[N]);var K=k&31;ie(e,o,I[K]),o+=O[K],K>3&&(ie(e,o,k>>5&8191),o+=ne[K])}else ie(e,o,M[k]),o+=b[k]}return ie(e,o,M[256]),o+b[256]},ar=new ve([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ie=new C(0),ir=function(r,e,t,n,s,a){var i=a.z||r.length,l=new C(n+i+5*(1+Math.ceil(i/7e3))+s),h=l.subarray(n,l.length-s),u=a.l,o=(a.r||0)&7;if(e){o&&(h[0]=a.r>>3);for(var f=ar[e-1],v=f>>13,B=f&8191,z=(1<<t)-1,m=a.p||new R(32768),G=a.h||new R(z+1),P=Math.ceil(t/3),H=2*P,j=function(Ye){return(r[Ye]^r[Ye+1]<<P^r[Ye+2]<<H)&z},x=new ve(25e3),w=new R(288),q=new R(32),S=0,g=0,c=a.i||0,p=0,D=a.w||0,d=0;c+2<i;++c){var A=j(c),E=c&32767,L=G[A];if(m[E]=L,G[A]=E,D<=c){var M=i-c;if((S>7e3||p>24576)&&(M>423||!u)){o=Re(r,h,0,x,w,q,g,p,d,c-d,o),p=S=g=0,d=c;for(var b=0;b<286;++b)w[b]=0;for(var b=0;b<30;++b)q[b]=0}var I=2,O=0,Ee=B,$=E-L&32767;if(M>2&&A==j(c-$))for(var J=Math.min(v,M)-1,T=Math.min(32767,c),N=Math.min(258,M);$<=T&&--Ee&&E!=L;){if(r[c+I]==r[c+I-$]){for(var k=0;k<N&&r[c+k]==r[c+k-$];++k);if(k>I){if(I=k,O=$,k>J)break;for(var K=Math.min($,k-2),fe=0,b=0;b<K;++b){var he=c-$+b&32767,xe=m[he],Se=he-xe&32767;Se>fe&&(fe=Se,L=he)}}}E=L,L=m[E],$+=E-L&32767}if(O){x[p++]=268435456|me[I]<<18|Me[O];var Ce=me[I]&31,Fe=Me[O]&31;g+=te[Ce]+ne[Fe],++w[257+Ce],++q[Fe],D=c+I,++S}else x[p++]=r[c],++w[r[c]]}}for(c=Math.max(c,D);c<i;++c)x[p++]=r[c],++w[r[c]];o=Re(r,h,u,x,w,q,g,p,d,c-d,o),u||(a.r=o&7|h[o/8|0]<<3,o-=7,a.h=G,a.p=m,a.i=c,a.w=D)}else{for(var c=a.w||0;c<i+u;c+=65535){var ge=c+65535;ge>=i&&(h[o/8|0]=u,ge=i),o=Le(h,o+1,r.subarray(c,ge))}a.i=i}return ee(l,0,n+ae(o)+s)},or=function(){for(var r=new Int32Array(256),e=0;e<256;++e){for(var t=e,n=9;--n;)t=(t&1&&-306674912)^t>>>1;r[e]=t}return r}(),lr=function(){var r=-1;return{p:function(e){for(var t=r,n=0;n<e.length;++n)t=or[t&255^e[n]]^t>>>8;r=t},d:function(){return~r}}},Pe=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,a=t.length|0,i=0;i!=a;){for(var l=Math.min(i+2655,a);i<l;++i)s+=n+=t[i];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Ae=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),i=new C(a.length+r.length);i.set(a),i.set(r,a.length),r=i,s.w=a.length}return ir(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},br=function(r,e){var t={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n];return t},ur=function(r,e,t){for(var n=r(),s=r.toString(),a=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),i=0;i<n.length;++i){var l=n[i],h=a[i];if(typeof l=="function"){e+=";"+h+"=";var u=l.toString();if(l.prototype)if(u.indexOf("[native code]")!=-1){var o=u.indexOf(" ",8)+1;e+=u.slice(o,u.indexOf("(",o))}else{e+=u;for(var f in l.prototype)e+=";"+h+".prototype."+f+"="+l.prototype[f].toString()}else e+=u}else t[h]=l}return e},ze=[],kr=function(r){var e=[];for(var t in r)r[t].buffer&&e.push((r[t]=new r[t].constructor(r[t])).buffer);return e},zr=function(r,e,t,n){if(!ze[t]){for(var s="",a={},i=r.length-1,l=0;l<i;++l)s=ur(r[l],s,a);ze[t]={c:ur(r[i],s,a),e:a}}var h=br({},ze[t].e);return yr(ze[t].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,h,kr(h),n)},Te=function(){return[C,R,ve,te,ne,pe,qe,Xe,rr,nr,de,sr,U,we,W,ye,ae,ee,y,Oe,Lr,cr,qr]},Ne=function(){return[C,R,ve,te,ne,pe,me,Me,er,Q,tr,se,de,ar,Ie,U,Z,ie,be,ke,Ge,oe,Le,Re,ae,ee,ir,Ae,Or,cr]},jr=function(){return[fr,gr,re,lr,or]},Hr=function(){return[hr,Mr]},xr=function(){return[vr,re,Pe]},Sr=function(){return[pr]},cr=function(r){return postMessage(r,[r.buffer])},qr=function(r){return r&&{out:r.size&&new C(r.size),dictionary:r.dictionary}},V=function(r){return r.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){e.data.length?(r.push(e.data[0],e.data[1]),postMessage([e.data[0].length])):r.flush()}},le=function(r,e,t,n,s,a,i){var l,h=zr(r,n,s,function(u,o){u?(h.terminate(),e.ondata.call(e,u)):Array.isArray(o)?o.length==1?(e.queuedSize-=o[0],e.ondrain&&e.ondrain(o[0])):(o[1]&&h.terminate(),e.ondata.call(e,u,o[0],o[1])):i(o)});h.postMessage(t),e.queuedSize=0,e.push=function(u,o){e.ondata||y(5),l&&e.ondata(y(4,0,1),null,!!o),e.queuedSize+=u.length,h.postMessage([u,l=o],[u.buffer])},e.terminate=function(){h.terminate()},a&&(e.flush=function(){h.postMessage([])})},re=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},fr=function(r,e){var t=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&re(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){r[3]=8;for(var n=0;n<=t.length;++n)r[n+10]=t.charCodeAt(n)}},hr=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&y(6,"invalid gzip data");var e=r[3],t=10;e&4&&(t+=(r[10]|r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},Mr=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},gr=function(r){return 10+(r.filename?r.filename.length+1:0)},vr=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=Pe();s.p(e.dictionary),re(r,2,s.d())}},pr=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&y(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&y(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function ue(r,e){return typeof r=="function"&&(e=r,r={}),this.ondata=e,r}var _=function(){function r(e,t){if(typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new C(98304),this.o.dictionary){var n=this.o.dictionary.subarray(-32768);this.b.set(n,32768-n.length),this.s.i=32768-n.length}}return r.prototype.p=function(e,t){this.ondata(Ae(e,this.o,0,0,this.s),t)},r.prototype.push=function(e,t){this.ondata||y(5),this.s.l&&y(4);var n=e.length+this.s.z;if(n>this.b.length){if(n>2*this.b.length-32768){var s=new C(n&-32768);s.set(this.b.subarray(0,this.s.z)),this.b=s}var a=this.b.length-this.s.z;this.b.set(e.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(a),32768),this.s.z=e.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=t&1,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},r.prototype.flush=function(){this.ondata||y(5),this.s.l&&y(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},r}(),dr=function(){function r(e,t){le([Ne,function(){return[V,_]}],this,ue.call(this,e,t),function(n){var s=new _(n.data);onmessage=V(s)},6,1)}return r}();function Or(r,e){return Ae(r,e||{},0,0)}var Y=function(){function r(e,t){typeof e=="function"&&(t=e,e={}),this.ondata=t;var n=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:n?n.length:0},this.o=new C(32768),this.p=new C(0),n&&this.o.set(n)}return r.prototype.e=function(e){if(this.ondata||y(5),this.d&&y(4),!this.p.length)this.p=e;else if(e.length){var t=new C(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}},r.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,n=Oe(this.p,this.s,this.o);this.ondata(ee(n,t,this.s.b),this.d),this.o=ee(n,this.s.b-32768),this.s.b=this.o.length,this.p=ee(this.p,this.s.p/8|0),this.s.p&=7},r.prototype.push=function(e,t){this.e(e),this.c(t)},r}(),Gr=function(){function r(e,t){le([Te,function(){return[V,Y]}],this,ue.call(this,e,t),function(n){var s=new Y(n.data);onmessage=V(s)},7,0)}return r}();function Lr(r,e){return Oe(r,{i:2},e&&e.out,e&&e.dictionary)}var Ue=function(){function r(e,t){this.c=lr(),this.l=0,this.v=1,_.call(this,e,t)}return r.prototype.push=function(e,t){this.c.p(e),this.l+=e.length,_.prototype.push.call(this,e,t)},r.prototype.p=function(e,t){var n=Ae(e,this.o,this.v&&gr(this.o),t&&8,this.s);this.v&&(fr(n,this.o),this.v=0),t&&(re(n,n.length-8,this.c.d()),re(n,n.length-4,this.l)),this.ondata(n,t)},r.prototype.flush=function(){_.prototype.flush.call(this)},r}(),Rr=function(){function r(e,t){le([Ne,jr,function(){return[V,_,Ue]}],this,ue.call(this,e,t),function(n){var s=new Ue(n.data);onmessage=V(s)},8,1)}return r}(),We=function(){function r(e,t){this.v=1,this.r=0,Y.call(this,e,t)}return r.prototype.push=function(e,t){if(Y.prototype.e.call(this,e),this.r+=e.length,this.v){var n=this.p.subarray(this.v-1),s=n.length>3?hr(n):4;if(s>n.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-n.length);this.p=n.subarray(s),this.v=0}Y.prototype.c.call(this,t),this.s.f&&!this.s.l&&!t&&(this.v=ae(this.s.p)+9,this.s={i:0},this.o=new C(0),this.push(new C(0),t))},r}(),Ir=function(){function r(e,t){var n=this;le([Te,Hr,function(){return[V,Y,We]}],this,ue.call(this,e,t),function(s){var a=new We(s.data);a.onmember=function(i){return postMessage(i)},onmessage=V(a)},9,0,function(s){return n.onmember&&n.onmember(s)})}return r}(),Ve=function(){function r(e,t){this.c=Pe(),this.v=1,_.call(this,e,t)}return r.prototype.push=function(e,t){this.c.p(e),_.prototype.push.call(this,e,t)},r.prototype.p=function(e,t){var n=Ae(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(vr(n,this.o),this.v=0),t&&re(n,n.length-4,this.c.d()),this.ondata(n,t)},r.prototype.flush=function(){_.prototype.flush.call(this)},r}(),Pr=function(){function r(e,t){le([Ne,xr,function(){return[V,_,Ve]}],this,ue.call(this,e,t),function(n){var s=new Ve(n.data);onmessage=V(s)},10,1)}return r}(),$e=function(){function r(e,t){Y.call(this,e,t),this.v=e&&e.dictionary?2:1}return r.prototype.push=function(e,t){if(Y.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(pr(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&y(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Y.prototype.c.call(this,t)},r}(),Tr=function(){function r(e,t){le([Te,Sr,function(){return[V,Y,$e]}],this,ue.call(this,e,t),function(n){var s=new $e(n.data);onmessage=V(s)},11,0)}return r}(),Nr=typeof TextDecoder<"u"&&new TextDecoder,Ur=0;try{Nr.decode(Ie,{stream:!0}),Ur=1}catch{}const ce=r=>{class e{constructor(){this.i=new r,this.i.ondata=(n,s)=>{this.ondata(null,n,s)}}push(n,s){try{this.queuedSize+=n.length,this.i.push(n,s),this.queuedSize-=n.length,this.ondrain&&this.ondrain(n.length)}catch(a){this.ondata(a,null,s||!1)}}}return e};let _e=1;try{new dr().terminate()}catch{_e=0}const Wr=_e?{gzip:Rr,deflate:Pr,"deflate-raw":dr}:{gzip:ce(Ue),deflate:ce(Ve),"deflate-raw":ce(_)},Vr=_e?{gzip:Ir,deflate:Tr,"deflate-raw":Gr}:{gzip:ce(We),deflate:ce($e),"deflate-raw":ce(Y)},Ar=(r,e,t)=>{class n extends r{constructor(a){if(!arguments.length)throw new TypeError(`Failed to construct '${t}': 1 argument required, but only 0 present.`);const i=e[a];if(!i)throw new TypeError(`Failed to construct '${t}': Unsupported compression format: '${a}'`);let l=new i,h;super({start:u=>{l.ondata=(o,f,v)=>{o?u.error(o):f&&(u.enqueue(f),v&&(h?h():u.terminate()))}},transform:u=>{if(u instanceof ArrayBuffer)u=new Uint8Array(u);else if(ArrayBuffer.isView(u))u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);else throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");if(l.push(u),l.queuedSize>=32768)return new Promise(o=>{l.ondrain=()=>{l.queuedSize<32768&&o()}})},flush:()=>new Promise(u=>{h=u,l.push(new Uint8Array(0),!0)})},{size:u=>u.byteLength|0,highWaterMark:65536},{size:u=>u.byteLength|0,highWaterMark:65536})}}return n};function $r(r){return Ar(r,Wr,"CompressionStream")}function _r(r){return Ar(r,Vr,"DecompressionStream")}const je=typeof globalThis>"u"?typeof self>"u"?typeof global>"u"?{}:global:self:globalThis;typeof je.CompressionStream>"u"&&(je.CompressionStream=$r(TransformStream)),typeof je.DecompressionStream>"u"&&(je.DecompressionStream=_r(TransformStream));var Yr={languages:["qid","ja-Hrkt","ja","en","en-GB","fr","it","de","es","es-419","ko","zh-Hans","zh-Hans-CN","zh-Hant","pt-BR","th","ru","tr","id","hi"],collections:{Red:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},RubySapphire:{id:"rs",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.1",en:"1.2",fr:"1.1",it:"1.1",de:"1.1",es:"1.1"},files:["msg"],literals:{KUN:{branch:"gender",line:[12348,12349]},VERSION:{branch:"version",line:[12351,12350]},EVIL_TEAM:{branch:"version",line:[12353,12352]},GOOD_TEAM:{branch:"version",line:[12352,12353]},EVIL_LEADER:{branch:"version",line:[12355,12354]},GOOD_LEADER:{branch:"version",line:[12354,12355]},EVIL_LEGENDARY:{branch:"version",line:[12357,12356]},GOOD_LEGENDARY:{branch:"version",line:[12356,12357]},RIVAL:{branch:"gender",line:[12359,12358]}}},FireRedLeafGreen:{id:"frlg",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.0",en:"1.1",fr:"1.0",it:"1.0",de:"1.0",es:"1.0"},files:["msg"],literals:{KUN:{branch:"gender",line:[9351,9352]}}},Emerald:{id:"e",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:"1.0",files:["msg"],literals:{KUN:{branch:"gender",line:[15105,15106]},VERSION:{line:15109},EVIL_TEAM:{line:15110},GOOD_TEAM:{line:15111},EVIL_LEADER:{line:15112},GOOD_LEADER:{line:15113},EVIL_LEGENDARY:{line:15114},GOOD_LEGENDARY:{line:15115},RIVAL:{branch:"gender",line:[15117,15116]}}},DiamondPearl:{id:"dp",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid","ja-Hrkt","en","fr","it","de","es","ko"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hans-CN","zh-Hant"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Stadium:{id:"stad",languages:["qid","en","fr","it","de","es"],structured:!0,files:["msg"]},Stadium2:{id:"stad2",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,files:["msg"]},Box:{id:"box",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,files:["message"]},Colosseum:{id:"colo",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,version:{ja:"0/1/2",en:"0","en-GB":"0",fr:"0",it:"0",de:"0",es:"0"},files:["message"],literals:{'"No."':{branch:"language",line:{ja:992,en:993,"en-GB":993,de:994,fr:995,es:996,it:997}},'"Lv."':{branch:"language",line:{ja:998,en:999,"en-GB":999,de:1e3,fr:1001,es:1002,it:1003}},'"HP"':{branch:"language",line:{ja:1036,en:1037,"en-GB":1037,de:1038,fr:1039,es:1040,it:1041}},'"PP"':{branch:"language",line:{ja:1042,en:1043,"en-GB":1043,de:1044,fr:1045,es:1046,it:1047}}}},Ranch:{id:"ranch",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,version:{"ja-Hrkt":"258",en:"256","en-GB":"1",fr:"1",it:"1",de:"1",es:"1"},files:["msg"]},Bank:{id:"bank",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.2.1",files:["megaturtle"]},GO:{id:"go",languages:["qid","ja","en","fr","it","de","es","es-419","ko","zh-Hant","pt-BR","th","ru","tr","id","hi"],structured:!0,softWrap:!0,files:["text"]},Masters:{id:"masters",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hant"],structured:!0,softWrap:!0,files:["messages","talk","ui"]}}};const Br="qid",Be=Yr;var Zr=[["805868F0",451848],["FE0A4516",184505],["0E6B4AFC",186358],["38089687",184678],["C8E18522",192736],["AC075F40",185187],["BC8E428D",451830],["E0EDED5F",452016],["AE888233",184382],["42CE5E23",186162],["49A1D761",184638],["E6BE2C39",192693],["EEE6AA0B",184987],["D0A898D8",914491],["B4916E10",247699],["9353A098",247605],["01E40379",247360],["B9271014",255341],["7A3C7531",247525],["93D27A9D",853930],["50D2D70E",371161],["297D48D7",423562],["9E40D227",443434],["7E45FF40",433301],["E53FA927",443211],["DB38E4EE",716552],["F5DB65C4",853759],["CB8106C0",371328],["847BC0BC",423799],["F4F9E121",443569],["31E85F86",433496],["CCEB35BA",443147],["B5AC5376",716517],["C258E1C0",1188380],["AA0CCAD6",516532],["061F929E",583183],["9EB0BB7D",617996],["3154E257",605519],["287D9986",626416],["1B6B811F",56247],["47F479B5",219921],["E98655B9",240723],["A5BA82AE",251904],["66BF6AE1",243507],["24BE0C34",265357],["48268292",253204],["15DA0A67",80381],["B5C9124E",206414],["D50DFB6F",212463],["8BDC97A0",209249],["7F5DBF9C",203357],["BAFD4554",223099],["79526023",209842],["464B1550",105715],["51475FA2",326267],["C1B05D7D",337789],["B91D2631",351308],["3F0AD689",343626],["812A1AB9",378330],["AA61A5BF",362267],["2B0D4B93",43358],["5904163D",376708],["EDD0E9E7",388614],["127039EB",388665],["D5FDB9AE",400933],["C7B1655B",389346],["1EFE3353",417115],["63F8BA72",391961],["ECFF31F9",360643],["3A1A9B1D",65345],["598865DB",612597],["9FC7F04F",658341],["724DB29C",658264],["064910D4",684430],["85A41B08",667743],["F0A6E5C4",718659],["C2700D4A",670855],["FEEB02C7",619191],["4D550F2C",73843],["5A4CAD20",706150],["24945ACB",647415],["5C256E39",661940],["A0E65FD8",661900],["1853AD06",741198],["F1A542E7",663250],["F486A32C",641976],["9C34BDCD",74122],["B7574077",14277],["F995C30A",418914],["9D60674E",238161],["30FC1626",431312],["0F0B9315",251501],["2BD96831",427975],["B2A835DB",231433],["C25D8FD2",440869],["B4D5380B",253667],["19CCEDE0",435286],["A7392F1D",238116],["21A4F991",471647],["F5456BBE",286258],["319F6C84",434313],["D35D93AA",255061],["3202D6A1",432445],["5821F1C6",228581],["8098B211",108529],["DA8465B6",23285],["D986A44C",689295],["D26EF998",345597],["6788D3EB",725690],["D853AAFB",366512],["809A966C",661231],["71BD1A82",321837],["A7E66C77",686073],["6263F6C4",364277],["1C541F50",676483],["80392CBD",345983],["8C28A3B1",743806],["5C726113",400249],["E4D9A8A1",709524],["F010E441",388964],["611CB7AE",654063],["270BED6B",326680],["F9AC014E",41653],["7CBC93B4",13564],["5D77F2D3",290600],["19096712",193156],["99B3AF25",304677],["7EF08E1A",204728],["DCB617AB",309647],["33EF4A6B",218185],["B199F277",317847],["E4933814",237126],["C3A6023B",305573],["34ECA43C",204825],["4E05F7C3",331242],["B9A4C5A5",249282],["719F6CF7",336580],["D4C5FC1F",253405],["B779A7AA",293411],["AB306EB4",193921],["D0453ADC",52057],["A49819C8",20978],["D5E64271",361359],["81DC14F2",251358],["607BD37E",380246],["79364FB4",267071],["C6F7E9BB",391949],["55CB3423",261236],["F3C1F5D1",412072],["A445144E",275169],["04BED485",395485],["32F9174D",249289],["4C011AA6",431932],["3B6F2B5D",311428],["A159FCC1",426053],["EFBA305C",281565],["9727DB13",363094],["00F9CD07",247291],["66850A84",49635],["F7C003F5",19275],["D6E2E088",251306],["3A9A986B",221524],["FC0C8ADD",262055],["3155AD9B",234129],["36A24DD7",264111],["7DE90361",266183],["B1B911A6",281427],["D154C0F5",292914],["914BC9E8",269703],["FCB58A19",255431],["73318A95",286031],["1DACFB2B",294363],["E024B96B",284632],["0482085E",291207],["DBACF489",250082],["9EEA28B7",220906],["6C6BDA9A",248873],["615402EC",225468],["E7763E5F",251831],["DCF080B4",228710],["E9064BC7",57142],["515C63BC",30391],["B029ECEF",287029],["D7459F7B",351512],["C2849705",299536],["76226F39",371546],["925DA459",304276],["1332A7BF",417674],["1E24F599",322366],["08238B58",462128],["72449731",311083],["4DC4D0F7",410852],["2A36BB82",331386],["B6CCB707",473448],["485DE0B0",327958],["B0BDACD1",465944],["ECDEB54B",285212],["6046FCAE",351632],["8015D11D",285461],["B97E3074",357817],["291B1F2D",289137],["C47A8D10",363279],["56BFFE84",70001],["0F56A27C",17961],["78D61CE1",188757],["3046EC50",91141],["AB01F4D4",195222],["EAEAC744",96916],["7BDB3096",185660],["A731DF7B",98146],["79D3F3B5",196364],["90DADB7E",112741],["3CD179DB",189954],["3CA333A8",100965],["8D12AA04",201217],["DE0762F4",122416],["C3639674",195797],["3449002C",112911],["D23A1D38",186937],["70B92862",92474],["920D68A3",183962],["38CB3189",99595],["4A2AF0BD",183355],["0C39B49A",99105],["9CFCB04F",185584],["24056C87",98436],["F88C7D51",109707],["D06EC6B0",47268],["BC465CEB",327255],["DABDD117",249057],["DB6499F8",343106],["A1E9A260",263024],["2E39FF52",353598],["D72D5490",301521],["E97E3DEA",360374],["C14BE010",316566],["B243A50B",354609],["6DD06B2E",294483],["71E64CE2",374758],["B755DFD7",338573],["D675ED02",354540],["C109C728",315868],["099C8225",334519],["ACBD302C",263043],["CAAB3D17",340926],["3239020C",280033],["94E2F348",339910],["7DD6502E",283225],["A3C49BBF",99393],["87647E62",438279],["9616FC8D",459527],["A2BCEA38",441003],["224162EA",473430],["1B465C57",456582],["FF560BEE",502888],["690BFF6E",465097],["1C088BF9",412634],["BDB8EF03",416941],["EC2A02E5",430970],["868957D1",74049],["A142B3F1",24108],["AE7A3398",217519],["5F77F1A4",230194],["C7DC5911",212569],["EFC20517",250558],["B1E9377A",212889],["C74A122A",247223],["D054DE70",207469],["CE8B0601",241619],["ED88D7E1",217691],["FC76E487",250690],["D766E68F",209904],["0B78B3D6",250516],["7707196A",196581],["D6E20DF4",198422],["AEE9875F",197067],["7F1BE555",196414],["2E5BAC17",197521],["1365CBAA",206782],["9D22F3E2",142866],["1D2F4BF3",71136],["B38DE6C7",428923],["C0C91D78",523598],["99B6F5E4",400940],["D1F7D9A3",527195],["DB66385A",410479],["8D9AFC15",540864],["2A68B3C4",396595],["E0AC173E",500289],["300A80E9",415883],["23719FF4",547694],["B53002F4",401220],["14C7FDE3",535541],["B6B8EBAE",376872],["6D12C9E1",440546],["EDD3DC38",377240],["B2485F5C",432631],["A12D9827",380373],["4C32D9D0",449342],["C3E5FB9D",4339],["8F488338",26442],["C0CC6C78",27488],["C000BF76",26723],["5D8671DF",30377],["38FA9F65",28212],["A8F362C0",43636],["3BF95355",213995],["8B89062A",189456],["BD1820D9",174259],["40824263",181488],["38D29549",211516],["CDD1322A",188971],["9920B1E3",3505],["CCD878B1",11682],["CC445D0F",10530],["A01D9E8C",10488],["3B409C23",11138],["0B197BEA",10982],["4452D813",11317],["D958ECBF",11107],["EA1432F5",14904],["CA9CD9BD",185298],["E266968F",191903],["97ECABBA",187664],["87A27B31",197388],["04872EBD",196569],["8E557D83",204124],["1605EDD5",197879],["26D93D24",11886],["95CC0171",294807],["C46156B1",261280],["9EA398A5",234498],["68062841",229744],["656E796C",230208],["A80BEC67",254904],["A190FDDD",241132],["3356A778",27511],["F8317CFE",168076],["F71850AB",154401],["E554DABC",154242],["C7E7F875",160914],["2C56E000",156325],["A55CCB2E",163853],["DE9A5332",149658],["4028E267",10276],["38B7948A",85967],["B3B75E50",63779],["34A6C0E7",63992],["F1318B98",68269],["CA1ADAA3",67235],["12F3987F",68652],["0E2E5E91",66187],["8EA29A66",28943],["A6D0F48B",252507],["BA9443EB",266550],["886D0304",287489],["606FC990",290952],["DC096C52",284717],["A25EDA41",300791],["B5DC512F",288797],["41303CFE",254545],["BF4FC8A0",260380],["7DEBD604",262359],["2439FD69",119685],["45B39AA0",695517],["178F33F9",724549],["34E25F98",770042],["9A31C8AB",773486],["2B197D76",756785],["6CBB2A0F",817937],["64A00033",763166],["B2E49CB7",695621],["DE6516AD",711468],["42A2B796",713699],["4B2C152B",135890],["289B768D",460621],["5442677E",482891],["9222F136",524234],["59B60C11",513473],["F319985B",538264],["83F31E70",519365],["788C1A2F",511526],["95393657",439448],["D67871DF",458549],["A7658A65",508491],["A19C481F",596049],["57FF5B86",620114],["C4F8B40A",503759],["A06AC598",452148],["3DB5C781",611395],["9C563962",116829],["936CFF4B",175051],["6A5CCEE5",12247],["729B1F12",307313],["92A3038B",1455263],["3DF63185",60205],["71A86535",294271],["AB4A2952",1437661],["A3E4EEFF",61216],["6DA23890",319354],["3B4D25F5",1629046],["EC26ED52",66682],["3B21C0A1",305845],["3EFD4F1C",1496800],["147EB9E3",63223],["88939CA8",321695],["FF750C35",1682710],["9DB6A189",66994],["1C40D0AC",315335],["45E9C890",1622544],["9EDB5872",64743],["C630BF93",290094],["82A550E1",1372231],["C5336463",56293],["AFCA235D",295966],["716469D0",1459759],["243AF136",54263]];const Dr=(r,e,t)=>`corpus/${r}/${e}_${t}.txt.gz`,Er=r=>"/poke-corpus/"+r,Kr=async(r,e,t)=>{const n=Er(t),[s,a]=await nt(e,t);if(a?.hash===s.hash||!navigator.onLine&&a?.hash!==void 0){const l=await it(r,n);if(l!==void 0)return l}const i=await fetch(n);return await ot(r,n,i).then(async l=>{l&&await tt(e,t)}),i},Qr=r=>{const e=Er(r);return fetch(e)},Cr=Zr,Fr=Object.fromEntries(Object.entries(Be.collections).flatMap(([r,e])=>e.languages.flatMap(t=>e.files.map(n=>Dr(r,t,n)))).map((r,e)=>[r,{hash:Cr[e][0],size:Cr[e][1]}])),Jr="corpus",De="files",Xr=()=>{const r=indexedDB.open(Jr);return new Promise((e,t)=>{r.onupgradeneeded=()=>{r.result.createObjectStore(De),r.transaction!==null&&(r.transaction.oncomplete=()=>{console.log("Created object store")})},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})},et=r=>Fr[r],rt=(r,e)=>{const s=r.transaction([De],"readonly").objectStore(De).get(e);return new Promise((a,i)=>{s.onsuccess=()=>a(s.result),s.onerror=()=>i(s.error)})},tt=(r,e)=>{const s=r.transaction([De],"readwrite").objectStore(De).put(Fr[e],e);return new Promise((a,i)=>{s.onsuccess=()=>a(s.result===e),s.onerror=()=>i(s.error)})},nt=async(r,e)=>[et(e),await rt(r,e)],st="corpus",at=async()=>await caches.open(st),it=async(r,e)=>{try{const t=await r.match(e);return t}catch(t){console.error(t);return}},ot=async(r,e,t)=>{try{return await r.put(e,t.clone()),!0}catch(n){return console.error(n),!1}};function lt(r){return new Worker("/poke-corpus/assets/searchWorker-tOlyl36r.js",{name:r?.name})}const ut=r=>({success:!0,postfix:r}),He=r=>({success:!1,message:r}),ct=r=>r.replaceAll("\\\\","󰄀").replaceAll("\\(","󰄈").replaceAll("\\)","󰄉").replaceAll('\\"',"󰆀"),mr=r=>r.replaceAll("󰄈","(").replaceAll("󰄉",")").replaceAll("󰆀",'"').replaceAll("󰄀","\\\\");function ft(r){r=ct(r);const e=r.split(/(\b(?:NOT|AND|OR)\b|\\?["()])/u).filter(a=>a.length>0),t=[],n=[];let s=!1;for(const a of e){const i=a.trim();if(s&&i!=='"'){n[n.length-1]+=a;continue}switch(i){case"NOT":t.push(i);break;case"AND":case"OR":for(;t[t.length-1]!=="("&&(t[t.length-1]==="NOT"||t[t.length-1]==="AND"&&i==="OR"||i==t[t.length-1]);)n.push(t.pop());t.push(i);break;case'"':if(!s)t.push(i),s=!0,n.push("");else if(t[t.length-1]==='"')for(t.pop(),n.push(`"${n.pop()}"`),s=!1;t[t.length-1]==="NOT";)n.push(t.pop());break;case"(":t.push(i);break;case")":for(;t[t.length-1]!=="(";){if(t.length===0)return He("parentheses");n.push(t.pop())}if(t[t.length-1]!=="(")return He("parentheses");for(t.pop();t[t.length-1]==="NOT";)n.push(t.pop());break;default:i.length>0&&n.push(i)}}for(;t.length>0;){if(t[t.length-1]==="(")return He("parentheses");if(t[t.length-1]==='"')return He("quote");n.push(t.pop())}return ut(n)}function ht(r,e){const t=[];for(const n of e)switch(n){case"NOT":{const s=t.pop();t.push(a=>!s(a));break}case"AND":{const s=t.pop(),a=t.pop();t.push(i=>a(i)&&s(i));break}case"OR":{const s=t.pop(),a=t.pop();t.push(i=>a(i)||s(i));break}default:if(n.startsWith('"')&&n.endsWith('"')){const s=mr(n.substring(1,n.length-1));if(!r.caseInsensitive)t.push(a=>a.includes(s));else{const a=s.toLowerCase(),i=s.toUpperCase();t.push(l=>l.toLowerCase().includes(a)||l.toUpperCase().includes(i))}}else{const s=mr(n).split(/\s+/);if(!r.caseInsensitive)t.push(a=>s.every(i=>a.includes(i)));else{const a=s.map(l=>l.toLowerCase()),i=s.map(l=>l.toUpperCase());t.push(l=>s.every((h,u)=>l.toLowerCase().includes(a[u])||l.toUpperCase().includes(i[u])))}}}for(;t.length>1;){const n=t.pop(),s=t.pop();t.push(a=>s(a)&&n(a))}return t.pop()}function gt(r){const e=ft(r.query);if(!e.success)return e.message;try{const t=ht(r,e.postfix);return t===void 0?"empty":(t(""),"success")}catch{return"operand"}}const wr=async(r,e,t)=>{const n=Dr(r,e,t);let s;try{if("caches"in self&&"indexedDB"in self&&"databases"in self.indexedDB){const i=await at(),l=await Xr();s=await Kr(i,l,n),l.close()}else s=await Qr(n)}catch(i){return console.error(i),""}const a=(await s.blob()).stream();return new Response(a.pipeThrough(new DecompressionStream("gzip"))).text()};self.onmessage=r=>{const e=r.data,t=e.showAllLanguages||e.languages.includes(Br),n=e.richText,s=.5,a=.5,i=0,l=(u,o,f,v)=>{const B=o*s+f*a+v*i;postMessage({complete:!1,status:u,progress:B,showId:t,richText:n,results:[]})},h=(u,o=[])=>{postMessage({complete:!0,status:u,progress:1,showId:t,richText:n,results:o})};try{l("loading",0,0,0);try{e.type==="regex"&&new RegExp(e.query,e.caseInsensitive?"ui":"u")}catch(g){console.error(g),h("regex");return}if(e.type==="boolean"){let g=e;const c=/(.*)\bWHERE\s+([A-Za-z_-]+)\s*(=|==|<>|!=)\s*([A-Za-z_-]+)$/u.exec(e.query);if(c){const[,D,d,,A]=c;if(!Be.languages.includes(d)||!Be.languages.includes(A)){h("boolean.where");return}g={...e,query:D}}const p=gt(g);if(p!=="success"&&!(c&&p==="empty")){console.error(p),h(`boolean.${p}`);return}}let u=0;const o=[];if(Object.keys(Be.collections).filter(g=>e.collections.includes(g)).forEach(g=>{const c=Be.collections[g];if(e.languages.every(d=>!c.languages.includes(d)))return;const p=["common","messages","ui"],D=["script","talk"];c.files.filter(d=>!(p.includes(d)&&!e.common||D.includes(d)&&!e.script)).forEach(d=>{const A=c.structured&&e.showAllLanguages?c.languages:c.languages.filter(E=>e.languages.includes(E)||E===Br);c.structured?o.push({index:u,params:e,collectionKey:g,fileKey:d,languages:A,speaker:c?.speaker,literals:c?.literals}):A.forEach((E,L)=>{o.push({index:u+L,params:e,collectionKey:g,fileKey:d,languages:[E]})}),u+=A.length})}),o.length===0){h("noMatch");return}let f=0,v=0,B=0;const z=()=>[f/u,v/u,B/o.length],m=g=>(f++,l("loading",...z()),g),G=()=>{v++,l("processing",...z())},P=()=>{B++,l("collecting",...z())};let H=!1,j=!1;const x=[],w=[],q=g=>{if(H)return;const c=g.data;if(c.status==="processing")G();else if(c.status==="done"){if(x.push(c),P(),B===o.length){const p=[];x.sort((A,E)=>A.index-E.index);let D="",d="";x.map(A=>A.result).filter(({lines:A})=>A.length>0).forEach(A=>{p.push({...A,displayHeader:A.collection!==D||A.file!==d}),D=A.collection,d=A.file}),h(j?"network":"done",p),w.forEach(A=>A.terminate())}}else H=!0,h(c.status),w.forEach(p=>p.terminate())},S=Math.max(1,Math.min(o.length,(navigator.hardwareConcurrency||4)-2));for(let g=0;g<S;g++){const c=new lt;c.onmessage=q,c.onerror=()=>{H||(H=!0,h("error"),w.forEach(p=>p.terminate()))},w.push(c)}o.forEach(async(g,c)=>{const p=g.speaker,D=await Promise.all(g.languages.map(E=>wr(g.collectionKey,E,g.fileKey).then(m))),d=p===void 0?void 0:await Promise.all(g.languages.map(E=>wr(g.collectionKey,E,p.file)));if((D.some(E=>E==="")||d&&d.some(E=>E===""))&&(j=!0),H)return;const A={...g,files:D,speakerFiles:d};w[c%w.length].postMessage(A)})}catch(u){console.error(u),h("error")}}})();
