const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CacheManager-D3duLOvH.js","assets/vendor-C0iXxd-T.js","assets/react-dom-CwkuqcRR.js","assets/i18n-en-84MEhzKe.js","assets/CacheManager-DXJ-4Lin.css"])))=>i.map(i=>d[i]);
import{u as w,r as p,j as a,i as V,B as es,a as ss,b as ns,E as le,R as as}from"./vendor-C0iXxd-T.js";import{R as ts}from"./react-dom-CwkuqcRR.js";import{t as ls,i as rs,f as cs,l as os,c as is,a as us}from"./i18n-en-84MEhzKe.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();const ps="modulepreload",ds=function(e){return"/poke-corpus/"+e},fe={},_=function(n,s,t){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");l=Promise.allSettled(s.map(d=>{if(d=ds(d),d in fe)return;fe[d]=!0;const h=d.endsWith(".css"),D=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${D}`))return;const i=document.createElement("link");if(i.rel=h?"stylesheet":ps,h||(i.as="script"),i.crossOrigin="",i.href=d,u&&i.setAttribute("nonce",u),document.head.appendChild(i),h)return new Promise((F,B)=>{i.addEventListener("load",F),i.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return l.then(c=>{for(const u of c||[])u.status==="rejected"&&r(u.reason);return n().catch(r)})};function gs(e={}){const{immediate:n=!1,onNeedRefresh:s,onOfflineReady:t,onRegistered:l,onRegisteredSW:r,onRegisterError:c}=e;let u,d;const h=async(i=!0)=>{await d};async function D(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:i}=await import("./workbox-window.prod.es5-DL_hIMXg.js");return{Workbox:i}},[]).then(({Workbox:i})=>new i("/poke-corpus/sw.js",{scope:"/poke-corpus/",type:"classic"})).catch(i=>{c?.(i)}),!u)return;u.addEventListener("activated",i=>{(i.isUpdate||i.isExternal)&&window.location.reload()}),u.addEventListener("installed",i=>{i.isUpdate||t?.()}),u.register({immediate:n}).then(i=>{r?r("/poke-corpus/sw.js",i):l?.(i)}).catch(i=>{c?.(i)})}}return d=D(),h}const Ae=e=>e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&");function N(e){try{return localStorage.getItem(e)}catch{return null}}function M(e,n){try{localStorage.setItem(e,n)}catch{return}}const ke=["system","light","dark"],Pe=e=>ke.some(n=>e===n),hs=e=>typeof e=="string"&&Pe(e)?e:"system",Ie=()=>hs(N("mode")),re=500,fs=e=>typeof e=="number"&&!Number.isNaN(e)&&Number.isInteger(e)&&e>0,As=()=>{const e=+(N("corpus-limit")??re);return Number.isNaN(e)?re:e},ms=()=>N("corpus-richText")!=="false",me=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function Fs(e){const n=Math.min(Math.floor((e.toString().length-1)/3),me.length-1),s={style:"unit",unit:me[n],unitDisplay:n===0?"long":"short",minimumFractionDigits:n===0?0:1,maximumFractionDigits:1,maximumSignificantDigits:3,roundingPriority:"lessPrecision"};return[e/Math.pow(1e3,n),s]}function Es(e){const[n,s]=Fs(e);return{amount:n,formatParams:{amount:s}}}function bs(e,n=1){return[e,{style:"percent",minimumFractionDigits:n,maximumFractionDigits:n}]}function _s(e,n=1){const[s,t]=bs(e,n);return{amount:s,formatParams:{amount:t}}}const Ds=[{code:"en",name:"English (United States)"},{code:"en-GB",name:"English (United Kingdom)"},{code:"ja",name:"日本語"},{code:"de",name:"Deutsch"},{code:"fr",name:"Français (France)"},{code:"fr-CA",name:"Français (Canada)"},{code:"es",name:"Español (España)"},{code:"it",name:"Italiano"},{code:"ko",name:"한국어"},{code:"zh-Hans",name:"简体中文"},{code:"zh-Hant",name:"繁体中文"},{code:"foo",name:"繁体中文"}];function Cs({showModal:e,richText:n,richTextRef:s,limit:t,limitRef:l}){const{t:r}=w(),[c,u]=p.useState(Ie),d=i=>{V.changeLanguage(i.target.value,F=>{F&&F.some(B=>!B.message.includes("Unknown variable dynamic import"))&&(console.log(F),e({message:r("options.network"),buttons:[{message:a.jsx(Ne,{}),autoFocus:!0}]}))}).catch(F=>{console.error(F)})},h=i=>{const F=i.target.value;Pe(F)&&(u(F),M("mode",F),document.body.classList.replace(`mode-${c}`,`mode-${F}`))},D=i=>{const F=i.target.value;(F==="true"||F==="false")&&M("corpus-longURL",F)};return a.jsx("div",{className:"options",children:a.jsxs("div",{className:"options-grid",children:[a.jsx("label",{htmlFor:"language",children:r("options.language")}),a.jsx("select",{name:"language",id:"language",onChange:d,defaultValue:V.language,autoFocus:!0,children:Ds.map(i=>a.jsx("option",{value:i.code,lang:i.code,children:i.name},i.code))}),a.jsx("label",{htmlFor:"mode",children:r("options.mode")}),a.jsx("select",{name:"mode",id:"mode",onChange:h,defaultValue:c,children:ke.map(i=>a.jsx("option",{value:i,children:r(`options.modes.${i}`)},i))}),a.jsx("label",{htmlFor:"longURL",children:r("options.longURL")}),a.jsx("select",{name:"longURL",id:"longURL",onChange:D,defaultValue:N("corpus-longURL")??"false",children:["true","false"].map(i=>a.jsx("option",{value:i,children:r(`options.longURLSelect.${i}`)},i))}),a.jsx("label",{htmlFor:"richText",children:r("options.richText")}),a.jsx("select",{ref:s,name:"richText",id:"richText",defaultValue:n?"true":"false",children:["true","false"].map(i=>a.jsx("option",{value:i,children:r(`options.richTextSelect.${i}`)},i))}),a.jsx("label",{htmlFor:"limit",children:r("options.limit")}),a.jsx("input",{ref:l,type:"number",name:"limit",id:"limit",min:1,defaultValue:t})]})})}function Ne(){const{t:e}=w();return e("options.close")}function Bs(e){const{t:n}=w(),{showModal:s,setRichText:t,setLimit:l}=e,r=p.useRef(null),c=p.useRef(null),u=()=>{p.startTransition(()=>{if(r.current!==null){const h=r.current.value;(h==="true"||h==="false")&&(M("corpus-richText",h),t(h!=="false"))}if(c.current!==null){const h=c.current.valueAsNumber;fs(h)&&(M("corpus-limit",h.toString()),l(h))}})},d={classes:["modal-options"],message:a.jsx(Cs,{...e,richTextRef:r,limitRef:c}),buttons:[{message:a.jsx(Ne,{}),callback:u}],cancelCallback:u};return a.jsxs("button",{className:"header-options",onClick:()=>{s(d)},children:[a.jsx("svg",{className:"icon",children:a.jsx("use",{href:"sprites.svg#gear"})}),n("options.options")]})}function vs(e){return new Worker("/poke-corpus/assets/searchWorkerManager-Bspze5DF.js",{name:e?.name})}const js=["error","regex","noMatch","network","boolean.parentheses","boolean.regex","boolean.slash","boolean.quote","boolean.operand","boolean.empty","boolean.where"],Ve=["loading","processing","collecting"],$s={languages:["qid","ja-Hrkt","ja","en","en-GB","fr","it","de","es","es-419","ko","zh-Hans","zh-Hans-CN","zh-Hant","pt-BR","th","ru","tr","id","hi"],collections:{Red:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},RubySapphire:{id:"rs",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.1",en:"1.2",fr:"1.1",it:"1.1",de:"1.1",es:"1.1"},files:["msg"],literals:{KUN:{branch:"gender",line:[12348,12349]},VERSION:{branch:"version",line:[12351,12350]},EVIL_TEAM:{branch:"version",line:[12353,12352]},GOOD_TEAM:{branch:"version",line:[12352,12353]},EVIL_LEADER:{branch:"version",line:[12355,12354]},GOOD_LEADER:{branch:"version",line:[12354,12355]},EVIL_LEGENDARY:{branch:"version",line:[12357,12356]},GOOD_LEGENDARY:{branch:"version",line:[12356,12357]},RIVAL:{branch:"gender",line:[12359,12358]}}},FireRedLeafGreen:{id:"frlg",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.0",en:"1.1",fr:"1.0",it:"1.0",de:"1.0",es:"1.0"},files:["msg"],literals:{KUN:{branch:"gender",line:[9351,9352]}}},Emerald:{id:"e",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:"1.0",files:["msg"],literals:{KUN:{branch:"gender",line:[15105,15106]},VERSION:{line:15109},EVIL_TEAM:{line:15110},GOOD_TEAM:{line:15111},EVIL_LEADER:{line:15112},GOOD_LEADER:{line:15113},EVIL_LEGENDARY:{line:15114},GOOD_LEGENDARY:{line:15115},RIVAL:{branch:"gender",line:[15117,15116]}}},DiamondPearl:{id:"dp",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid","ja-Hrkt","en","fr","it","de","es","ko"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hans-CN","zh-Hant"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Stadium:{id:"stad",languages:["qid","en","fr","it","de","es"],structured:!0,files:["msg"]},Stadium2:{id:"stad2",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,files:["msg"]},Box:{id:"box",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,files:["message"]},Colosseum:{id:"colo",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,version:{ja:"0/1/2",en:"0","en-GB":"0",fr:"0",it:"0",de:"0",es:"0"},files:["message"],literals:{'"No."':{branch:"language",line:{ja:992,en:993,"en-GB":993,de:994,fr:995,es:996,it:997}},'"Lv."':{branch:"language",line:{ja:998,en:999,"en-GB":999,de:1e3,fr:1001,es:1002,it:1003}},'"HP"':{branch:"language",line:{ja:1036,en:1037,"en-GB":1037,de:1038,fr:1039,es:1040,it:1041}},'"PP"':{branch:"language",line:{ja:1042,en:1043,"en-GB":1043,de:1044,fr:1045,es:1046,it:1047}}}},Ranch:{id:"ranch",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,version:{"ja-Hrkt":"258",en:"256","en-GB":"1",fr:"1",it:"1",de:"1",es:"1"},files:["msg"]},Bank:{id:"bank",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:{megaturtle_nx:"3.2.1"},files:["megaturtle_nx","megaturtle_sp"]},GO:{id:"go",languages:["qid","ja","en","fr","it","de","es","es-419","ko","zh-Hant","pt-BR","th","ru","tr","id","hi"],structured:!0,softWrap:!0,files:["text"]},Masters:{id:"masters",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hant"],structured:!0,softWrap:!0,files:["messages","talk","ui"]}}},H="qid",Rs="zxx",$=$s,k=Object.keys($.collections),xs=Object.entries($.collections),Ls=e=>k.some(n=>e===n),Ss=e=>$.languages.some(n=>e===n),q=["exact","regex","boolean","all"],pe=e=>q.some(n=>e===n),Oe={id:"",file:"",query:"",type:"all",caseInsensitive:!0,common:!0,script:!0,showAllLanguages:!0,collections:k.filter(e=>$.collections[e].structured),languages:$.languages,run:!1};function ws(e){const n={};return e.id!==void 0&&(n.id=e.id),e.file!==void 0&&(n.file=e.file),e.run!==void 0&&(n.run=e.run.toString()),new URLSearchParams({query:e.query,type:e.type,caseInsensitive:e.caseInsensitive.toString(),common:e.common.toString(),script:e.script.toString(),showAllLanguages:e.showAllLanguages.toString(),collections:e.collections.join(","),languages:e.languages.join(","),...n}).toString()}function ys(e){const n=new URLSearchParams(e);return{id:z(n.get("id")),file:z(n.get("file")),query:z(n.get("query")),type:ks(n.get("type")??(n.get("regex")==="true"?"regex":null),pe),caseInsensitive:Q(n.get("caseInsensitive")),common:Q(n.get("common")),script:Q(n.get("script")),showAllLanguages:Q(n.get("showAllLanguages")),collections:Fe(n.get("collections"),Ls),languages:Fe(n.get("languages"),Ss,Ps),run:Q(n.get("run"))}}function z(e){return e??void 0}function Q(e){switch(e){case"true":return!0;case"false":return!1}}function ks(e,n){if(e!==null&&n(e))return e}function Fe(e,n,s=t=>t){if(e!==null)return e.split(",").map(s).filter(n)}function Ps(e){switch(e){case"qid-ZZ":case"ja-JP":case"en-US":case"fr-FR":case"it-IT":case"de-DE":case"es-ES":case"ko-KR":return e.split("-",1)[0];case"ja-Hrkt-JP":return"ja-Hrkt";case"zh-CN":return"zh-Hans";case"zh-TW":return"zh-Hant";default:return e}}const Is=k.length^$.languages.length<<4,ae=2,se=Math.ceil($.languages.length/8),Ns=Math.ceil(k.length/8),de=se+Ns,Te=64,te=Math.ceil(Math.log2($.languages.length+k.length)),Me=ae+de,Vs=e=>btoa(String.fromCodePoint(...e)).replaceAll("/","_").replaceAll("+","-").replace(/=+$/,""),Os=e=>Uint8Array.from(atob(e.replaceAll("_","/").replaceAll("-","+")),n=>n.charCodeAt(0));function Ts(e){const n={};e.id!==void 0&&(n.id=e.id),e.file!==void 0&&(n.file=e.file);const s=Hs(e);return Js(s),new URLSearchParams({...n,q:e.query,s:Vs(s)}).toString()}function Ms(e){const n=new URLSearchParams(e),s={id:z(n.get("id")),file:z(n.get("file")),query:z(n.get("q"))},t=z(n.get("s"));if(!t)return s;try{const l=Os(t).subarray(0,Me);return Ys(l),{...s,...Gs(l)}}catch{return s}}function Hs(e){const n=new Uint8Array(Me);n[1]=+(e.run??Oe.run)<<0|+e.caseInsensitive<<1|+e.common<<2|+e.script<<3|q.indexOf(e.type)<<4|+!e.showAllLanguages<<7;const s=n.subarray(ae);qs(e,s),Us(s,n.subarray(1,2));let t=n.length;for(;n[t-1]===0&&t>1;)t--;return n.subarray(0,t)}function Gs(e){const n=new Uint8Array(de);e[1]&Te?zs(e.subarray(ae),n):n.set(e.subarray(ae));const s=$.languages.filter((l,r)=>K(n,r)===1),t=k.filter((l,r)=>K(n,8*se+r)===1);return{run:(e[1]&1)!==0,caseInsensitive:(e[1]&2)!==0,common:(e[1]&4)!==0,script:(e[1]&8)!==0,type:q[(e[1]&48)>>4],showAllLanguages:(e[1]&128)===0,languages:s,collections:t}}function qs(e,n){$.languages.forEach((s,t)=>{e.languages.includes(s)&&Y(n,t)}),k.forEach((s,t)=>{e.collections.includes(s)&&Y(n,8*se+t)})}function zs(e,n){const s=Ks(e);$.languages.forEach((t,l)=>{s.next().value&&Y(n,l)}),k.forEach((t,l)=>{s.next().value&&Y(n,8*se+l)})}function Us(e,n){const s=K(e,0)===1,t=Ws(e,s);let l=e.length;for(;e[l-1]===0;)l--;if(1+t.length*te<8*l){n[0]|=Te,e.fill(0),s||Y(e,0);let r=1;t.forEach(([c])=>{for(let u=0;u<te;r++,u++)Y(e,r,c>>u&1)})}}function Ws(e,n){const s=[[0,n]];return $.languages.forEach((t,l)=>{const r=K(e,l)===1;s[s.length-1][1]===r?s[s.length-1][0]++:s.push([1,r])}),k.forEach((t,l)=>{const r=K(e,8*se+l)===1;s[s.length-1][1]===r?s[s.length-1][0]++:s.push([1,r])}),s.pop(),s}function*Ks(e){const n=new Uint8Array(de);n.set(e);let s=K(n,0)!==1;for(let t=1;t+te<=n.length*8;){let l=0;for(let r=0;r<te;t++,r++)l|=K(n,t)<<r;if(l===0)break;for(;l>0;)yield s,l--;s=!s}for(;;)yield s}function Y(e,n,s=1){e[Math.floor(n/8)]|=s<<n%8}function K(e,n){return e[Math.floor(n/8)]>>n%8&1}function Js(e){const n=e[0]=He(e);Ge(n,e)}function Ys(e){const n=e[0];if(Ge(n,e),n!==He(e))throw Error("invalid checksum")}function He(e,n=1){return e.subarray(n).reduce((s,t)=>s+t&255,0)^Is&255}function Ge(e,n,s=1){let t=Qs(e);for(let l=s;l<n.length;l++)n[l]^=t>>24,t=Zs(t)}const Qs=e=>2480367069*e&4294967295,Zs=e=>2438952949*e+2654435769&4294967295;function ce(e){return(N("corpus-longURL")==="true"?ws:Ts)(e)}function Xs(e){const n=new URLSearchParams(e);return(n.get("q")||n.get("s")?Ms:ys)(e)}const en=(e,n,s)=>{const t=e[n];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((l,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};V.use(es).use(ss).use(ns((e,n)=>en(Object.assign({"./de/collections.json":()=>_(()=>import("./i18n-de-DvTfi3sT.js").then(s=>s.c),[]),"./de/files.json":()=>_(()=>import("./i18n-de-DvTfi3sT.js").then(s=>s.f),[]),"./de/languages.json":()=>_(()=>import("./i18n-de-DvTfi3sT.js").then(s=>s.l),[]),"./de/translation.json":()=>_(()=>import("./i18n-de-DvTfi3sT.js").then(s=>s.t),[]),"./en-GB/translation.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.j),[]),"./en/collections.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.d),[]),"./en/files.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.g),[]),"./en/icons.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.h),[]),"./en/languages.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.e),[]),"./en/translation.json":()=>_(()=>import("./i18n-en-84MEhzKe.js").then(s=>s.b),[]),"./es/collections.json":()=>_(()=>import("./i18n-es-B8CzqK4R.js").then(s=>s.c),[]),"./es/files.json":()=>_(()=>import("./i18n-es-B8CzqK4R.js").then(s=>s.f),[]),"./es/languages.json":()=>_(()=>import("./i18n-es-B8CzqK4R.js").then(s=>s.l),[]),"./es/translation.json":()=>_(()=>import("./i18n-es-B8CzqK4R.js").then(s=>s.t),[]),"./fr-CA/translation.json":()=>_(()=>import("./i18n-fr-CCeUqura.js").then(s=>s.t),[]),"./fr/collections.json":()=>_(()=>import("./i18n-fr-CCeUqura.js").then(s=>s.c),[]),"./fr/files.json":()=>_(()=>import("./i18n-fr-CCeUqura.js").then(s=>s.f),[]),"./fr/languages.json":()=>_(()=>import("./i18n-fr-CCeUqura.js").then(s=>s.l),[]),"./fr/translation.json":()=>_(()=>import("./i18n-fr-CCeUqura.js").then(s=>s.a),[]),"./it/collections.json":()=>_(()=>import("./i18n-it-C970Nh-w.js").then(s=>s.c),[]),"./it/files.json":()=>_(()=>import("./i18n-it-C970Nh-w.js").then(s=>s.f),[]),"./it/languages.json":()=>_(()=>import("./i18n-it-C970Nh-w.js").then(s=>s.l),[]),"./it/translation.json":()=>_(()=>import("./i18n-it-C970Nh-w.js").then(s=>s.t),[]),"./ja/collections.json":()=>_(()=>import("./i18n-ja-BwQ8-9Fx.js").then(s=>s.c),[]),"./ja/files.json":()=>_(()=>import("./i18n-ja-BwQ8-9Fx.js").then(s=>s.f),[]),"./ja/icons.json":()=>_(()=>import("./i18n-ja-BwQ8-9Fx.js").then(s=>s.i),[]),"./ja/languages.json":()=>_(()=>import("./i18n-ja-BwQ8-9Fx.js").then(s=>s.l),[]),"./ja/translation.json":()=>_(()=>import("./i18n-ja-BwQ8-9Fx.js").then(s=>s.t),[]),"./ko/collections.json":()=>_(()=>import("./i18n-ko-Dg8pId4h.js").then(s=>s.c),[]),"./ko/files.json":()=>_(()=>import("./i18n-ko-Dg8pId4h.js").then(s=>s.f),[]),"./ko/languages.json":()=>_(()=>import("./i18n-ko-Dg8pId4h.js").then(s=>s.l),[]),"./ko/translation.json":()=>_(()=>import("./i18n-ko-Dg8pId4h.js").then(s=>s.t),[]),"./zh-Hans/collections.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.c),[]),"./zh-Hans/files.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.f),[]),"./zh-Hans/languages.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.l),[]),"./zh-Hans/translation.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.t),[]),"./zh-Hant/collections.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.a),[]),"./zh-Hant/files.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.b),[]),"./zh-Hant/languages.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.d),[]),"./zh-Hant/translation.json":()=>_(()=>import("./i18n-zh-DRN2pXQa.js").then(s=>s.e),[])}),`./${e}/${n}.json`,3))).init({partialBundledLanguages:!0,fallbackLng:"en",ns:["translation","collections","languages","files","icons"],resources:{en:{translation:us,collections:is,languages:os,files:cs,icons:rs},"en-GB":{translation:ls}}}).catch(e=>{console.error(e)});function oe(e,n=4){let s=0;for(let t=0;t<e.length;t++)s+=e.charCodeAt(t)>255?1:.5;return s<=n?void 0:{fontSize:`${n*100/s}%`,scale:`1 ${s/n}`,whiteSpace:"nowrap"}}function sn(e){if(e.length===0)return new Set(k);const n=new Set,s=new Set(e);for(const t of k)$.collections[t].languages.some(l=>s.has(l))&&n.add(t);return n}function nn(e){if(e.length===0)return new Set($.languages);const n=new Set;for(const s of e)for(const t of $.collections[s].languages)n.add(t);return n}function an({collections:e,languages:n,setCollections:s}){const{t}=w(),l=["ja","ko","zh"].some(c=>V.language.startsWith(c)),r=sn(n);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"search-collections",children:k.map(c=>[c,t(`collections:${c}.name`),t(`collections:${c}.short`)]).map(([c,u,d])=>a.jsxs("div",{className:`search-collection search-${r.has(c)?"valid":"invalid"}`,children:[a.jsx("input",{type:"checkbox",name:`collection-${c}`,id:`collection-${c}`,checked:e.includes(c),onChange:h=>{h.target.checked&&!e.includes(c)?s(e.concat([c])):!h.target.checked&&e.includes(c)&&s(e.filter(D=>D!==c))}}),a.jsx("label",{htmlFor:`collection-${c}`,style:l?oe(d):void 0,children:u===d?u:a.jsx("abbr",{title:u,children:d})})]},c))}),a.jsxs("div",{className:"item-group",children:[a.jsx("button",{disabled:e.length===k.length,onClick:()=>{s(k)},children:t("selectAll")}),a.jsx("button",{disabled:e.length===0,onClick:()=>{s([])},children:t("deselectAll")})]})]})}function tn({collections:e,languages:n,setLanguages:s}){const{t}=w(),l=["ja","ko","zh"].some(c=>V.language.startsWith(c)),r=nn(e);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"search-languages",children:$.languages.map(c=>[c,t(`languages:${c}.name`),t(`languages:${c}.code`)]).map(([c,u,d])=>a.jsxs("div",{className:`search-language search-${r.has(c)?"valid":"invalid"}`,children:[a.jsx("input",{type:"checkbox",name:`language-${c}`,id:`language-${c}`,checked:n.includes(c),onChange:h=>{h.target.checked&&!n.includes(c)?s(n.concat([c])):!h.target.checked&&n.includes(c)&&s(n.filter(D=>D!==c))}}),a.jsxs("label",{htmlFor:`language-${c}`,children:[a.jsx("span",{className:"search-language-code",children:a.jsx("abbr",{title:u,children:d})}),a.jsx("span",{className:"search-language-name",style:l?oe(u,12):oe(u,15),children:u})]})]},c))}),a.jsxs("div",{className:"item-group",children:[a.jsx("button",{disabled:n.length===$.languages.length,onClick:()=>{s($.languages)},children:t("selectAll")}),a.jsx("button",{disabled:n.length===0,onClick:()=>{s([])},children:t("deselectAll")})]})]})}function ln({filtersVisible:e,collections:n,setCollections:s,languages:t,setLanguages:l}){const r=p.useRef(null),c=()=>r.current?.style.setProperty("--search-filters-height",`${r.current.scrollHeight}px`);return p.useEffect(()=>{if(!CSS.supports("interpolate-size","allow-keywords"))return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),a.jsx("div",{ref:r,className:`search-filters search-filters-${e?"show":"hide"}`,children:a.jsxs(a.Fragment,{children:[a.jsx(an,{collections:n,languages:t,setCollections:s}),a.jsx("div",{className:"search-filters-divider"}),a.jsx(tn,{collections:n,languages:t,setLanguages:l})]})})}const Ee=$.languages.filter(e=>e.startsWith(V.language.split("-")[0])),be={...Oe,languages:Ee.length===0?$.languages.filter(e=>e.startsWith("en")):Ee},rn=()=>{const e=N("corpus-params");if(e===null)return be;const n={...be},s=JSON.parse(e);return typeof s=="object"&&s!==null&&("type"in s&&typeof s.type=="string"&&pe(s.type)&&(n.type=s.type),"caseInsensitive"in s&&typeof s.caseInsensitive=="boolean"&&(n.caseInsensitive=s.caseInsensitive),"common"in s&&typeof s.common=="boolean"&&(n.common=s.common),"script"in s&&typeof s.script=="boolean"&&(n.script=s.script),"showAllLanguages"in s&&typeof s.showAllLanguages=="boolean"&&(n.showAllLanguages=s.showAllLanguages)),n},cn=[q[3],q[0],q[1],q[2]];function on({status:e,postToWorker:n,terminateWorker:s}){const{t}=w(),l=p.useMemo(rn,[]),[r,c]=p.useState(l.id),[u,d]=p.useState(l.file),[h,D]=p.useState(l.query),[i,F]=p.useState(l.type),[B,E]=p.useState(l.caseInsensitive),[v,R]=p.useState(l.common),[x,L]=p.useState(l.script),[m,g]=p.useState(l.showAllLanguages),[o,f]=p.useState(l.collections),[b,C]=p.useState(l.languages),[j,y]=p.useState(l.run),[S,P]=p.useState((N("corpus-filtersVisible")??(window.location.hash?"false":"true"))!=="false"),G=p.useCallback(()=>{const A=Xs(window.location.hash.substring(1));A.id!==void 0&&c(A.id),A.file!==void 0&&d(A.file),A.query!==void 0&&D(A.query),A.type!==void 0&&F(A.type),A.caseInsensitive!==void 0&&E(A.caseInsensitive),A.common!==void 0&&R(A.common),A.script!==void 0&&L(A.script),A.showAllLanguages!==void 0&&g(A.showAllLanguages),A.collections!==void 0&&f(A.collections),A.languages!==void 0&&C(A.languages),A.run!==void 0&&y(A.run),N("corpus-filtersVisible")===null&&P(!A.id&&!A.file&&!A.run&&(!A.query||!A.collections||!A.languages))},[]);p.useEffect(()=>(window.location.hash&&G(),window.addEventListener("hashchange",G),()=>{window.removeEventListener("hashchange",G)}),[G]),p.useEffect(()=>{M("corpus-params",JSON.stringify({type:i,caseInsensitive:B,common:v,script:x,showAllLanguages:m}))},[i,B,v,x,m]),p.useEffect(()=>{if(r!==""){const A=r.split(".")[0];n({query:`^${Ae(r)}$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,collections:k.filter(O=>$.collections[O].id===A),languages:[H]}),c("")}},[r,n]),p.useEffect(()=>{if(u!==""){const A=u.split(".")[0];n({query:`^${Ae(u)}\\..*$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,collections:k.filter(O=>$.collections[O].id===A),languages:[H]}),d("")}},[u,n]),p.useEffect(()=>{if(j){const A={query:h,type:i,caseInsensitive:B,common:v,script:x,showAllLanguages:m,collections:o,languages:b};window.location.hash=ce(A),n(A),y(!1)}},[j,n]);const Je=A=>{A.preventDefault(),N("corpus-filtersVisible")||M("corpus-filtersVisible",S.toString());const O=document.getElementsByClassName("view-search").item(0);O&&O.scrollHeight>O.clientHeight&&P(!1);const he={query:h,type:i,caseInsensitive:B,common:v,script:x,showAllLanguages:m,collections:o,languages:b};window.location.hash=ce(he),n(he)},Ye=()=>{s()},Qe=()=>{const A=!S;P(A),M("corpus-filtersVisible",A.toString())},Ze=A=>{const O=A.target.value;pe(O)&&F(O)},ne=Ve.includes(e),Xe=ne||h.length===0||o.length===0||b.length===0||e==="waiting";return a.jsxs("form",{className:"search search-form",role:"search",onSubmit:Je,children:[a.jsxs("div",{className:"search-bar",children:[a.jsxs("div",{className:"item-group",children:[a.jsx("label",{htmlFor:"query",children:t("query")}),a.jsx("input",{type:"text",name:"query",id:"query",value:h,onChange:A=>{D(A.target.value)}}),a.jsxs("div",{className:"btn-alternate-container",children:[a.jsx("input",{id:"submit",type:"submit",className:ne?"invisible":"visible",value:t("search"),disabled:Xe}),a.jsx("button",{type:"button",className:ne?"visible":"invisible",onClick:Ye,disabled:!ne,children:t("cancel")})]}),a.jsx("button",{type:"button",className:S?"active":void 0,onClick:Qe,children:t("filters")}),a.jsx("select",{name:"type",id:"type",onChange:Ze,value:i,title:t("searchType.searchType"),"aria-label":t("searchType.searchType"),children:cn.map(A=>a.jsx("option",{value:A,children:t(`searchType.${A}`)},A))})]}),a.jsxs("div",{className:"item-group search-option-group",children:[a.jsxs("div",{className:"search-option",children:[a.jsx("input",{type:"checkbox",name:"caseInsensitive",id:"caseInsensitive",checked:B,onChange:A=>{E(A.target.checked)}}),a.jsx("label",{htmlFor:"caseInsensitive",children:t("caseInsensitive")})]}),a.jsxs("div",{className:"search-option",children:[a.jsx("input",{type:"checkbox",name:"common",id:"common",checked:v,onChange:A=>{R(A.target.checked)}}),a.jsx("label",{htmlFor:"common",children:t("common")})]}),a.jsxs("div",{className:"search-option",children:[a.jsx("input",{type:"checkbox",name:"script",id:"script",checked:x,onChange:A=>{L(A.target.checked)}}),a.jsx("label",{htmlFor:"script",children:t("script")})]}),a.jsxs("div",{className:"search-option",children:[a.jsx("input",{type:"checkbox",name:"showAllLanguages",id:"showAllLanguages",checked:m,onChange:A=>{g(A.target.checked)}}),a.jsx("label",{htmlFor:"showAllLanguages",children:t("showAllLanguages")})]})]})]}),a.jsx(ln,{filtersVisible:S,collections:o,setCollections:f,languages:b,setLanguages:C})]})}function un({src:e,active:n=!0}){const s=p.useRef(null);p.useEffect(()=>{s.current?.classList.add("spinner-stopped")},[]),p.useEffect(()=>{const l=s.current;if(l!==null){const r=()=>{n||l.classList.add("spinner-stopped")};return l.addEventListener("animationiteration",r),()=>{l.removeEventListener("animationiteration",r)}}},[n]);const t=["spinner",n?"spinner-active":"spinner-inactive"];return a.jsx("img",{ref:s,className:t.join(" "),src:e,alt:""})}function pn({progress:e}){const{t:n}=w(),s=Math.min(Math.max(0,e*100),100);return a.jsxs("div",{className:"progress-bar-container",role:"progressbar","aria-label":n("progressBar.title"),"aria-valuenow":s,children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-bar-complete",style:{width:`${s}%`,maxWidth:s===0?0:void 0,visibility:s===0?"hidden":void 0}})}),a.jsx("div",{className:"progress-bar-text",children:n("progressBar.value",_s(e))})]})}const dn=e=>{if("share"in navigator){const n=e.currentTarget.href;e.preventDefault(),navigator.share({url:n}).catch(s=>{s instanceof Error&&s.name!=="AbortError"||(console.error(s),window.open(n,"_blank"))})}};function gn({hash:e}){const{t:n}=w();return a.jsx("a",{href:e,rel:"bookmark noreferrer",target:"_blank",title:n("share"),onClick:dn,children:a.jsx("svg",{className:"icon",children:a.jsx("use",{href:"sprites.svg#share"})})})}function hn({hash:e,callback:n}){const{t:s}=w();return a.jsx("a",{href:e,rel:"bookmark noreferrer",title:s("viewNearby"),onClick:n,children:a.jsx("svg",{className:"icon",children:a.jsx("use",{href:"sprites.svg#file-lines"})})})}function fn({callback:e}){const{t:n}=w();return a.jsx("button",{className:"link",title:n("copy"),onClick:e,children:a.jsx("svg",{className:"icon",children:a.jsx("use",{href:"sprites.svg#copy"})})})}function An(e){switch(e){case"ja-Hrkt":case"ja":return"『";case"fr":return" : ";case"zh-Hans":return"：";case"zh-Hant":return"「";default:return": "}}function mn(e,n,s){return e.replace(/(.*?)(\[VAR 0114\(([0-9A-F]{4})\)\])(?:$|(?=\u{F0000}))/u,(t,l,r,c)=>{const u=parseInt(c,16),d=n[u];return`${r.replaceAll("[","\\[")}󱄀${d}${An(s)}󱄁${l}`})}function Fn(e){return e.replaceAll(/^(.+)\u{F1100}(.+?)\u{F1101}/gu,'<a class="speaker" data-var="$1">$2</a>')}function En(e,n,s,t){return e.replaceAll(/<a class="speaker" data-var="(.+?)">(.+?)<\/a>/gu,(l,r,c)=>`<a class="speaker" href="#${ce({query:r,type:"exact",caseInsensitive:!1,common:!1,script:!0,showAllLanguages:!1,collections:[n],languages:[s],run:!0})}" title="${t}">${c}</a>`)}function U(e,n,s=""){const t=[];return e.length>0&&t.push(`<span class="branch male">${e}</span>`),n.length>0&&t.push(`<span class="branch female">${n}</span>`),s.length>0&&t.push(`<span class="branch neuter">${s}</span>`),t.join('<span class="gender">/</span>')}function W(e,n,s=""){const t=[];return e.length>0&&t.push(`<span class="branch singular">${e}</span>`),n.length>0&&t.push(`<span class="branch plural">${n}</span>`),s.length>0&&t.push(`<span class="branch zero">${s}</span>`),t.join('<span class="number">/</span>')}function _e(e,n,s,t){const l=[];e.length>0&&l.push(`<span class="branch male singular">${e}</span>`),n.length>0&&l.push(`<span class="branch female singular">${n}</span>`);const r=l.join('<span class="gender singular">/</span>'),c=[];s.length>0&&c.push(`<span class="branch male plural">${s}</span>`),t.length>0&&c.push(`<span class="branch female plural">${t}</span>`);const u=c.join('<span class="gender plural">/</span>'),d=["number"];e.length>0&&s.length>0&&d.push("male"),n.length>0&&t.length>0&&d.push("female");const h=d.join(" ");return[r,u].join(`<span class="${h}">/</span>`)}function ee(...e){return e.filter(n=>n!=="").map((n,s)=>`<span class="branch form form-${s}">${n}</span>`).join('<span class="grammar">/</span>')}function qe(e,n,s,t){const l=[];return e.length>0&&l.push(`<span class="branch version-${s}">${e}</span>`),n.length>0&&l.push(`<span class="branch version-${t}">${n}</span>`),l.join('<span class="version">/</span>')}function bn(e){return e.replaceAll(/\u{F0106}(\/?[bi]) *\u{F0107}/gu,"<$1>").replaceAll(/\u{F0106}size=(\d+)\u{F0107}/gu,'<span style="font-size: calc($1 / 32 * 100%)">').replaceAll(/\u{F0106}color=(.*?)\u{F0107}/gu,'<span class="color" style="color: $1">').replaceAll(/\u{F0106}\/(size|color)\u{F0107}/gu,"</span>").replaceAll(/\u{F0106}a href="\{(\d+)\}"\u{F0107}(.+?)\u{F0106}\/a\u{F0107}/gu,'<span class="link" title="󰄄$1}">$2</span>').replaceAll(/\u{F0106}a href="([0-9A-Za-z_]+)"\u{F0107}/gu,'<a class="link" href="#id=go.$1" title="$1">').replaceAll(/\u{F0106}a href=["“]((?:pokemongolive.com)\/[^"]+?)["”]\u{F0107}/gu,'<a class="link" href="http://$1" title="$1" target="_blank" rel="noopener noreferrer nofollow">').replaceAll(/\u{F0106}a href="+(https?:\/\/[^"]+?)"+\u{F0107}/gu,'<a class="link" href="$1" title="$1" target="_blank" rel="noopener noreferrer nofollow">').replaceAll(/\u{F0106}\/a\u{F0107}/gu,"</a>").replaceAll(/\u{F0106}br\u{F0107}/gu,"<br>").replaceAll(/\u{F0106}(taunt|intimidate)\u{F0107}/gu,'<span class="var">󰄆$1󰄇</span>').replaceAll(/(%BREAK%)/gu,'<span class="c">$1</span><br>').replaceAll(/(%PLAYERNAME%)/gu,'<span class="var">$1</span>').replaceAll(/(%(\d+\$)?s)/gu,'<span class="var">$1</span>').replaceAll(/(\{\d+(?::[^\]]+?)?\})/gu,'<span class="var">$1</span>')}const _n={ha:["는","은"],wo:["를","을"],ga:["가","이"],to:["와","과"],ni:["로","으로"],ya:["","이"]},Dn=e=>ee(..._n[e]);function Cn(e){return e.replaceAll(/\u{F0106}attr font=['"]fallback['"]\u{F0107}(.+?)\u{F0106}\/attr\u{F0107}/gu,'<span class="fallback">$1</span>').replaceAll(/\u{F0106}attr color=['"]([0-9A-Fa-f]{6})['"]\u{F0107}(.+?)\u{F0106}\/attr\u{F0107}/gu,'<span class="color" style="color: #$1">$2</span>').replaceAll(/\u{F0106}attr size=['"](\d+?)['"]\u{F0107}(.+?)\u{F0106}\/attr\u{F0107}/gu,'<span style="font-size: $1px">$2</span>').replaceAll(/\u{F0106}attr color=['"]([0-9A-Fa-f]{6})['"] size=['"](\d+?)['"]\u{F0107}(.+?)\u{F0106}\/attr\u{F0107}/gu,'<span class="color" style="color: #$1; font-size: $2px">$3</span>').replaceAll(/\u{F0106}attr size=['"](\d+?)['"] height=['"](\d+?)['"]\u{F0107}(.+?)\u{F0106}\/attr\u{F0107}/gu,'<span style="font-size: $1px; line-height: $2px">$3</span>').replaceAll(/(\u{F0106}\/?div\u{F0107})/gu,'<span class="div">$1</span>').replaceAll(/\u{F0106}span class=""?word"?"\u{F0107}/gu,'<span class="word">').replaceAll(/\u{F0106}\/span\u{F0107}/gu,"</span>").replaceAll(/\u{F0106}br\u{F0107}/gu,"<br>").replaceAll(/\u{F0100}\[/gu,"󰄂").replaceAll(/\u{F0100}\]/gu,"]").replaceAll(/(\u{F0100}n)/gu,'<span class="literal n">$1</span><br>').replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Gen Ref="255" M="([^"]*?)" F="([^"]*?)" \]/gu,(n,s,t)=>U(s,t)).replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Gen Ref="255" M="([^"]*?)" \]/gu,(n,s)=>U("",s)).replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Gen Ref="255" F="([^"]*?)" \]/gu,(n,s)=>U("",s)).replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Qty (?:Ref="\d+" )?S="([^"]*?)" P="([^"]*?)" \]/gu,(n,s,t)=>W(s,t)).replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Qty (?:Ref="\d+" )?S="([^"]*?)" \]/gu,(n,s)=>W(s,"")).replaceAll(/\[(?:JP|EN|FR|IT|DE|ES|Kor|SC):Qty (?:Ref="\d+" )?P="([^"]*?)" \]/gu,(n,s)=>W("",s)).replaceAll(/\[Kor:Particle char="(ha|wo|ga|to|ni|ya)" \]/gu,(n,s)=>Dn(s)).replaceAll(/(\[(?:Name:.+?) [^[]*?\])/gu,'<span class="var long">$1</span><span class="var short" title="$1">[Name]</span>').replaceAll(/(\[(?:Digit:.+?) [^[]*?\])/gu,'<span class="var long">$1</span><span class="var short" title="$1">[Digit]</span>')}const De=e=>{switch(e){case"en":return"BLOCK";case"fr":return"BLOC";case"it":return"MELLA";case"de":return"RIEGEL";case"es":return"CUBO";default:return"BLOCK"}},Bn=(e,n)=>{switch(e){case"en":return"Lv";case"fr":return"N.";case"it":return"L.";case"de":return"Lv.";case"es":return n==="RubySapphire"?"Nv":"Nv.";default:return"Lv"}},vn=e=>{switch(e){case"ja-Hrkt":return"Lv";case"en":return"Lv";case"fr":return"N.";case"it":return"L.";case"de":return"Lv.";case"es":return"Nv.";default:return"Lv"}},jn=e=>{switch(e){case"de":return"Lv.";case"es":return"Nv";default:return"Lv"}},$n=e=>e==="de"?"AP":"PP",Rn=()=>"ID",xn=e=>{switch(e){case"ja-Hrkt":return"No";case"en":return"No";case"fr":return"Nº";case"it":return"Nº";case"de":return"Nr.";case"es":return"N.º";default:return"No"}},Ln=()=>"Pco",Ce=[["the "],["The "],["a ","an ",""],["A ","An ",""]],Be=[["le ","l’","la ","les "],["Le ","L’","La ","Les "],["un ","une ","des ",""],["Un ","Une ","Des ",""],["au ","à l’","à la ","aux ","à "],["Au ","À l’","À la ","Aux ","À "],["du ","de l’","de la ","des "],["Du ","De l’","De la ","Des "],["de ","d’"],["De ","D’"],["que ","qu’"],["Que ","Qu’"]],ve=[["il ","l’","lo ","la ","i ","gli ","le "],["Il ","L’","Lo ","La ","I ","Gli ","Le "],["un ","uno ","una ","un’","dei ","degli ","delle ","del ","dell’","dello ","della "],["Un ","Uno ","Una ","Un’","Dei ","Degli ","Delle ","Del ","Dell’","Dello ","Della "],["del ","dell’","dello ","della ","dei ","degli ","delle "],["Del ","Dell’","Dello ","Della ","Dei ","Degli ","Delle "],["sul ","sull’","sullo ","sulla ","sui ","sugli ","sulle "],["Sul ","Sull’","Sullo ","Sulla ","Sui ","Sugli ","Sulle "],["al ","all’","allo ","alla ","ai ","agli ","alle "],["Al ","All’","Allo ","Alla ","Ai ","Agli ","Alle "],["nel ","nell’","nello ","nella ","nei ","negli ","nelle "],["Nel ","Nell’","Nello ","Nella ","Nei ","Negli ","Nelle "],["e ","ed "],["E ","Ed "],["a ","ad "],["A ","Ad "]],je=[["der ","die ","das "],["Der ","Die ","Das "],["ein ","eine ",""],["Ein ","Eine ",""],["den ","die ","das "],["Den ","Die ","Das "],["einen ","eine ","ein ",""],["Einen ","Eine ","Ein ",""]],$e=[["el ","la ","los ","las "],["El ","La ","Los ","Las "],["un ","una ","unos ","unas ",""],["Un ","Una ","Unos ","Unas ",""],["del ","de la ","de los ","de las "],["Del ","De la ","De los ","De las "],["al ","a la ","a los ","a las "],["Al ","A la ","A los ","A las "],["el ","la ","los ","las ",""],["El ","La ","Los ","Las ",""],["al ","a la ","a los ","a las ","a "],["del ","de la ","de los ","de las ","de "],["y ","e "],["Y ","E "],["o ","u "],["O ","U "]],Sn=[["",""],["는","은"],["를","을"],["가","이"],["와","과"],["","으"],["","이"],["야","아"]],Z=(e,n=!1)=>e-(e<15?3:n?7:5);function wn(e){return e.split("󰀀")[0]}function Re(e){return e.search(/[\u{F1000}\u{F1001}]/u)===-1?e:["<dl>",...e.split("󱀀").map(n=>n.split("󱀁")).map(([n,s])=>`<dt>${n}</dt><dd>${s}</dd>`),"</dl>"].join("")}const T=(e,n)=>ee(...n[e]),X=e=>ee(...Sn[e]),yn=(e,n)=>qe(e,n,"ruby","sapphire"),kn=(e,n)=>qe(e,n,"scarlet","violet"),I=e=>Number(e).toString(16).padStart(2,"0").toUpperCase(),Pn=(e,n,s,t,l,r)=>ze(e,`#${n}${s}${t}${l==="FF"?"":l}`,r),ze=(e,n,s)=>`<span class="color" style="color: ${n}">${s}</span>`,xe=(e,n,s,t,l)=>`<span class="color" style="color: #${I(n)}${I(s)}${I(t)}${l==="255"?"":I(l)}">`,In=(e,n,s,t,l,r,c,u,d)=>`<span class="color gradient" style="--top: #${I(n)}${I(s)}${I(t)}${l==="255"?"":I(l)}; --bottom: #${I(r)}${I(c)}${I(u)}${d==="255"?"":I(d)}">`;function Nn(e,n="",s="en",t=!0){const l=["RubySapphire","FireRedLeafGreen","Emerald"].includes(n),r=["DiamondPearl","Platinum","HeartGoldSoulSilver"].includes(n),c=["BlackWhite","Black2White2"].includes(n),u=n==="BrilliantDiamondShiningPearl",d=n==="BattleRevolution",h=n==="Ranch",D=n==="GO",i=n==="Masters",F=n==="HOME",B=r||c,E=["XY","OmegaRubyAlphaSapphire","SunMoon","UltraSunUltraMoon","Bank"].includes(n),v=["LetsGoPikachuLetsGoEevee","SwordShield","BrilliantDiamondShiningPearl","LegendsArceus","ScarletViolet","HOME"].includes(n),R=["Stadium","Stadium2"].includes(n),x=["Colosseum","XD"].includes(n),L=c||E||v;if(e=wn(e),!t)return e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"),Re(e);switch(e=e.replaceAll("\\\\","󰄀").replaceAll("\\[","󰄂").replaceAll("\\{","󰄄").replaceAll("<","󰄆").replaceAll(">","󰄇"),e=e.replaceAll("\\n","󰈀").replaceAll("\\r","󰈁").replaceAll("\\c","󰈂").replaceAll("	","󰈃"),e=r?e.replaceAll("[VAR 0207]","󰈇").replaceAll("[VAR 0208]","󰈈"):e,e=l?e.replaceAll("\\e","󰋿"):e,e=R?e.replaceAll("󰄀n","󰈀"):e,e=R||l||B?e.replaceAll("⒆","<sup>P</sup><sub>K</sub>").replaceAll("⒇","<sup>M</sup><sub>N</sub>"):e,e=E?e.replaceAll("","<sup>P</sup><sub>K</sub>").replaceAll("","<sup>M</sup><sub>N</sub>"):e,e=l?e.replaceAll("[POKE]","<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>").replaceAll("[POKEBLOCK]",`<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>󱄂${De(s)}󱄃`).replaceAll("[BLOCK]",`󱄂${De(s)}󱄃`).replaceAll("[POKEMELLA]","󱄂<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>MELLA󱄃").replaceAll("[MELLA]","󱄂MELLA󱄃").replaceAll("[POKEMELLE]","󱄂<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>MELLE󱄃").replaceAll("[MELLE]","󱄂MELLE󱄃").replaceAll("[Pco]",`󱄂${Ln()}󱄃`).replaceAll("[UNK_SPACER]"," ").replaceAll("[LV]",`󱄂<span class="literal-small">${Bn(s)}</span>󱄃`).replaceAll("[LV_2]",`󱄂<span class="literal-small">${vn(s)}</span>󱄃`).replaceAll("[LV_3]",`󱄂<span class="literal-small">${jn(s)}</span>󱄃`).replaceAll("[PP]",`󱄂<span class="literal-small">${$n(s)}</span>󱄃`).replaceAll("[ID]",`󱄂<span class="literal-small">${Rn()}</span>󱄃`).replaceAll("[NO]",`󱄂<span class="literal-small">${xn(s)}</span>󱄃`):e,e=u?e.replaceAll(/\u{F0106}color=(.*?)\u{F0107}(.*?)\u{F0106}\/color\u{F0107}/gu,ze).replaceAll("󰄆/color󰄇","").replaceAll(/\u{F0106}size=(.*?)\u{F0107}(.*?)\u{F0106}\/size\u{F0107}/gu,'<span style="font-size: $1">$2</span>').replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\u{F0106}pos=(.*?)\\u{F0107}(.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),'<span style="tab-size: $2">$1	$3</span>').replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\u{F0106}line-indent=(.*?)\\u{F0107}(.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),'<span style="tab-size: $2">$1	$3</span>'):e,e=r||L?e.replaceAll(/\[VAR FF00\((?!0000)([0-9A-F]{4})\)\](.+?)(?=\[VAR FF00\([0-9A-F]{4}\)\]|$)/gu,(g,o,f)=>`<span class="color" style="color: var(--color-${parseInt(o,16)})">${f}</span>`).replaceAll(/\[VAR FF00\(0000\)\]/gu,""):e,e=c||E?e.replaceAll(/\[VAR BD00\(([0-9A-F]{4}),([0-9A-F]{4}),([0-9A-F]{4})\)\](.+?)(?:\[VAR BD00\(0001,0002,0000\)\]|\[VAR BD01\]|$)/gu,(g,o,f,b,C)=>`<span class="color" style="color: var(--color-${parseInt(o,16)}-${parseInt(f,16)}-${parseInt(b,16)})">${C}</span>`).replaceAll("[VAR BD01]",""):e,e=r?e.replaceAll(/\[VAR FF01\(00C8\)\]\[VAR FF01\(0064\)\]/gu,"").replaceAll(/\[VAR FF01\(00C8\)\](.+?)(?:\[VAR FF01\(0064\)\]|[\u{F0201}\u{F0202}\u{F0200}]|$)/gu,'<span class="line-font-size-200"><span class="text-font-size-200">$1</span></span>').replaceAll("[VAR FF01(0064)]","").replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\[VAR 0203\\(([0-9A-F]{4})\\)\\](.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),(g,o,f,b)=>`<span style="tab-size: ${parseInt(f,16)}pt">${o}	${b}</span>`).replaceAll(/\[VAR 0203\(([0-9A-F]{4})\)\]/gu,"	").replaceAll(/\[VAR 0204\(([0-9A-F]{4})\)\]/gu,(g,o)=>`<div style="height: ${parseInt(o,16)}pt"></div>`).replaceAll(/\[VAR 0205\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[VAR 0206\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-right">$1</span>'):e,e=L?e.replaceAll(/\[VAR BD02\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[VAR BD03\(([0-9A-F]{4})\)\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,(g,o,f)=>`<span class="line-align-right" style="padding-right: ${parseInt(o,16)}pt">${f}</span>`).replaceAll(/\[VAR BD04\(([0-9A-F]{4})\)\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,(g,o,f)=>`<span class="line-align-left" style="padding-left: ${parseInt(o,16)}pt">${f}</span>`).replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\[VAR BD05\\(([0-9A-F]{4})\\)\\](.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),(g,o,f,b)=>`<span style="tab-size: ${parseInt(f,16)}pt">${o}	${b}</span>`).replaceAll(/\[VAR BD05\(([0-9A-F]{4})\)\]/gu,"	"):e,e=d?e.replaceAll(/\[ALIGN 1\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-left">$1</span>').replaceAll(/\[ALIGN 2\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[ALIGN 3\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-right">$1</span>'):e,e=F?e.replaceAll(/\u{F0106}(\/?[bu]) *\u{F0107}/giu,"<$1>"):e,n){case"SunMoon":case"UltraSunUltraMoon":e=e.replaceAll(/^\[VAR BD06\([0-9A-F]{4}\)\]([^\u{F0201}\u{F0202}\u{F0200}]*?)\u{F0200}(?=[^\u{F0201}\u{F0202}\u{F0200}]*?[\u{F0201}\u{F0202}]?$)/gu,(g,o)=>`${o}󰈀󱌀`);break;case"LetsGoPikachuLetsGoEevee":case"SwordShield":e=e.replaceAll(/\[VAR BD06\([0-9A-F]{4}\)\]([^\u{F0201}\u{F0202}\u{F0200}]*?)\u{F0200}/gu,(g,o)=>`${o}󰈀󱌀`);break;default:e=e.replaceAll(/\[VAR BD06\([0-9A-F]{4}\)\](.*)$/gu,(g,o)=>o.replaceAll(new RegExp("(?<!\\u{F0202})\\u{F0200}","gu"),"󰈀󱌀"))}e=r?e.replaceAll("󰈇󰈀",'<span class="c">[VAR 0207]</span><span class="n">\\n</span><br>').replaceAll("󰈈󰈀",'<span class="r">[VAR 0208]</span><span class="n">\\n</span><br>'):e,e=e.replaceAll("󰈁󰈀",'<span class="r">\\r</span><span class="n">\\n</span><br>').replaceAll("󰈂󰈀",'<span class="c">\\c</span><span class="n">\\n</span><br>').replaceAll("󰈀󰈂",'<span class="n">\\n</span><span class="c">\\c</span><br>'),e=r?e.replaceAll("󰈇",'<span class="c">[VAR 0207]</span><br>').replaceAll("󰈈",'<span class="r">[VAR 0208]</span><br>'):e,e=e.replaceAll("󰈁",'<span class="r">\\r</span><br>').replaceAll("󰈂",'<span class="c">\\c</span><br>').replaceAll("󰈀",'<span class="n">\\n</span><br>').replaceAll("󰋿",'<span class="e">\\e</span>').replaceAll("󰈃",'<span class="tab">	</span>');const m=["ja","ko","zh"].some(g=>s.startsWith(g))?"　":" ";if(e=e.replaceAll("<br>󱌀",`<wbr class="soft"><span class="soft">${m}</span>`),R){e=e.replaceAll("#71",'<span class="color color-animation">').replaceAll(/(#\d{2})/gu,'<span class="var">$1</span>').replaceAll(/\u{F0106}COL1,PUSH,(\d+),(\d+),(\d+),(\d+)\u{F0107}\u{F0106}COL2,PUSH,(\d+),(\d+),(\d+),(\d+)\u{F0107}/gu,In).replaceAll(/\u{F0106}COL1,LOAD,(\d+),(\d+),(\d+),(\d+)\u{F0107}/gu,xe).replaceAll(/\u{F0106}COL1,PUSH,(\d+),(\d+),(\d+),(\d+)\u{F0107}/gu,xe).replaceAll(/\u{F0106}COL1,POP\u{F0107}\u{F0106}COL2,POP\u{F0107}/gu,"</span>").replaceAll(/\u{F0106}COL1,POP\u{F0107}/gu,"</span>").replaceAll(/\u{F0106}DIST,([\d.]+)\u{F0107}/gu,'<span class="spacing-$1">').replaceAll(/(\u{F0106}[0-9A-Z, ]+\u{F0107})/gu,'<span class="var">$1</span>').replaceAll(/%%/gu,'<span class="literal">%</span>').replaceAll(/(\u{F0100}(?:CU|CR|B|R))/gu,'<span class="var">$1</span>');const g=e.match(/<span\b/gu)?.length??0,o=e.match(/<\/span>/gu)?.length??0;o<g?e=e.concat("</span>".repeat(g-o)):g<o&&(e="<span>".repeat(o-g).concat(e))}return e=x?e.replaceAll(/\[unknown5_08_([0-9a-f]{2})_([0-9a-f]{2})_([0-9a-f]{2})_([0-9a-f]{2})\](.*?)(?:\[unknown5_08_ff_ff_ff_ff\]|$|(?=\u{F1000}))/gu,Pn).replaceAll("[Player]",'<span class="var">[Player]</span>').replaceAll("[Player_alt]",'<span class="var">[Player_alt]</span>').replaceAll("[Rui]",'<span class="var">[Rui]</span>').replaceAll("[opp_trainer_class]",'<span class="var">[opp_trainer_class]</span>').replaceAll("[opp_trainer_name]",'<span class="var">[opp_trainer_name]</span>').replaceAll("[sent_out_pokemon_1]",'<span class="var">[sent_out_pokemon_1]</span>').replaceAll("[sent_out_pokemon_2]",'<span class="var">[sent_out_pokemon_2]</span>').replaceAll("[speechbubble]",'<span class="var">[speechbubble]</span>').replaceAll("[bubble_or_speaker]",'<span class="var">[bubble_or_speaker]</span>').replaceAll("[maybe_speaker_ID_toggle]",'<span class="var">[maybe_speaker_ID_toggle]</span>').replaceAll("[maybe_location]",'<span class="var">[maybe_location]</span>').replaceAll("[dialogue_end]",'<span class="func">[dialogue_end]</span>').replaceAll("[large_e]",'<span class="var">[large_e]</span>').replaceAll("[large_e+]",'<span class="var">[large_e+]</span>').replaceAll("[furi_kanji]",'<span class="var">[furi_kanji]</span>').replaceAll("[furi_kana]",'<span class="var">[furi_kana]</span>').replaceAll("[furi_close]",'<span class="var">[furi_close]</span>').replaceAll(/(\[some_[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[unknown[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[var_[^\]]\])/gu,'<span class="var">$1</span>').replaceAll("󰄆SCOL=0x0d0e0f󰄇",'<span class="func">󰄆SCOL=0x0d0e0f󰄇</span>'):e,e=d?e.replaceAll(/\[COLOR (\d+)\](.*?)(?:\[COLOR \d+\]|[\u{F0201}\u{F0202}\u{F0200}]|$)/gu,'<span class="color" style="color: var(--color-$1)">$2</span>').replaceAll(/(\[VERTOFFSET -?[\d.]+\])/gu,'<span class="vertoffset">$1</span>').replaceAll(/\[FONT ([0126])\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[FONT \d+\]|$)/gu,'<span class="font-pbr-$1">$2</span>').replaceAll(/(\[FONT [\d.]+\])/gu,'<span class="func">$1</span>').replaceAll(/\[SPACING (-?[\d.]+)\](.*?$)/gu,'<span class="spacing-$1">$2</span>'):e,e=h?e.replaceAll(/(%((\d+\$)?(\d*d|\d*\.\d+[fs]m?|ls)|(\(\d+\)%|\d+\$)?\{\}|\(\d+\)))/gu,'<span class="var">$1</span>').replaceAll(/(\$\d+\$)/gu,'<span class="var">$1</span>'):e,e=D?bn(e):e,e=i?Cn(e):e,e=L?u?e.replaceAll(/\[VAR 13(0[3-6])[^\]]*?\]/gu,(g,o)=>T(Z(parseInt(o,16)),Ce)).replaceAll(/\[VAR 14(0[3-9A-CF]|10)[^\]]*?\]/gu,(g,o)=>T(Z(parseInt(o,16)),Be)).replaceAll(/\[VAR 15(0[3-9A-CF]|1[0-5])[^\]]*?\]/gu,(g,o)=>T(Z(parseInt(o,16)),ve)).replaceAll(/\[VAR 16(0[3-9A])[^\]]*?\]/gu,(g,o)=>T(Z(parseInt(o,16)),je)).replaceAll(/\[VAR 17(0[3-9A-E]|1[3-6])[^\]]*?\]/gu,(g,o)=>T(Z(parseInt(o,16),!0),$e)):e.replaceAll(/\[VAR 13(0[0-3])[^\]]*?\]/gu,(g,o)=>T(parseInt(o,16),Ce)).replaceAll(/\[VAR 14(0[0-9A-B])[^\]]*?\]/gu,(g,o)=>T(parseInt(o,16),Be)).replaceAll(/\[VAR 15(0[0-9A-F])[^\]]*?\]/gu,(g,o)=>T(parseInt(o,16),ve)).replaceAll(/\[VAR 16(0[0-7])[^\]]*?\]/gu,(g,o)=>T(parseInt(o,16),je)).replaceAll(/\[VAR 17(0[0-9A-F])[^\]]*?\]/gu,(g,o)=>T(parseInt(o,16),$e)):e,s==="ko"&&r?e=e.replaceAll(/\[VAR ((?:0[1346]|34)[0-9A-F]{2})\(([0-9A-F]{4}),([0-9A-F]{4})\)\]/gu,(g,o,f,b)=>`[VAR ${o}(${f})]${X(parseInt(b,16)%8)}`):s==="ko"&&n==="BlackWhite"?e=e.replaceAll(/\[VAR (0[12][0-9A-F]{2})\(([0-9A-F]{4}),([0-9A-F]{4})\)\]/gu,(g,o,f,b)=>`[VAR ${o}(${f})]${X(parseInt(b,16)%8)}`):n==="Black2White2"?e=e.replaceAll(/\[VAR 3400\(([0-9A-F]{4})\)\]/gu,(g,o)=>X(parseInt(o,16)%8)):u?e=e.replaceAll(/\[VAR 1900\(tagParameter=(\d+)\)\]/gu,(g,o)=>X(o)):L&&(e=e.replaceAll(/\[VAR 1900\(([0-9A-F]{4})\)\]/gu,(g,o)=>X(parseInt(o,16)))),e=l?e.replaceAll(/\u{F1102}\u{F1200}(.*?)\u{F1104}(.*?)\u{F1103}/gu,(g,o,f)=>U(o,f)).replaceAll(/\u{F1102}\u{F1207}(.*?)\u{F1104}(.*?)\u{F1103}/gu,(g,o,f)=>yn(o,f)):e,e=L?e.replaceAll(/\[VAR 1100\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b)=>{const C=parseInt(f,16),j=C+parseInt(o,16);return`${U(b.substring(0,C),b.substring(C,j))}${b.substring(j)}`}).replaceAll(/\[VAR 1100\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),00([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b,C)=>{const j=parseInt(f,16),y=j+parseInt(o,16),S=y+parseInt(b,16);return`${U(C.substring(0,j),C.substring(j,y),C.substring(y,S))}${C.substring(S)}`}).replaceAll(/\[VAR 1101\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b)=>{const C=parseInt(f,16),j=C+parseInt(o,16);return`${W(b.substring(0,C),b.substring(C,j))}${b.substring(j)}`}).replaceAll(/\[VAR 1102\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b,C,j)=>{const y=parseInt(f,16),S=y+parseInt(o,16),P=S+parseInt(C,16),G=P+parseInt(b,16);return`${_e(j.substring(0,y),j.substring(y,S),j.substring(S,P),j.substring(P,G))}${j.substring(G)}`}).replaceAll(/\[VAR (?:1104|1106)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b)=>{const C=parseInt(f,16),j=C+parseInt(o,16);return`${ee(b.substring(0,C),b.substring(C,j))}${b.substring(j)}`}).replaceAll(/\[VAR 1105\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),00([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b,C)=>{const j=parseInt(f,16),y=j+parseInt(o,16),S=y+parseInt(b,16);return`${W(C.substring(0,j),C.substring(j,y),C.substring(y,S))}${C.substring(S)}`}).replaceAll(/\[VAR 1107\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,(g,o,f,b)=>{const C=parseInt(f,16),j=C+parseInt(o,16);return`${kn(b.substring(0,C),b.substring(C,j))}${b.substring(j)}`}):e,e=u?e.replaceAll(/\[VAR (?:1[3-7A]00|1901)\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?\)\]/gu,(g,o,f)=>U(o,f??"")).replaceAll(/\[VAR (?:1[3-7]01|1902)\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?\)\]/gu,(g,o,f)=>W(o,f??"")).replaceAll(/\[VAR (?:1[3-7]02|1903)\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)\|([^[<{]*?)\|([^[<{]*?)\|([^[<{]*?)\)\]/gu,(g,o,f,b,C)=>_e(o,f,b,C)).replaceAll(/\[VAR (?:130A|1413|1517|160E|1712|1904)\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?(?:\|([^[<{]*?))?\)\]/gu,(g,o,f,b)=>W(o,f??"",b??"")).replaceAll(/\[VAR (?:1411|1518)\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?(?:,forceGrmID=\d+)?\)\]/gu,(g,o,f)=>ee(o,f??"")):e,e=l?e.replaceAll(/(\[DYNAMIC \d+\])/gu,'<span class="var">$1</span>').replaceAll(/(\[(?:(?:[ABLR]|START|SELECT)_BUTTON|DPAD_(?:UP|DOWN|LEFT|RIGHT|UPDOWN|LEFTRIGHT|NONE))\])/gu,'<span class="var">$1</span>').replaceAll(/(\[EMOJI_[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll("[NOP]",'<span class="var">[NOP]</span>').replaceAll(/(\[COLOR [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll("[COLOR]",'<span class="func">[COLOR]</span>').replaceAll(/(\[HIGHLIGHT [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[SHADOW [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[COLOR_HIGHLIGHT_SHADOW [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[PALETTE [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[(?:FONT [^\]]+?|FONT_[^\]]+?)\])/gu,'<span class="func">$1</span>').replaceAll(/(\[PAUSE \d+\])/gu,'<span class="func">$1</span>').replaceAll("[PAUSE_UNTIL_PRESS]",'<span class="func">[PAUSE_UNTIL_PRESS]</span>').replaceAll("[WAIT_SE]",'<span class="func">[WAIT_SE]</span>').replaceAll(/(\[PLAY_BGM [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[ESCAPE \d+\])/gu,'<span class="var">$1</span>').replaceAll(/(\[PLAY_SE [^\]]+?\])/gu,'<span class="func">$1</span>').replaceAll(/(\[CLEAR \d+\])/gu,'<span class="func">$1</span>').replaceAll(/(\[CLEAR_TO \d+\])/gu,'<span class="func">$1</span>').replaceAll(/(\[MIN_LETTER_SPACING \d+\])/gu,'<span class="func">$1</span>').replaceAll("[PAUSE_MUSIC]",'<span class="func">[PAUSE_MUSIC]</span>').replaceAll("[RESUME_MUSIC]",'<span class="func">[RESUME_MUSIC]</span>').replaceAll("[PLAYER]",'<span class="var">[PLAYER]</span>').replaceAll("[STR_VAR_1]",'<span class="var">[STR_VAR_1]</span>').replaceAll("[STR_VAR_2]",'<span class="var">[STR_VAR_2]</span>').replaceAll("[STR_VAR_3]",'<span class="var">[STR_VAR_3]</span>').replaceAll("[RIVAL]",'<span class="var">[RIVAL]</span>').replaceAll(/(\[B_[^\]]+?\])/gu,'<span class="var">$1</span>'):e,e=r?e.replaceAll(/\[(VAR 013[2-9A-B][^\]]+?\])/gu,'<span class="var long">󰄂$1</span><span class="var short" title="󰄂$1">󰄂Digit]</span>').replaceAll(/\[(VAR (?:0[1346]|34)[^\]]+?\])/gu,'<span class="var long">󰄂$1</span><span class="var short" title="󰄂$1">󰄂Name]</span>').replaceAll(/\[(VAR 02[^\]]+?\])/gu,'<span class="func long">󰄂$1</span><span class="func short" title="󰄂$1">󰄂Ctrl1]</span>').replaceAll(/\[(VAR FF[^\]]+?\])/gu,'<span class="func long">󰄂$1</span><span class="func short" title="󰄂$1">󰄂Ctrl2]</span>'):e,e=L?e.replaceAll(/\[(VAR 01[^\]]+?\])/gu,'<span class="var long">󰄂$1</span><span class="var short" title="󰄂$1">󰄂Name]</span>').replaceAll(/\[(VAR 02[^\]]+?\])/gu,'<span class="var long">󰄂$1</span><span class="var short" title="󰄂$1">󰄂Digit]</span>').replaceAll(/\[(VAR 1[0-9A][^\]]+?\])/gu,'<span class="func long">󰄂$1</span><span class="func short" title="󰄂$1">󰄂Grm]</span>').replaceAll(/\[(VAR BD[^\]]+?\])/gu,'<span class="func long">󰄂$1</span><span class="func short" title="󰄂$1">󰄂Ctrl1]</span>').replaceAll(/\[(VAR BE[^\]]+?\])/gu,'<span class="func long">󰄂$1</span><span class="func short" title="󰄂$1">󰄂Ctrl2]</span>'):e,e=e.replaceAll("[NULL]",'<span class="null">[NULL]</span>').replaceAll("[COMP]",'<span class="func compressed">[COMP]</span>').replaceAll(/(\[VAR [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[WAIT [\d.]+\])/gu,'<span class="func wait">$1</span>').replaceAll(/(\[SFX [\d.]+\])/gu,'<span class="func sfx">$1</span>').replaceAll(/(\[~ \d+\])/gu,'<span class="unused">$1</span>').replaceAll(/\{([^|}]+)\|([^|}]+)\}/gu,"<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>").replaceAll(/(\s+$)/gu,'<span class="whitespace-trailing">$1</span>').replaceAll(/(^\s+)/gu,'<span class="whitespace-leading">$1</span>'),e=L?Fn(e):e,e=e.replaceAll(/\u{F1102}(.+?)\u{F1103}/gu,'<span class="literal">$1</span>'),e=e.replaceAll("󰄀","\\").replaceAll("󰄂","[").replaceAll("󰄄","{").replaceAll("󰄆","&lt;").replaceAll("󰄇","&gt;"),Re(e)}const Vn=(e,n,s,t,l)=>(r,c)=>{if(l===void 0||c===n)return r;for(const[u,{branch:d,line:h}]of Object.entries(l)){const D=`[${u}]`;let i;switch(d){case void 0:i=e[c].get(h);break;case"gender":i=`󱈀${h.map(F=>e[c].get(F)).join("󱄄")}`;break;case"version":i=`󱈇${h.map(F=>e[c].get(F)).join("󱄄")}`;break;case"language":{const F=h[t[c]];F!==void 0&&(i=e[c].get(F));break}}if(i===void 0)return r;s==="BattleRevolution"&&(i=i.substring(19).trim()),r=r.replaceAll(D,`󱄂${i}󱄃`)}return r},On=(e,n)=>n===H?e.replaceAll(/([._/]|([a-z])(?=[A-Z])|([A-Za-z])(?=[0-9]))/gu,"$1<wbr>"):e;function Le(){const{t:e}=w();return a.jsx("div",{className:"results-rendering",children:e("status.rendering")})}function Tn({id:e}){return a.jsx("td",{className:"results-table-actions-cell",children:a.jsxs("div",{className:"results-table-actions",children:[a.jsx(gn,{hash:`#id=${e}`}),a.jsx(hn,{hash:`#file=${e.split(".").slice(0,-1).join(".")}`})]})},"actions")}function Mn({collection:e,file:n,languages:s,lines:t,speakers:l,literals:r,richText:c,showId:u}){const{t:d}=w(),h=s.indexOf(H),D=s.map(m=>m===H?Rs:m),i=d("viewSpeaker"),F=$.collections[e].speaker!==void 0,B=Vn(r,s.indexOf(H),e,s,$.collections[e].literals),E=D.map(m=>V.dir(m)),v=E.every(m=>m===E[0]),R=p.useRef(null),x=()=>{const m=R.current,g=window.getSelection();g!==null&&m!==null&&(g.removeAllRanges(),g.selectAllChildren(m),document.execCommand("copy"),g.removeAllRanges())},L=["results-table",`collection-${$.collections[e].id??e.toLowerCase()}`,`file-${n}`];return $.collections[e].softWrap===!0&&L.push("soft"),a.jsx("div",{className:"results-table-container",children:a.jsxs("table",{ref:R,className:L.join(" "),children:[a.jsx("thead",{children:a.jsxs("tr",{children:[h!==-1&&a.jsx("th",{className:"results-table-actions-cell",children:a.jsx(fn,{callback:x})}),s.filter(m=>u||m!==H).map(m=>a.jsx("th",{children:a.jsx("abbr",{title:d(`languages:${m}.name`),children:d(`languages:${m}.code`)})},m))]})}),a.jsx("tbody",{dir:v&&E[0]!==V.dir()?E[0]:void 0,children:t.map((m,g)=>a.jsxs("tr",{"data-id":h!==-1?m[h]:void 0,children:[h!==-1&&a.jsx(Tn,{id:m[h]}),m.map((o,f)=>{if(u||s[f]!==H)return c&&(F&&(o=mn(o,l[f],s[f])),o=B(o,f)),o=Nn(o,e,s[f],c),a.jsx("td",{lang:D[f],dir:v?void 0:E[f],dangerouslySetInnerHTML:{__html:On(F?En(o,e,s[f],i):o,s[f])}},f)})]},g))})]})})}function Hn({lines:e,index:n,sectionOffset:s,offset:t,limit:l,onShowSection:r,...c}){const{t:u}=w(),d=Math.max(0,Math.min(e.length,t-s)),h=Math.max(0,Math.min(e.length,t+l-s)),D=d!==0?e.slice(d,h):e;return a.jsxs(a.Fragment,{children:[d!==0&&a.jsx("button",{className:"results-notice",onClick:r(s,n),children:u("tablePartial",{count:d})}),d!==h&&a.jsx(Mn,{...c,lines:D},n),h<e.length&&a.jsx("button",{className:"results-notice",onClick:r(s+h,n),children:u("tablePartial",{count:e.length-h})})]})}function Gn({className:e,results:n,headers:s,richText:t,showId:l,offset:r,limit:c,onShowSection:u,jumpTo:d}){const[h,D]=p.useState([]),[i,F]=p.useTransition();return p.useEffect(()=>{F(()=>{let B=0;const E=[];for(const[v,R]of n.entries())E.push(a.jsx(Hn,{...R,index:v,sectionOffset:B,offset:r,limit:c,richText:t,showId:l,onShowSection:u})),B+=R.lines.length;D(E)})},[n,t,c,r]),p.useEffect(()=>{let B=0;for(const[E,{lines:v}]of n.entries()){if(r>=B&&r<B+v.length){d(E);break}B+=v.length}},[r]),a.jsxs("main",{id:"results",className:e,children:[!1,n.map(({displayHeader:B},E)=>a.jsxs("section",{id:`results-section${E}`,className:"results-section",children:[a.jsx("h2",{className:B?void 0:"d-none",children:s[E]}),i?a.jsx(Le,{}):h[E]??a.jsx(Le,{})]},s[E]))]})}function ie(e){const n=document.getElementById("results"),s=document.getElementById("results-section0"),t=document.getElementById(`results-section${e}`);n&&s&&t&&(n.scrollTop=t.offsetTop-s.offsetTop)}function qn({headers:e}){const{t:n}=w();return a.jsx("nav",{className:"results-jump",children:a.jsxs("select",{name:"jump",id:"jump",onChange:s=>{ie(Number(s.target.value))},value:"",children:[a.jsx("option",{value:"",disabled:!0,children:n("jumpTo")}),e.map((s,t)=>(t===0||e[t-1]!==s)&&a.jsx("option",{value:t,children:s},t))]})})}function zn({count:e,offset:n,limit:s,setOffset:t}){const{t:l}=w();return a.jsxs("div",{className:"results-nav",children:[a.jsxs("div",{children:[a.jsx("span",{className:"results-nav-range-long",children:l("displayedRange.long",{count:e,start:n+1,end:Math.min(e,n+s)})}),a.jsx("span",{className:"results-nav-range-short",children:l("displayedRange.short",{count:e,start:n+1,end:Math.min(e,n+s)})})]}),a.jsx("button",{className:"button-square",disabled:n===0,onClick:()=>{t(Math.max(0,n-s))},title:l("loadPrev"),children:l("icons:loadPrev",{limit:s})}),a.jsx("button",{className:"button-square",disabled:n+s>=e,onClick:()=>{t(Math.min(Math.floor(e/s)*s,n+s))},title:l("loadNext"),children:l("icons:loadNext",{limit:s})})]})}const Se={showVariables:0,showAllCharacters:!1,showGender:2,showPlural:0,showGrammar:!0,showFurigana:!0},Un=()=>{const e=N("corpus-toggle");if(e===null)return Se;const n={...Se},s=JSON.parse(e);return typeof s=="object"&&s!==null&&("showVariables"in s&&typeof s.showVariables=="number"&&[0,1,2].includes(s.showVariables)&&(n.showVariables=s.showVariables),"showAllCharacters"in s&&typeof s.showAllCharacters=="boolean"&&(n.showAllCharacters=s.showAllCharacters),"showGender"in s&&typeof s.showGender=="number"&&[0,1,2].includes(s.showGender)&&(n.showGender=s.showGender),"showPlural"in s&&typeof s.showPlural=="number"&&[0,1,2].includes(s.showPlural)&&(n.showPlural=s.showPlural),"showGrammar"in s&&typeof s.showGrammar=="boolean"&&(n.showGrammar=s.showGrammar),"showFurigana"in s&&typeof s.showFurigana=="boolean"&&(n.showFurigana=s.showFurigana)),n};function Wn({status:e,progress:n,results:s,showId:t=!0,richText:l=!0,limit:r=re}){const{t:c}=w(),u=p.useMemo(Un,[]),[d,h]=p.useState(u.showVariables),[D,i]=p.useState(u.showAllCharacters),[F,B]=p.useState(u.showGender),[E,v]=p.useState(u.showPlural),[R,x]=p.useState(u.showGrammar),[L,m]=p.useState(u.showFurigana),[g,o]=p.useState(0);p.useEffect(()=>{M("corpus-toggle",JSON.stringify({showVariables:d,showAllCharacters:D,showGender:F,showPlural:E,showGrammar:R,showFurigana:L}))},[d,D,F,E,R,L]);const f=(S,P)=>()=>{o(S),ie(P)};p.useEffect(()=>{o(0)},[s]);const b=p.useMemo(()=>s.map(({collection:S,file:P})=>c("tableHeader",{collection:c(`collections:${S}.name`),file:c(`files:${P}`),interpolation:{escapeValue:!1}})),[s,V.language]),C=p.useMemo(()=>s.reduce((S,P)=>S+P.lines.length,0),[s]),j=c(`status.${e.split(".",1)[0]}`),y=a.jsxs("div",{className:"results-toggle",children:[a.jsx("button",{className:d!==2?"button-square active":"button-square",disabled:!l,onClick:()=>{h((d+1)%3)},title:c("showVariables"),children:c("icons:showVariables",{context:d})}),a.jsx("button",{className:D?"button-square active":"button-square",disabled:!l,onClick:()=>{i(!D)},title:c("showAllCharacters"),children:c("icons:showAllCharacters")}),a.jsx("button",{className:F!==2?"button-square active":"button-square",disabled:!l,onClick:()=>{B((F+1)%3)},title:c("showGender"),children:c("icons:showGender",{context:F})}),a.jsx("button",{className:E!==0?"button-square active":"button-square",disabled:!l,onClick:()=>{v((E+1)%3)},title:c("showPlural"),children:c("icons:showPlural",{context:E})}),a.jsx("button",{className:R?"button-square active":"button-square",disabled:!l,onClick:()=>{x(!R)},title:c("showGrammar"),children:c("icons:showGrammar")}),a.jsx("button",{className:L?"button-square active":"button-square",disabled:!l,onClick:()=>{m(!L)},title:c("showFurigana"),children:a.jsx("span",{className:"results-toggle-furigana",children:c("icons:showFurigana")})})]});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"search results-status",children:[b.length>1?a.jsx(qn,{headers:b}):a.jsx("div",{className:"results-status-text",children:j}),a.jsx(un,{src:"logo.svg",active:Ve.includes(e)}),C>r?a.jsx(zn,{count:C,offset:g,limit:r,setOffset:o}):a.jsx(pn,{progress:n}),y]}),a.jsx(Gn,{className:`search results app-window variables-${["short","show","hide"][d]} control-${D?"show":"hide"} gender-${F} number-${E} grammar-${R?"show":"hide"} furigana-${L?"show":"hide"} rich-text-${l?"enabled":"disabled"}`,results:s,headers:b,richText:l,showId:t,offset:g,limit:r,onShowSection:f,jumpTo:ie})]})}const Kn=JSON.parse('[["805868F0",451848],["FE0A4516",184505],["0E6B4AFC",186358],["38089687",184678],["C8E18522",192736],["AC075F40",185187],["BC8E428D",451830],["E0EDED5F",452016],["AE888233",184382],["42CE5E23",186162],["49A1D761",184638],["E6BE2C39",192693],["EEE6AA0B",184987],["D0A898D8",914491],["B4916E10",247699],["9353A098",247605],["01E40379",247360],["B9271014",255341],["7A3C7531",247525],["93D27A9D",853930],["50D2D70E",371161],["297D48D7",423562],["9E40D227",443434],["7E45FF40",433301],["E53FA927",443211],["DB38E4EE",716552],["F5DB65C4",853759],["CB8106C0",371328],["847BC0BC",423799],["F4F9E121",443569],["31E85F86",433496],["CCEB35BA",443147],["B5AC5376",716517],["C258E1C0",1188380],["AA0CCAD6",516532],["061F929E",583183],["9EB0BB7D",617996],["3154E257",605519],["287D9986",626416],["1B6B811F",56247],["47F479B5",219921],["E98655B9",240723],["A5BA82AE",251904],["66BF6AE1",243507],["24BE0C34",265357],["48268292",253204],["15DA0A67",80381],["B5C9124E",206414],["D50DFB6F",212463],["8BDC97A0",209249],["7F5DBF9C",203357],["BAFD4554",223099],["79526023",209842],["464B1550",105715],["51475FA2",326267],["C1B05D7D",337789],["B91D2631",351308],["3F0AD689",343626],["812A1AB9",378330],["AA61A5BF",362267],["2B0D4B93",43358],["5904163D",376708],["EDD0E9E7",388614],["127039EB",388665],["D5FDB9AE",400933],["C7B1655B",389346],["1EFE3353",417115],["63F8BA72",391961],["ECFF31F9",360643],["3A1A9B1D",65345],["598865DB",612597],["9FC7F04F",658341],["724DB29C",658264],["064910D4",684430],["85A41B08",667743],["F0A6E5C4",718659],["C2700D4A",670855],["FEEB02C7",619191],["4D550F2C",73843],["5A4CAD20",706150],["24945ACB",647415],["5C256E39",661940],["A0E65FD8",661900],["1853AD06",741198],["F1A542E7",663250],["F486A32C",641976],["9C34BDCD",74122],["B7574077",14277],["F995C30A",418914],["9D60674E",238161],["30FC1626",431312],["0F0B9315",251501],["2BD96831",427975],["B2A835DB",231433],["C25D8FD2",440869],["B4D5380B",253667],["19CCEDE0",435286],["A7392F1D",238116],["21A4F991",471647],["F5456BBE",286258],["319F6C84",434313],["D35D93AA",255061],["3202D6A1",432445],["5821F1C6",228581],["8098B211",108529],["DA8465B6",23285],["D986A44C",689295],["D26EF998",345597],["6788D3EB",725690],["D853AAFB",366512],["809A966C",661231],["71BD1A82",321837],["A7E66C77",686073],["6263F6C4",364277],["1C541F50",676483],["80392CBD",345983],["8C28A3B1",743806],["5C726113",400249],["E4D9A8A1",709524],["F010E441",388964],["611CB7AE",654063],["270BED6B",326680],["F9AC014E",41653],["7CBC93B4",13564],["5D77F2D3",290600],["19096712",193156],["99B3AF25",304677],["7EF08E1A",204728],["DCB617AB",309647],["33EF4A6B",218185],["B199F277",317847],["E4933814",237126],["C3A6023B",305573],["34ECA43C",204825],["4E05F7C3",331242],["B9A4C5A5",249282],["719F6CF7",336580],["D4C5FC1F",253405],["B779A7AA",293411],["AB306EB4",193921],["D0453ADC",52057],["A49819C8",20978],["D5E64271",361359],["81DC14F2",251358],["607BD37E",380246],["79364FB4",267071],["C6F7E9BB",391949],["55CB3423",261236],["F3C1F5D1",412072],["A445144E",275169],["04BED485",395485],["32F9174D",249289],["4C011AA6",431932],["3B6F2B5D",311428],["A159FCC1",426053],["EFBA305C",281565],["9727DB13",363094],["00F9CD07",247291],["66850A84",49635],["F7C003F5",19275],["D6E2E088",251306],["3A9A986B",221524],["FC0C8ADD",262055],["3155AD9B",234129],["36A24DD7",264111],["7DE90361",266183],["B1B911A6",281427],["D154C0F5",292914],["914BC9E8",269703],["FCB58A19",255431],["73318A95",286031],["1DACFB2B",294363],["E024B96B",284632],["0482085E",291207],["DBACF489",250082],["9EEA28B7",220906],["6C6BDA9A",248873],["615402EC",225468],["E7763E5F",251831],["DCF080B4",228710],["E9064BC7",57142],["515C63BC",30391],["B029ECEF",287029],["D7459F7B",351512],["C2849705",299536],["76226F39",371546],["925DA459",304276],["1332A7BF",417674],["1E24F599",322366],["08238B58",462128],["72449731",311083],["4DC4D0F7",410852],["2A36BB82",331386],["B6CCB707",473448],["485DE0B0",327958],["B0BDACD1",465944],["ECDEB54B",285212],["6046FCAE",351632],["8015D11D",285461],["B97E3074",357817],["291B1F2D",289137],["C47A8D10",363279],["56BFFE84",70001],["0F56A27C",17961],["78D61CE1",188757],["3046EC50",91141],["AB01F4D4",195222],["EAEAC744",96916],["7BDB3096",185660],["A731DF7B",98146],["79D3F3B5",196364],["90DADB7E",112741],["3CD179DB",189954],["3CA333A8",100965],["8D12AA04",201217],["DE0762F4",122416],["C3639674",195797],["3449002C",112911],["D23A1D38",186937],["70B92862",92474],["920D68A3",183962],["38CB3189",99595],["4A2AF0BD",183355],["0C39B49A",99105],["9CFCB04F",185584],["24056C87",98436],["F88C7D51",109707],["D06EC6B0",47268],["BC465CEB",327255],["DABDD117",249057],["DB6499F8",343106],["A1E9A260",263024],["2E39FF52",353598],["D72D5490",301521],["E97E3DEA",360374],["C14BE010",316566],["B243A50B",354609],["6DD06B2E",294483],["71E64CE2",374758],["B755DFD7",338573],["D675ED02",354540],["C109C728",315868],["099C8225",334519],["ACBD302C",263043],["CAAB3D17",340926],["3239020C",280033],["94E2F348",339910],["7DD6502E",283225],["A3C49BBF",99393],["87647E62",438279],["9616FC8D",459527],["A2BCEA38",441003],["224162EA",473430],["1B465C57",456582],["FF560BEE",502888],["690BFF6E",465097],["1C088BF9",412634],["BDB8EF03",416941],["EC2A02E5",430970],["868957D1",74049],["A142B3F1",24108],["AE7A3398",217519],["5F77F1A4",230194],["C7DC5911",212569],["EFC20517",250558],["B1E9377A",212889],["C74A122A",247223],["D054DE70",207469],["CE8B0601",241619],["ED88D7E1",217691],["FC76E487",250690],["D766E68F",209904],["0B78B3D6",250516],["7707196A",196581],["D6E20DF4",198422],["AEE9875F",197067],["7F1BE555",196414],["2E5BAC17",197521],["1365CBAA",206782],["9D22F3E2",142866],["1D2F4BF3",71136],["B38DE6C7",428923],["C0C91D78",523598],["99B6F5E4",400940],["D1F7D9A3",527195],["DB66385A",410479],["8D9AFC15",540864],["2A68B3C4",396595],["E0AC173E",500289],["300A80E9",415883],["23719FF4",547694],["B53002F4",401220],["14C7FDE3",535541],["B6B8EBAE",376872],["6D12C9E1",440546],["EDD3DC38",377240],["B2485F5C",432631],["A12D9827",380373],["4C32D9D0",449342],["C3E5FB9D",4339],["8F488338",26442],["C0CC6C78",27488],["C000BF76",26723],["5D8671DF",30377],["38FA9F65",28212],["A8F362C0",43636],["3BF95355",213995],["8B89062A",189456],["BD1820D9",174259],["40824263",181488],["38D29549",211516],["CDD1322A",188971],["9920B1E3",3505],["CCD878B1",11682],["CC445D0F",10530],["A01D9E8C",10488],["3B409C23",11138],["0B197BEA",10982],["4452D813",11317],["D958ECBF",11107],["EA1432F5",14904],["CA9CD9BD",185298],["E266968F",191903],["97ECABBA",187664],["87A27B31",197388],["04872EBD",196569],["8E557D83",204124],["1605EDD5",197879],["26D93D24",11886],["95CC0171",294807],["C46156B1",261280],["9EA398A5",234498],["68062841",229744],["656E796C",230208],["A80BEC67",254904],["A190FDDD",241132],["3356A778",27511],["F8317CFE",168076],["F71850AB",154401],["E554DABC",154242],["C7E7F875",160914],["2C56E000",156325],["A55CCB2E",163853],["DE9A5332",149658],["4028E267",10276],["38B7948A",85967],["B3B75E50",63779],["34A6C0E7",63992],["F1318B98",68269],["CA1ADAA3",67235],["12F3987F",68652],["0E2E5E91",66187],["8EA29A66",28943],["A6D0F48B",252507],["BA9443EB",266550],["886D0304",287489],["606FC990",290952],["DC096C52",284717],["A25EDA41",300791],["B5DC512F",288797],["41303CFE",254545],["BF4FC8A0",260380],["7DEBD604",262359],["19B88DB6",124422],["3FE9024F",83651],["45B39AA0",695517],["468019A5",522803],["178F33F9",724549],["1DFF87A8",543864],["34E25F98",770042],["B471ACEC",584649],["9A31C8AB",773486],["69138ED7",586195],["2B197D76",756785],["A81BC8F2",575557],["6CBB2A0F",817937],["8F227AF5",626642],["64A00033",763166],["5743DC04",581048],["B2E49CB7",695621],["736542D5",520364],["DE6516AD",711468],["FF181780",534178],["42A2B796",713699],["0C26F405",535801],["268740FF",143820],["FAF3B3A9",482245],["5EDBEA44",505409],["76203C2D",549564],["C0859452",538162],["E8E2CB3C",564031],["D95249A2",545114],["CCBBBDBD",536390],["23B00962",461405],["4CF7C0C2",481785],["657D5873",532684],["AB843211",624628],["4A470EB1",649861],["C097F647",528411],["1DD9A5E4",473577],["CD48E3DD",640701],["43C26113",126213],["4EBBC268",181948],["EFD76187",12925],["C2C155D6",331883],["A84095F4",1509992],["75869BAD",62707],["421E9846",317363],["962FB091",1487074],["49345F87",63760],["B49849FD",346999],["8E26B672",1691339],["0E0547BE",69664],["42A47AF4",330698],["267217A2",1554533],["5BF584ED",66055],["1B0FD60F",347436],["C48076A1",1749200],["AF58D88D",69924],["F47A457C",341942],["16E0133F",1682870],["0315060B",67728],["9B8572CA",313930],["9D7CD26A",1425380],["9CF8A919",58808],["54C2F830",319639],["AD6E8427",1514255],["DAFC0EC4",56486]]'),ue=(e,n,s)=>`corpus/${e}/${n}_${s}.txt.gz`,Jn=e=>Ue(e).size,Yn=async(e,n)=>{const[s,t]=await We(e,n);return t?.hash===s.hash?0:s.size},Qn=async e=>{try{const n=await ge(),s=(await Promise.all(e.flatMap(t=>$.collections[t].languages.flatMap(l=>$.collections[t].files.map(r=>Yn(n,ue(t,l,r))))))).reduce((t,l)=>t+l,0);return n.close(),s}catch{return e.flatMap(n=>$.collections[n].languages.flatMap(s=>$.collections[n].files.map(t=>Jn(ue(n,s,t))))).reduce((n,s)=>n+s,0)}},Zn=e=>"/poke-corpus/"+e,fa=async(e,n,s)=>{const t=Zn(s),[l,r]=await We(n,s);return r!==void 0?[await ta(e,t),r.hash===l.hash]:[void 0,!1]},Xn=e=>e!==null&&typeof e=="object"&&"hash"in e&&typeof e.hash=="string"&&"size"in e&&typeof e.size=="number",we=Kn,ea=Object.fromEntries(xs.flatMap(([e,n])=>n.languages.flatMap(s=>n.files.map(t=>ue(e,s,t)))).map((e,n)=>[e,{hash:we[n][0],size:we[n][1]}])),sa="corpus",J="files",ge=()=>{const e=indexedDB.open(sa);return new Promise((n,s)=>{e.onupgradeneeded=()=>{e.result.createObjectStore(J),e.transaction!==null&&(e.transaction.oncomplete=()=>{console.log("Created object store")})},e.onsuccess=()=>{n(e.result)},e.onerror=()=>{s(e.error)}})},Ue=e=>ea[e],na=(e,n)=>{const l=e.transaction([J],"readonly").objectStore(J).get(n);return new Promise((r,c)=>{l.onsuccess=()=>{r(Xn(l.result)?l.result:void 0)},l.onerror=()=>{c(l.error)}})},Aa=(e,n)=>{const l=e.transaction([J],"readwrite").objectStore(J).delete(n);return new Promise((r,c)=>{l.onsuccess=()=>{r(!0)},l.onerror=()=>{c(l.error)}})},We=async(e,n)=>[Ue(n),await na(e,n)],ma=()=>ge().then(e=>{const t=e.transaction(["files"],"readwrite").objectStore("files").clear();return e.close(),new Promise((l,r)=>{t.onsuccess=()=>{l(!0)},t.onerror=()=>{r(t.error)}})}),Fa=()=>ge().then(e=>{const t=e.transaction([J],"readonly").objectStore(J).getAllKeys();return e.close(),new Promise((l,r)=>{t.onsuccess=()=>{l(t.result.filter(c=>typeof c=="string"))},t.onerror=()=>{r(t.error)}})}),aa="corpus",Ea=async()=>await caches.open(aa),ta=async(e,n)=>{try{const s=await e.match(n);return s}catch(s){console.error(s);return}},ye="corpus-warn",la=2e7;function ra({showModal:e,richText:n,limit:s}){const{t}=w(),l=p.useRef(null),[r,c]=p.useState("initial"),[u,d]=p.useState(0),[h,D]=p.useState(!0),[i,F]=p.useState([]),[B,E]=p.useState(N(ye)!=="false"),v=p.useCallback(m=>{m.data.complete?(c(m.data.status),d(m.data.progress),D(m.data.showId),F(m.data.results),js.includes(m.data.status)&&e({message:t(`statusModal.${m.data.status}`),buttons:[{message:t("statusModal.buttons.ok"),autoFocus:!0}]})):(c(m.data.status),d(m.data.progress))},[]),R=()=>{l.current!==null&&(console.log("Terminating worker!"),l.current.removeEventListener("message",v),l.current.terminate(),l.current=null,c("initial"),d(0))},x=p.useCallback(m=>{F([]),m.query.length>0&&m.collections.length>0&&m.languages.length>0&&(l.current===null&&(console.log("Creating new worker..."),l.current=new vs,l.current.addEventListener("message",v)),d(0),l.current.postMessage(m))},[]),L=p.useCallback(m=>{if(c("waiting"),!B){x(m);return}Qn(m.collections).then(g=>{if(g<=la){x(m);return}e({message:t("searchModal.message",Es(g)),checkbox:{message:t("searchModal.checkboxDoNotShowAgain"),checked:!1},buttons:[{message:t("searchModal.buttons.yes"),callback:()=>{x(m)},checkboxCallback:o=>{E(!o),M(ye,(!o).toString())}},{message:t("searchModal.buttons.no"),callback:()=>{c("initial")},autoFocus:!0}],cancelCallback:()=>{c("initial")}})}).catch(g=>{console.error(g)})},[B]);return a.jsxs(a.Fragment,{children:[a.jsx(on,{status:r,postToWorker:L,terminateWorker:R}),a.jsx(Wn,{status:r,progress:u,showId:h,richText:n,results:i,limit:s})]})}function ca({classes:e,message:n,buttons:s,checkbox:t,cancelCallback:l}){const[r,c]=p.useState(!1),[u,d]=p.useState(t?.checked??!1),h=p.useRef(null),D=p.useRef(null);p.useEffect(()=>{(n||s||t)&&(c(!0),d(t?.checked??!1))},[n,s,t]),p.useEffect(()=>{const E=h.current,v=D.current;if(E!==null)if(r){if(E.showModal(),s){const R=s.findIndex(x=>x.autoFocus);v!==null&&R!==-1&&Array.from(v.children).filter(x=>x instanceof HTMLButtonElement)[R].focus()}}else E.close()},[r]);const i=(E,v)=>()=>{c(!1),E&&E(),v&&v(u)},F=()=>{l&&l(),c(!1)};if(!r)return null;const B=["modal"];return e&&e.forEach(E=>B.push(E)),a.jsxs("dialog",{ref:h,id:"modal",className:B.join(" "),onCancel:F,children:[a.jsx("div",{className:"modal-message",children:n}),t&&a.jsx("div",{className:"modal-checkbox",children:a.jsxs("div",{children:[a.jsx("input",{type:"checkbox",id:"modalCheckbox",name:"modalCheckbox",checked:u,onChange:E=>{d(E.target.checked)}}),a.jsx("label",{htmlFor:"modalCheckbox",children:t.message})]})}),a.jsx("div",{ref:D,className:"modal-button-group",children:s&&s.map(({message:E,callback:v,checkboxCallback:R,autoFocus:x},L)=>a.jsx("button",{type:"button",onClick:i(v,R),autoFocus:x,children:E},L))})]})}function Ke(){const{t:e}=w();return a.jsx("div",{className:"app-window",children:a.jsxs("section",{className:"results-section",children:[a.jsx("h2",{children:e("error.title")}),a.jsx("div",{children:e("error.message")})]})})}const oa=p.lazy(()=>_(()=>import("./CacheManager-D3duLOvH.js"),__vite__mapDeps([0,1,2,3,4])));function ia(){const{t:e}=w(),[n,s]=p.useState(ms),[t,l]=p.useState(As),[r,c]=p.useState("Search"),[u,d]=p.useState(null),[h,D]=p.useState(!1);p.useEffect(()=>{const x=Ie();document.body.classList.add(`mode-${x}`),D(!0)},[]);const i=x=>{d(x)},F=()=>{p.startTransition(()=>{const x=r!=="Search"?"Search":"CacheManager";c(x),h||D(x==="CacheManager")})},B=h&&a.jsx(oa,{active:r==="CacheManager",showModal:i}),E=a.jsxs("header",{className:"header",children:[a.jsx("h1",{children:a.jsxs("a",{href:"/poke-corpus/",children:[a.jsx("img",{className:"header-logo",src:"logo.svg",alt:"",height:"40",width:"40"})," ",e("title",{version:e("version")})]})}),a.jsx(le,{fallback:null,children:a.jsx(Bs,{showModal:i,richText:n,setRichText:s,limit:t,setLimit:l})})]}),v=a.jsxs("footer",{children:[a.jsx("span",{children:e("tagline")}),a.jsx("span",{className:"separator",children:" | "}),a.jsx("span",{children:e("footerText")}),a.jsx("span",{className:"separator",children:" | "}),a.jsx("span",{children:a.jsx("button",{className:"link",onClick:F,children:e(r!=="Search"?"backToSearch":"manageCache")})}),a.jsx("span",{className:"separator",children:" | "}),a.jsx("span",{children:a.jsx("a",{href:"https://github.com/abcboy101/poke-corpus",children:e("github")})})]}),R=["app",`view-${r.toLowerCase()}`];return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&R.push("ua-safari"),a.jsxs("div",{className:R.join(" "),lang:V.language,dir:V.dir(),children:[E,a.jsxs(le,{FallbackComponent:Ke,children:[a.jsx(ra,{showModal:i,richText:n,limit:t}),B]}),v,a.jsx(ca,{...u})]})}function ua(){return a.jsx("div",{className:"app",children:a.jsx(Ke,{})})}const pa=ts.createRoot(document.getElementById("root"));pa.render(a.jsx(as.StrictMode,{children:a.jsx(le,{FallbackComponent:ua,children:a.jsx(ia,{})})}));gs({onOfflineReady(){console.log("Ready to work offline!")}});export{pn as P,ge as a,ue as b,xs as c,fa as d,Fa as e,Aa as f,Ea as g,Qn as h,Es as i,k as j,ma as k,$ as l};
