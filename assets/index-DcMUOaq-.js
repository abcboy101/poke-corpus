const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CacheManager-a_uxIRiE.js","assets/vendor-ZM8Ga059.js","assets/react-dom-BzboLVQ4.js","assets/i18n-en-84MEhzKe.js","assets/CacheManager-DXJ-4Lin.css"])))=>i.map(i=>d[i]);
import{u as F,r as l,j as n,i as T,B as Ie,a as Te,b as Oe,E as ce,R as Ve}from"./vendor-ZM8Ga059.js";import{R as Me}from"./react-dom-BzboLVQ4.js";import{t as He,i as qe,f as $e,l as ze,c as Ge,a as Ue}from"./i18n-en-84MEhzKe.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const We="modulepreload",Je=function(e){return"/poke-corpus/"+e},ge={},m=function(s,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");a=Promise.allSettled(t.map(h=>{if(h=Je(h),h in ge)return;ge[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":We,f||(c.as="script"),c.crossOrigin="",c.href=h,u&&c.setAttribute("nonce",u),document.head.appendChild(c),f)return new Promise((g,b)=>{c.addEventListener("load",g),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return a.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return s().catch(o)})};function Ke(e={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:i}=e;let u,h;const f=async(c=!0)=>{await h};async function p(){if("serviceWorker"in navigator){if(u=await m(async()=>{const{Workbox:c}=await import("./workbox-window.prod.es5-DL_hIMXg.js");return{Workbox:c}},[]).then(({Workbox:c})=>new c("/poke-corpus/sw.js",{scope:"/poke-corpus/",type:"classic"})).catch(c=>{i?.(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||r?.()}),u.register({immediate:s}).then(c=>{o?o("/poke-corpus/sw.js",c):a?.(c)}).catch(c=>{i?.(c)})}}return h=p(),f}const me=e=>e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&");function I(e){try{return localStorage.getItem(e)}catch{return null}}function $(e,s){try{localStorage.setItem(e,s)}catch{return}}const be=["system","light","dark"],xe=e=>be.some(s=>e===s),Ze=e=>typeof e=="string"&&xe(e)?e:"system",Fe=()=>Ze(I("mode")),ae=500,Ye=e=>!Number.isNaN(e)&&Number.isInteger(e)&&e>0,Qe=()=>{const e=+(I("corpus-limit")??ae);return Number.isNaN(e)?ae:e},Xe=()=>I("corpus-richText")!=="false",pe=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function et(e){const s=Math.min(Math.floor((e.toString().length-1)/3),pe.length-1),t={style:"unit",unit:pe[s],unitDisplay:s===0?"long":"short",minimumFractionDigits:s===0?0:1,maximumFractionDigits:1,maximumSignificantDigits:3,roundingPriority:"lessPrecision"};return{amount:e/Math.pow(1e3,s),formatParams:{amount:t}}}function tt(e,s=1){return{amount:e,formatParams:{amount:{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s}}}}const st=[{code:"en",name:"English (United States)"},{code:"en-GB",name:"English (United Kingdom)"},{code:"ja",name:"日本語"},{code:"de",name:"Deutsch"},{code:"fr",name:"Français (France)"},{code:"fr-CA",name:"Français (Canada)"},{code:"es",name:"Español (España)"},{code:"it",name:"Italiano"},{code:"ko",name:"한국어"},{code:"zh-Hans",name:"简体中文"},{code:"zh-Hant",name:"繁体中文"}];function nt({showModal:e,richText:s,richTextRef:t,limit:r,limitRef:a}){const{t:o}=F(),[i,u]=l.useState(Fe),h=c=>{T.changeLanguage(c.target.value,g=>{g?.some(b=>!b.message.includes("Unknown variable dynamic import"))&&(console.error(g),e({message:o("options.network"),buttons:[{message:n.jsx(ve,{}),autoFocus:!0}]}))}).catch(g=>{console.error(g)})},f=c=>{const g=c.target.value;xe(g)&&(u(g),$("mode",g),document.body.classList.replace(`mode-${i}`,`mode-${g}`))},p=c=>{const g=c.target.value;(g==="true"||g==="false")&&$("corpus-longURL",g)};return n.jsx("div",{className:"options",children:n.jsxs("div",{className:"options-grid",children:[n.jsx("label",{htmlFor:"language",children:o("options.language")}),n.jsx("select",{name:"language",id:"language",onChange:h,defaultValue:T.language,autoFocus:!0,children:st.map(c=>n.jsx("option",{value:c.code,lang:c.code,children:c.name},c.code))}),n.jsx("label",{htmlFor:"mode",children:o("options.mode")}),n.jsx("select",{name:"mode",id:"mode",onChange:f,defaultValue:i,children:be.map(c=>n.jsx("option",{value:c,children:o(`options.modes.${c}`)},c))}),n.jsx("label",{htmlFor:"longURL",children:o("options.longURL")}),n.jsx("select",{name:"longURL",id:"longURL",onChange:p,defaultValue:I("corpus-longURL")??"false",children:["true","false"].map(c=>n.jsx("option",{value:c,children:o(`options.longURLSelect.${c}`)},c))}),n.jsx("label",{htmlFor:"richText",children:o("options.richText")}),n.jsx("select",{ref:t,name:"richText",id:"richText",defaultValue:s?"true":"false",children:["true","false"].map(c=>n.jsx("option",{value:c,children:o(`options.richTextSelect.${c}`)},c))}),n.jsx("label",{htmlFor:"limit",children:o("options.limit")}),n.jsx("input",{ref:a,type:"number",name:"limit",id:"limit",min:1,defaultValue:r})]})})}function ve(){const{t:e}=F();return e("options.close")}function rt(e){const{t:s}=F(),{showModal:t,setRichText:r,setLimit:a}=e,o=l.useRef(null),i=l.useRef(null),u=()=>{if(o.current!==null){const f=o.current.value;(f==="true"||f==="false")&&($("corpus-richText",f),r(f!=="false"))}if(i.current!==null){const f=i.current.valueAsNumber;Ye(f)&&($("corpus-limit",f.toString()),a(f))}},h={classes:["modal-options"],message:n.jsx(nt,{...e,richTextRef:o,limitRef:i}),buttons:[{message:n.jsx(ve,{}),callback:u}],cancelCallback:u};return n.jsxs("button",{className:"header-options",onClick:()=>{t(h)},children:[n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#gear"})}),s("options.options")]})}function at(e){return new Worker("/poke-corpus/assets/searchWorkerManager-DZZF3f8b.js",{name:e?.name})}function ot(e){return new Worker("/poke-corpus/assets/textWorker-CZz6Rk8A.js",{name:e?.name})}const it=["error","regex","noMatch","network","boolean.parentheses","boolean.regex","boolean.slash","boolean.quote","boolean.operand","boolean.empty","boolean.where"],lt=e=>it.some(s=>e===s),ct=["waiting","loading","processing","collecting"],_e=e=>ct.some(s=>e===s),ut={languages:["qid","ja-Hrkt","ja","en","en-GB","fr","it","de","es","es-419","ko","zh-Hans","zh-Hans-CN","zh-Hant","pt-BR","th","ru","tr","id","hi"],collections:{Red:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},RubySapphire:{id:"rs",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.1",en:"1.2",fr:"1.1",it:"1.1",de:"1.1",es:"1.1"},files:["msg"],literals:{KUN:{branch:"gender",line:[12348,12349]},VERSION:{branch:"version",line:[12351,12350]},EVIL_TEAM:{branch:"version",line:[12353,12352]},GOOD_TEAM:{branch:"version",line:[12352,12353]},EVIL_LEADER:{branch:"version",line:[12355,12354]},GOOD_LEADER:{branch:"version",line:[12354,12355]},EVIL_LEGENDARY:{branch:"version",line:[12357,12356]},GOOD_LEGENDARY:{branch:"version",line:[12356,12357]},RIVAL:{branch:"gender",line:[12359,12358]}}},FireRedLeafGreen:{id:"frlg",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.0",en:"1.1",fr:"1.0",it:"1.0",de:"1.0",es:"1.0"},files:["msg"],literals:{KUN:{branch:"gender",line:[9351,9352]}}},Emerald:{id:"e",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:"1.0",files:["msg"],literals:{KUN:{branch:"gender",line:[15105,15106]},VERSION:{line:15109},EVIL_TEAM:{line:15110},GOOD_TEAM:{line:15111},EVIL_LEADER:{line:15112},GOOD_LEADER:{line:15113},EVIL_LEGENDARY:{line:15114},GOOD_LEGENDARY:{line:15115},RIVAL:{branch:"gender",line:[15117,15116]}}},DiamondPearl:{id:"dp",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid","ja-Hrkt","en","fr","it","de","es","ko"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hans-CN","zh-Hant"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Stadium:{id:"stad",languages:["qid","en","fr","it","de","es"],structured:!0,files:["msg"]},Stadium2:{id:"stad2",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,files:["msg"]},Box:{id:"box",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,files:["message"]},Colosseum:{id:"colo",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,version:{ja:"0/1/2",en:"0","en-GB":"0",fr:"0",it:"0",de:"0",es:"0"},files:["message"],literals:{'"No."':{branch:"language",line:{ja:992,en:993,"en-GB":993,de:994,fr:995,es:996,it:997}},'"Lv."':{branch:"language",line:{ja:998,en:999,"en-GB":999,de:1e3,fr:1001,es:1002,it:1003}},'"HP"':{branch:"language",line:{ja:1036,en:1037,"en-GB":1037,de:1038,fr:1039,es:1040,it:1041}},'"PP"':{branch:"language",line:{ja:1042,en:1043,"en-GB":1043,de:1044,fr:1045,es:1046,it:1047}}}},Ranch:{id:"ranch",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,version:{"ja-Hrkt":"258",en:"256","en-GB":"1",fr:"1",it:"1",de:"1",es:"1"},files:["msg"]},Bank:{id:"bank",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:{megaturtle_nx:"3.2.1"},files:["megaturtle_nx","megaturtle_sp"]},GO:{id:"go",languages:["qid","ja","en","fr","it","de","es","es-419","ko","zh-Hant","pt-BR","th","ru","tr","id","hi"],structured:!0,softWrap:!0,files:["text"]},Masters:{id:"masters",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hant"],structured:!0,softWrap:!0,files:["messages","talk","ui"]}}},z="qid",dt="zxx",C=ut,L=Object.keys(C.collections),ht=Object.entries(C.collections),ft=e=>L.some(s=>e===s),gt=e=>C.languages.some(s=>e===s),G=["exact","regex","boolean","all"],ue=e=>G.some(s=>e===s),we={id:"",file:"",query:"",type:"all",caseInsensitive:!0,common:!0,script:!0,showAllLanguages:!0,collections:L.filter(e=>C.collections[e].structured),languages:C.languages,run:!1};function mt(e){const s={};return e.id!==void 0&&(s.id=e.id),e.file!==void 0&&(s.file=e.file),e.run!==void 0&&(s.run=e.run.toString()),new URLSearchParams({query:e.query,type:e.type,caseInsensitive:e.caseInsensitive.toString(),common:e.common.toString(),script:e.script.toString(),showAllLanguages:e.showAllLanguages.toString(),collections:e.collections.join(","),languages:e.languages.join(","),...s}).toString()}function pt(e){const s=new URLSearchParams(e);return{id:U(s.get("id")),file:U(s.get("file")),query:U(s.get("query")),type:Et(s.get("type")??(s.get("regex")==="true"?"regex":null),ue),caseInsensitive:Q(s.get("caseInsensitive")),common:Q(s.get("common")),script:Q(s.get("script")),showAllLanguages:Q(s.get("showAllLanguages")),collections:Ee(s.get("collections"),ft),languages:Ee(s.get("languages"),gt,At),run:Q(s.get("run"))}}function U(e){return e??void 0}function Q(e){switch(e){case"true":return!0;case"false":return!1}}function Et(e,s){if(e!==null&&s(e))return e}function Ee(e,s,t=r=>r){if(e!==null)return e.split(",").map(t).filter(s)}function At(e){switch(e){case"qid-ZZ":case"ja-JP":case"en-US":case"fr-FR":case"it-IT":case"de-DE":case"es-ES":case"ko-KR":return e.split("-",1)[0];case"ja-Hrkt-JP":return"ja-Hrkt";case"zh-CN":return"zh-Hans";case"zh-TW":return"zh-Hant";default:return e}}const jt=L.length^C.languages.length<<4,te=2,X=Math.ceil(C.languages.length/8),Ct=Math.ceil(L.length/8),de=X+Ct,ye=64,se=Math.ceil(Math.log2(C.languages.length+L.length)),ke=te+de,Dt=e=>btoa(String.fromCodePoint(...e)).replaceAll("/","_").replaceAll("+","-").replace(/=+$/,""),Bt=e=>Uint8Array.from(atob(e.replaceAll("_","/").replaceAll("-","+")),s=>s.charCodeAt(0));function bt(e){const s={};e.id!==void 0&&(s.id=e.id),e.file!==void 0&&(s.file=e.file);const t=Ft(e);return Lt(t),new URLSearchParams({...s,q:e.query,s:Dt(t)}).toString()}function xt(e){const s=new URLSearchParams(e),t={id:U(s.get("id")),file:U(s.get("file")),query:U(s.get("q"))},r=U(s.get("s"));if(!r)return t;try{const a=Bt(r).subarray(0,ke);return Rt(a),{...t,...vt(a)}}catch{return t}}function Ft(e){const s=new Uint8Array(ke);s[1]=+(e.run??we.run)<<0|+e.caseInsensitive<<1|+e.common<<2|+e.script<<3|G.indexOf(e.type)<<4|+!e.showAllLanguages<<7;const t=s.subarray(te);_t(e,t),yt(t,s.subarray(1,2));let r=s.length;for(;s[r-1]===0&&r>1;)r--;return s.subarray(0,r)}function vt(e){const s=new Uint8Array(de);e[1]&ye?wt(e.subarray(te),s):s.set(e.subarray(te));const t=C.languages.filter((a,o)=>W(s,o)===1),r=L.filter((a,o)=>W(s,8*X+o)===1);return{run:(e[1]&1)!==0,caseInsensitive:(e[1]&2)!==0,common:(e[1]&4)!==0,script:(e[1]&8)!==0,type:G[(e[1]&48)>>4],showAllLanguages:(e[1]&128)===0,languages:t,collections:r}}function _t(e,s){C.languages.forEach((t,r)=>{e.languages.includes(t)&&K(s,r)}),L.forEach((t,r)=>{e.collections.includes(t)&&K(s,8*X+r)})}function wt(e,s){const t=St(e);C.languages.forEach((r,a)=>{t.next().value&&K(s,a)}),L.forEach((r,a)=>{t.next().value&&K(s,8*X+a)})}function yt(e,s){const t=W(e,0)===1,r=kt(e,t);let a=e.length;for(;e[a-1]===0;)a--;if(1+r.length*se<8*a){s[0]|=ye,e.fill(0),t||K(e,0);let o=1;r.forEach(([i])=>{for(let u=0;u<se;o++,u++)K(e,o,i>>u&1)})}}function kt(e,s){const t=[[0,s]];return C.languages.forEach((r,a)=>{const o=W(e,a)===1;t[t.length-1][1]===o?t[t.length-1][0]++:t.push([1,o])}),L.forEach((r,a)=>{const o=W(e,8*X+a)===1;t[t.length-1][1]===o?t[t.length-1][0]++:t.push([1,o])}),t.pop(),t}function*St(e){const s=new Uint8Array(de);s.set(e);let t=W(s,0)!==1;for(let r=1;r+se<=s.length*8;){let a=0;for(let o=0;o<se;r++,o++)a|=W(s,r)<<o;if(a===0)break;for(;a>0;)yield t,a--;t=!t}for(;;)yield t}function K(e,s,t=1){e[s>>3]|=t<<(s&7)}function W(e,s){return e[s>>3]>>(s&7)&1}function Lt(e){const s=e[0]=Se(e);Le(s,e)}function Rt(e){const s=e[0];if(Le(s,e),s!==Se(e))throw Error("invalid checksum")}function Se(e,s=1){return e.subarray(s).reduce((t,r)=>t+r&255,0)^jt&255}function Le(e,s,t=1){let r=Pt(e);for(let a=t;a<s.length;a++)s[a]^=r>>24,r=Nt(r)}const Pt=e=>2480367069*e&4294967295,Nt=e=>2438952949*e+2654435769&4294967295;function oe(e){return(I("corpus-longURL")==="true"?mt:bt)(e)}function It(e){const s=new URLSearchParams(e);return(s.get("q")||s.get("s")?xt:pt)(e)}const Tt=(e,s,t)=>{const r=e[s];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((a,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};T.use(Ie).use(Te).use(Oe((e,s)=>Tt(Object.assign({"./de/collections.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.c),[]),"./de/files.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.f),[]),"./de/languages.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.l),[]),"./de/translation.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.t),[]),"./en-GB/translation.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.j),[]),"./en/collections.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.d),[]),"./en/files.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.g),[]),"./en/icons.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.h),[]),"./en/languages.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.e),[]),"./en/translation.json":()=>m(()=>import("./i18n-en-84MEhzKe.js").then(t=>t.b),[]),"./es/collections.json":()=>m(()=>import("./i18n-es-DMw6BnNb.js").then(t=>t.c),[]),"./es/files.json":()=>m(()=>import("./i18n-es-DMw6BnNb.js").then(t=>t.f),[]),"./es/languages.json":()=>m(()=>import("./i18n-es-DMw6BnNb.js").then(t=>t.l),[]),"./es/translation.json":()=>m(()=>import("./i18n-es-DMw6BnNb.js").then(t=>t.t),[]),"./fr-CA/translation.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.t),[]),"./fr/collections.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.c),[]),"./fr/files.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.f),[]),"./fr/languages.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.l),[]),"./fr/translation.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.a),[]),"./it/collections.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.c),[]),"./it/files.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.f),[]),"./it/languages.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.l),[]),"./it/translation.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.t),[]),"./ja/collections.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.c),[]),"./ja/files.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.f),[]),"./ja/icons.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.i),[]),"./ja/languages.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.l),[]),"./ja/translation.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.t),[]),"./ko/collections.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.c),[]),"./ko/files.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.f),[]),"./ko/languages.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.l),[]),"./ko/translation.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.t),[]),"./zh-Hans/collections.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.c),[]),"./zh-Hans/files.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.f),[]),"./zh-Hans/languages.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.l),[]),"./zh-Hans/translation.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.t),[]),"./zh-Hant/collections.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.a),[]),"./zh-Hant/files.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.b),[]),"./zh-Hant/languages.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.d),[]),"./zh-Hant/translation.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.e),[])}),`./${e}/${s}.json`,3))).init({partialBundledLanguages:!0,fallbackLng:"en",ns:["translation","collections","languages","files","icons"],resources:{en:{translation:Ue,collections:Ge,languages:ze,files:$e,icons:qe},"en-GB":{translation:He}}}).catch(e=>{console.error(e)});function ie(e,s=4){let t=0;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r)>255?1:.5;return t<=s?void 0:{fontSize:`${s*100/t}%`,scale:`1 ${t/s}`,whiteSpace:"nowrap"}}function Ot(e){if(e.length===0)return new Set(L);const s=new Set,t=new Set(e);for(const r of L)C.collections[r].languages.some(a=>t.has(a))&&s.add(r);return s}function Vt(e){if(e.length===0)return new Set(C.languages);const s=new Set;for(const t of e)for(const r of C.collections[t].languages)s.add(r);return s}function Mt({collections:e,languages:s,setCollections:t}){const{t:r}=F(),a=["ja","ko","zh"].some(i=>T.language.startsWith(i)),o=Ot(s);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"search-collections",children:L.map(i=>[i,r(`collections:${i}.name`),r(`collections:${i}.short`)]).map(([i,u,h])=>n.jsxs("div",{className:`search-collection search-${o.has(i)?"valid":"invalid"}`,children:[n.jsx("input",{type:"checkbox",name:`collection-${i}`,id:`collection-${i}`,checked:e.includes(i),onChange:f=>{f.target.checked&&!e.includes(i)?t(e.concat([i])):!f.target.checked&&e.includes(i)&&t(e.filter(p=>p!==i))}}),n.jsx("label",{htmlFor:`collection-${i}`,style:a?ie(h):void 0,children:u===h?u:n.jsx("abbr",{title:u,children:h})})]},i))}),n.jsxs("div",{className:"item-group",children:[n.jsx("button",{disabled:e.length===L.length,onClick:()=>{t(L)},children:r("selectAll")}),n.jsx("button",{disabled:e.length===0,onClick:()=>{t([])},children:r("deselectAll")})]})]})}function Ht({collections:e,languages:s,setLanguages:t}){const{t:r}=F(),a=["ja","ko","zh"].some(i=>T.language.startsWith(i)),o=Vt(e);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"search-languages",children:C.languages.map(i=>[i,r(`languages:${i}.name`),r(`languages:${i}.code`)]).map(([i,u,h])=>n.jsxs("div",{className:`search-language search-${o.has(i)?"valid":"invalid"}`,children:[n.jsx("input",{type:"checkbox",name:`language-${i}`,id:`language-${i}`,checked:s.includes(i),onChange:f=>{f.target.checked&&!s.includes(i)?t(s.concat([i])):!f.target.checked&&s.includes(i)&&t(s.filter(p=>p!==i))}}),n.jsxs("label",{htmlFor:`language-${i}`,children:[n.jsx("span",{className:"search-language-code",children:n.jsx("abbr",{title:u,children:h})}),n.jsx("span",{className:"search-language-name",style:a?ie(u,12):ie(u,15),children:u})]})]},i))}),n.jsxs("div",{className:"item-group",children:[n.jsx("button",{disabled:s.length===C.languages.length,onClick:()=>{t(C.languages)},children:r("selectAll")}),n.jsx("button",{disabled:s.length===0,onClick:()=>{t([])},children:r("deselectAll")})]})]})}function qt({filtersVisible:e,collections:s,setCollections:t,languages:r,setLanguages:a}){const o=l.useRef(null),i=()=>o.current?.style.setProperty("--search-filters-height",`${o.current.scrollHeight}px`);return l.useEffect(()=>{if(!CSS.supports("interpolate-size","allow-keywords"))return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]),n.jsx("div",{ref:o,className:`search-filters search-filters-${e?"show":"hide"}`,children:n.jsxs(n.Fragment,{children:[n.jsx(Mt,{collections:s,languages:r,setCollections:t}),n.jsx("div",{className:"search-filters-divider"}),n.jsx(Ht,{collections:s,languages:r,setLanguages:a})]})})}const Ae=C.languages.filter(e=>e.startsWith(T.language.split("-")[0])),je={...we,languages:Ae.length===0?C.languages.filter(e=>e.startsWith("en")):Ae},$t=()=>{const e=I("corpus-params");if(e===null)return je;const s={...je},t=JSON.parse(e);return typeof t=="object"&&t!==null&&("type"in t&&typeof t.type=="string"&&ue(t.type)&&(s.type=t.type),"caseInsensitive"in t&&typeof t.caseInsensitive=="boolean"&&(s.caseInsensitive=t.caseInsensitive),"common"in t&&typeof t.common=="boolean"&&(s.common=t.common),"script"in t&&typeof t.script=="boolean"&&(s.script=t.script),"showAllLanguages"in t&&typeof t.showAllLanguages=="boolean"&&(s.showAllLanguages=t.showAllLanguages)),s},zt=[G[3],G[0],G[1],G[2]];function Gt({waiting:e,inProgress:s,postToWorker:t,terminateWorker:r}){const{t:a}=F(),o=l.useMemo($t,[]),[i,u]=l.useState(o.id),[h,f]=l.useState(o.file),[p,c]=l.useState(o.query),[g,b]=l.useState(o.type),[A,x]=l.useState(o.caseInsensitive),[D,w]=l.useState(o.common),[v,O]=l.useState(o.script),[R,V]=l.useState(o.showAllLanguages),[j,_]=l.useState(o.collections),[P,y]=l.useState(o.languages),[M,E]=l.useState(o.run),[B,k]=l.useState((I("corpus-filtersVisible")??(window.location.hash?"false":"true"))!=="false"),N=l.useCallback(()=>{const d=It(window.location.hash.substring(1));d.id!==void 0&&u(d.id),d.file!==void 0&&f(d.file),d.query!==void 0&&c(d.query),d.type!==void 0&&b(d.type),d.caseInsensitive!==void 0&&x(d.caseInsensitive),d.common!==void 0&&w(d.common),d.script!==void 0&&O(d.script),d.showAllLanguages!==void 0&&V(d.showAllLanguages),d.collections!==void 0&&_(d.collections),d.languages!==void 0&&y(d.languages),d.run!==void 0&&E(d.run),I("corpus-filtersVisible")===null&&k(!d.id&&!d.file&&!d.run&&(!d.query||!d.collections||!d.languages))},[]);l.useEffect(()=>(window.location.hash&&N(),window.addEventListener("hashchange",N),()=>{window.removeEventListener("hashchange",N)}),[N]),l.useEffect(()=>{$("corpus-params",JSON.stringify({type:g,caseInsensitive:A,common:D,script:v,showAllLanguages:R}))},[g,A,D,v,R]),l.useEffect(()=>{if(i!==""){const d=i.split(".")[0];t({query:`^${me(i)}$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,collections:L.filter(q=>C.collections[q].id===d),languages:[z]}),u("")}},[i,t]),l.useEffect(()=>{if(h!==""){const d=h.split(".")[0];t({query:`^${me(h)}\\..*$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,collections:L.filter(q=>C.collections[q].id===d),languages:[z]}),f("")}},[h,t]),l.useEffect(()=>{if(M){const d={query:p,type:g,caseInsensitive:A,common:D,script:v,showAllLanguages:R,collections:j,languages:P};window.location.hash=oe(d),t(d),E(!1)}},[M,t]);const S=d=>{d.preventDefault(),I("corpus-filtersVisible")||$("corpus-filtersVisible",B.toString());const q=document.getElementsByClassName("view-search").item(0);q&&q.scrollHeight>document.body.clientHeight&&k(!1);const fe={query:p,type:g,caseInsensitive:A,common:D,script:v,showAllLanguages:R,collections:j,languages:P};window.location.hash=oe(fe),t(fe)},H=()=>{r()},Z=()=>{const d=!B;k(d),$("corpus-filtersVisible",d.toString())},ne=d=>{const q=d.target.value;ue(q)&&b(q)},re=e||s||p.length===0||j.length===0||P.length===0,Y=l.useMemo(()=>n.jsx(qt,{filtersVisible:B,collections:j,setCollections:_,languages:P,setLanguages:y}),[B,j,P]);return n.jsxs("form",{className:"search-form",role:"search",onSubmit:S,children:[n.jsxs("div",{className:"search-bar",children:[n.jsxs("div",{className:"item-group",children:[n.jsx("label",{htmlFor:"query",children:a("query")}),n.jsx("input",{type:"text",name:"query",id:"query",value:p,onChange:d=>{c(d.target.value)}}),n.jsxs("div",{className:"btn-alternate-container",children:[n.jsx("input",{id:"submit",type:"submit",className:s?"invisible":"visible",value:a("search"),disabled:re}),n.jsx("button",{type:"button",className:s?"visible":"invisible",onClick:H,disabled:!s,children:a("cancel")})]}),n.jsx("button",{type:"button",className:B?"active":void 0,onClick:Z,children:a("filters")}),n.jsx("select",{name:"type",id:"type",onChange:ne,value:g,title:a("searchType.searchType"),"aria-label":a("searchType.searchType"),children:zt.map(d=>n.jsx("option",{value:d,children:a(`searchType.${d}`)},d))})]}),n.jsxs("div",{className:"item-group search-option-group",children:[n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"caseInsensitive",id:"caseInsensitive",checked:A,onChange:d=>{x(d.target.checked)}}),n.jsx("label",{htmlFor:"caseInsensitive",children:a("caseInsensitive")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"common",id:"common",checked:D,onChange:d=>{w(d.target.checked)}}),n.jsx("label",{htmlFor:"common",children:a("common")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"script",id:"script",checked:v,onChange:d=>{O(d.target.checked)}}),n.jsx("label",{htmlFor:"script",children:a("script")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"showAllLanguages",id:"showAllLanguages",checked:R,onChange:d=>{V(d.target.checked)}}),n.jsx("label",{htmlFor:"showAllLanguages",children:a("showAllLanguages")})]})]})]}),Y]})}function Ut({src:e,active:s=!0}){const t=l.useRef(null);l.useEffect(()=>{t.current?.classList.add("spinner-stopped")},[]),l.useEffect(()=>{const a=t.current;if(a!==null){const o=()=>{s||a.classList.add("spinner-stopped")};return a.addEventListener("animationiteration",o),()=>{a.removeEventListener("animationiteration",o)}}},[s]);const r=["spinner",s?"spinner-active":"spinner-inactive"];return n.jsx("img",{ref:t,className:r.join(" "),src:e,alt:""})}function Wt({progress:e}){const{t:s}=F(),t=Math.min(Math.max(0,e*100),100);return n.jsxs("div",{className:"progress-bar-container",role:"progressbar","aria-label":s("progressBar.title"),"aria-valuenow":t,children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-complete",style:{width:`${t}%`,maxWidth:t===0?0:void 0,visibility:t===0?"hidden":void 0}})}),n.jsx("div",{className:"progress-bar-text",children:s("progressBar.value",tt(e))})]})}const Jt=e=>{if("share"in navigator){const s=e.currentTarget.href;e.preventDefault(),navigator.share({url:s}).catch(t=>{t instanceof Error&&t.name!=="AbortError"||(console.error(t),window.open(s,"_blank"))})}};function Kt({hash:e}){const{t:s}=F();return n.jsx("a",{href:e,rel:"bookmark noreferrer",target:"_blank",title:s("share"),onClick:Jt,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#share"})})})}function Zt({hash:e,callback:s}){const{t}=F();return n.jsx("a",{href:e,rel:"bookmark noreferrer",title:t("viewNearby"),onClick:s,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#file-lines"})})})}function Yt({callback:e}){const{t:s}=F();return n.jsx("button",{className:"link",title:s("copy"),onClick:e,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#copy"})})})}function Qt(e,s,t,r){return e.replaceAll(/<a class="speaker" data-var="(.+?)">(.+?)<\/a>/gu,(a,o,i)=>`<a class="speaker" href="#${oe({query:o,type:"exact",caseInsensitive:!1,common:!1,script:!0,showAllLanguages:!1,collections:[s],languages:[t],run:!0})}" title="${r}">${i}</a>`)}const Xt=(e,s)=>s===z?e.replaceAll(/([._/]|([a-z])(?=[A-Z])|([A-Za-z])(?=[0-9]))/gu,"$1<wbr>"):e;function es(){const{t:e}=F();return n.jsx("div",{className:"results-rendering",children:e("status.rendering")})}function ts({id:e}){return n.jsx("td",{className:"results-table-actions-cell",children:n.jsxs("div",{className:"results-table-actions",children:[n.jsx(Kt,{hash:`#id=${e}`}),n.jsx(Zt,{hash:`#file=${e.split(".").slice(0,-1).join(".")}`})]})},"actions")}function ss({index:e,collection:s,file:t,languages:r,lines:a,start:o,end:i,showId:u,richText:h,sectionOffset:f,onShowSection:p}){const{t:c}=F(),g=r.indexOf(z),b=r.map(j=>j===z?dt:j),A=c("viewSpeaker"),x=C.collections[s].speaker!==void 0,D=b.map(j=>T.dir(j)),w=D.every(j=>j===D[0]),v=l.useRef(null),O=()=>{const j=v.current,_=window.getSelection();_!==null&&j!==null&&(_.removeAllRanges(),_.selectAllChildren(j),document.execCommand("copy"),_.removeAllRanges())},R=["results-table",`collection-${C.collections[s].id??s.toLowerCase()}`,`file-${t}`,`rich-text-${h?"enabled":"disabled"}`];C.collections[s].softWrap===!0&&R.push("soft");const V=n.jsx("div",{className:"results-table-container",children:n.jsxs("table",{ref:v,className:R.join(" "),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[g!==-1&&n.jsx("th",{className:"results-table-actions-cell",children:n.jsx(Yt,{callback:O})}),r.filter(j=>u||j!==z).map(j=>n.jsx("th",{children:n.jsx("abbr",{title:c(`languages:${j}.name`),children:c(`languages:${j}.code`)})},j))]})}),n.jsx("tbody",{dir:w&&D[0]!==T.dir()?D[0]:void 0,children:a.map((j,_)=>o<=_&&_<i&&n.jsxs("tr",{"data-id":g!==-1?j[g]:void 0,children:[g!==-1&&n.jsx(ts,{id:j[g]}),j.map((P,y)=>{if(u||r[y]!==z)return n.jsx("td",{lang:b[y],dir:w?void 0:D[y],dangerouslySetInnerHTML:{__html:Xt(x?Qt(P,s,r[y],A):P,r[y])}},y)})]},_))})]})});return n.jsxs(n.Fragment,{children:[o!==0&&n.jsx("button",{className:"results-notice",onClick:p(f,e),children:c("tablePartial",{count:o})}),o!==i&&V,i<a.length&&n.jsx("button",{className:"results-notice",onClick:p(f+i,e),children:c("tablePartial",{count:a.length-i})})]})}function ns(e){const{index:s,status:t,header:r,offset:a,limit:o,lines:i,sectionOffset:u,richText:h}=e,f=Math.max(0,Math.min(i.length,a-u)),p=Math.max(0,Math.min(i.length,a+o-u)),c=l.useMemo(()=>{switch(t){case"noLines":return;case"worker":return n.jsx(es,{});case"done":return n.jsx(ss,{...e,start:f,end:p})}},[t,f,p,h]);return c&&n.jsxs("section",{id:`results-section${s}`,className:"results-section",children:[r&&n.jsx("h2",{children:r}),c]})}function rs({results:e,headers:s,jumpTo:t,...r}){const a=l.useMemo(()=>{let o=0;const i=[];for(const[u,h]of e.entries()){if(h.status==="initial")break;const f=h.status==="done"&&h.richText;i.push({...r,...h.params,index:u,sectionOffset:o,richText:f,status:h.status,header:s[u]}),o+=h.params.lines.length}return i},[e,r]);return l.useEffect(()=>{let o=0;for(const[i,u]of e.entries())if(u.status!=="initial"){if(r.offset>=o&&r.offset<o+u.params.lines.length){t(i);break}o+=u.params.lines.length}},[r.offset]),n.jsx("div",{className:"app-window-inner",children:a.map(o=>n.jsx(ns,{...o},o.index))})}function ee(e){const s=document.getElementById("results"),t=document.getElementById(`results-section${e}`),r=s?.firstElementChild;s&&t&&r instanceof HTMLElement&&(s.scrollTop=t.offsetTop-r.offsetTop)}function as({headers:e}){const{t:s}=F();return n.jsx("nav",{className:"results-jump",children:n.jsxs("select",{name:"jump",id:"jump",onChange:t=>{ee(Number(t.target.value))},value:"",children:[n.jsx("option",{value:"",disabled:!0,children:s("jumpTo")}),e.map((t,r)=>t!==void 0&&(r===0||e[r-1]!==t)&&n.jsx("option",{value:r,children:t},r))]})})}function os({count:e,offset:s,limit:t,setOffset:r}){const{t:a}=F();return n.jsxs("div",{className:"results-nav",children:[n.jsxs("div",{children:[n.jsx("span",{className:"results-nav-range-long",children:a("displayedRange.long",{count:e,start:s+1,end:Math.min(e,s+t)})}),n.jsx("span",{className:"results-nav-range-short",children:a("displayedRange.short",{count:e,start:s+1,end:Math.min(e,s+t)})})]}),n.jsx("button",{className:"button-square",disabled:s===0,onClick:()=>{r(Math.max(0,s-t))},title:a("loadPrev"),children:a("icons:loadPrev",{limit:t})}),n.jsx("button",{className:"button-square",disabled:s+t>=e,onClick:()=>{r(Math.min(Math.floor(e/t)*t,s+t))},title:a("loadNext"),children:a("icons:loadNext",{limit:t})})]})}const Ce={showVariables:0,showAllCharacters:!1,showGender:2,showPlural:0,showGrammar:!0,showFurigana:!0},is=()=>{const e=I("corpus-toggle");if(e===null)return Ce;const s={...Ce},t=JSON.parse(e);return typeof t=="object"&&t!==null&&("showVariables"in t&&typeof t.showVariables=="number"&&[0,1,2].includes(t.showVariables)&&(s.showVariables=t.showVariables),"showAllCharacters"in t&&typeof t.showAllCharacters=="boolean"&&(s.showAllCharacters=t.showAllCharacters),"showGender"in t&&typeof t.showGender=="number"&&[0,1,2].includes(t.showGender)&&(s.showGender=t.showGender),"showPlural"in t&&typeof t.showPlural=="number"&&[0,1,2].includes(t.showPlural)&&(s.showPlural=t.showPlural),"showGrammar"in t&&typeof t.showGrammar=="boolean"&&(s.showGrammar=t.showGrammar),"showFurigana"in t&&typeof t.showFurigana=="boolean"&&(s.showFurigana=t.showFurigana)),s};function ls({status:e,progress:s,results:t,showId:r=!0,richText:a=!0,limit:o=ae}){const{t:i}=F(),u=l.useMemo(is,[]),[h,f]=l.useState(u.showVariables),[p,c]=l.useState(u.showAllCharacters),[g,b]=l.useState(u.showGender),[A,x]=l.useState(u.showPlural),[D,w]=l.useState(u.showGrammar),[v,O]=l.useState(u.showFurigana),[R,V]=l.useState(null),[j,_]=l.useState(0);l.useEffect(()=>{$("corpus-toggle",JSON.stringify({showVariables:h,showAllCharacters:p,showGender:g,showPlural:A,showGrammar:D,showFurigana:v}))},[h,p,g,A,D,v]);const P=l.useCallback((S,H)=>()=>{_(S),ee(H)},[]),y=l.useMemo(()=>{const S=[];let H="";for(const Z of t){if(Z.status==="initial"||Z.status==="noLines"){S.push(void 0);continue}const{collection:ne,file:re}=Z.params,Y=i("tableHeader",{collection:i(`collections:${ne}.name`),file:i(`files:${re}`),interpolation:{escapeValue:!1}});S.push(Y===H?void 0:Y),H=Y}return S},[t,T.language]),M=l.useMemo(()=>t.reduce((S,H)=>S+(H.status==="initial"?0:H.params.lines.length),0),[t]);l.useEffect(()=>{_(S=>Math.min(S,M))},[M]);const E=i(`status.${e.split(".",1)[0]}`),B=n.jsxs("div",{className:"results-toggle",children:[n.jsx("button",{className:h!==2?"button-square active":"button-square",disabled:!a,onClick:()=>{f((h+1)%3)},title:i("showVariables"),children:i("icons:showVariables",{context:h})}),n.jsx("button",{className:p?"button-square active":"button-square",disabled:!a,onClick:()=>{c(!p)},title:i("showAllCharacters"),children:i("icons:showAllCharacters")}),n.jsx("button",{className:g!==2?"button-square active":"button-square",disabled:!a,onClick:()=>{b((g+1)%3)},title:i("showGender"),children:i("icons:showGender",{context:g})}),n.jsx("button",{className:A!==0?"button-square active":"button-square",disabled:!a,onClick:()=>{x((A+1)%3)},title:i("showPlural"),children:i("icons:showPlural",{context:A})}),n.jsx("button",{className:D?"button-square active":"button-square",disabled:!a,onClick:()=>{w(!D)},title:i("showGrammar"),children:i("icons:showGrammar")}),n.jsx("button",{className:v?"button-square active":"button-square",disabled:!a,onClick:()=>{O(!v)},title:i("showFurigana"),children:n.jsx("span",{className:"results-toggle-furigana",children:i("icons:showFurigana")})})]});l.useEffect(()=>{l.startTransition(()=>{V(n.jsx(rs,{results:t,headers:y,showId:r,offset:j,limit:o,onShowSection:P,jumpTo:ee}))})},[t,y,r,j,o,P,ee]);const k=_e(e),N=`app-window variables-${["short","show","hide"][h]} control-${p?"show":"hide"} gender-${g} number-${A} grammar-${D?"show":"hide"} furigana-${v?"show":"hide"}`;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"results-status",children:[!k&&y.filter(S=>S!==void 0).length>1?n.jsx(as,{headers:y}):n.jsx("div",{className:"results-status-text",children:E}),n.jsx(Ut,{src:"logo.svg",active:k}),!k&&M>o?n.jsx(os,{count:M,offset:j,limit:o,setOffset:_}):n.jsx(Wt,{progress:s}),B]}),n.jsx("main",{id:"results",className:N,children:R})]})}const cs=JSON.parse('[["805868F0",451848],["FE0A4516",184505],["0E6B4AFC",186358],["38089687",184678],["C8E18522",192736],["AC075F40",185187],["BC8E428D",451830],["E0EDED5F",452016],["AE888233",184382],["42CE5E23",186162],["49A1D761",184638],["E6BE2C39",192693],["EEE6AA0B",184987],["D0A898D8",914491],["B4916E10",247699],["9353A098",247605],["01E40379",247360],["B9271014",255341],["7A3C7531",247525],["93D27A9D",853930],["50D2D70E",371161],["297D48D7",423562],["9E40D227",443434],["7E45FF40",433301],["E53FA927",443211],["DB38E4EE",716552],["F5DB65C4",853759],["CB8106C0",371328],["847BC0BC",423799],["F4F9E121",443569],["31E85F86",433496],["CCEB35BA",443147],["B5AC5376",716517],["C258E1C0",1188380],["AA0CCAD6",516532],["061F929E",583183],["9EB0BB7D",617996],["3154E257",605519],["287D9986",626416],["1B6B811F",56247],["47F479B5",219921],["E98655B9",240723],["A5BA82AE",251904],["66BF6AE1",243507],["24BE0C34",265357],["48268292",253204],["15DA0A67",80381],["B5C9124E",206414],["D50DFB6F",212463],["8BDC97A0",209249],["7F5DBF9C",203357],["BAFD4554",223099],["79526023",209842],["464B1550",105715],["51475FA2",326267],["C1B05D7D",337789],["B91D2631",351308],["3F0AD689",343626],["812A1AB9",378330],["AA61A5BF",362267],["2B0D4B93",43358],["5904163D",376708],["EDD0E9E7",388614],["127039EB",388665],["D5FDB9AE",400933],["C7B1655B",389346],["1EFE3353",417115],["63F8BA72",391961],["ECFF31F9",360643],["3A1A9B1D",65345],["598865DB",612597],["9FC7F04F",658341],["724DB29C",658264],["064910D4",684430],["85A41B08",667743],["F0A6E5C4",718659],["C2700D4A",670855],["FEEB02C7",619191],["4D550F2C",73843],["5A4CAD20",706150],["24945ACB",647415],["5C256E39",661940],["A0E65FD8",661900],["1853AD06",741198],["F1A542E7",663250],["F486A32C",641976],["9C34BDCD",74122],["B7574077",14277],["F995C30A",418914],["9D60674E",238161],["30FC1626",431312],["0F0B9315",251501],["2BD96831",427975],["B2A835DB",231433],["C25D8FD2",440869],["B4D5380B",253667],["19CCEDE0",435286],["A7392F1D",238116],["21A4F991",471647],["F5456BBE",286258],["319F6C84",434313],["D35D93AA",255061],["3202D6A1",432445],["5821F1C6",228581],["8098B211",108529],["DA8465B6",23285],["D986A44C",689295],["D26EF998",345597],["6788D3EB",725690],["D853AAFB",366512],["809A966C",661231],["71BD1A82",321837],["A7E66C77",686073],["6263F6C4",364277],["1C541F50",676483],["80392CBD",345983],["8C28A3B1",743806],["5C726113",400249],["E4D9A8A1",709524],["F010E441",388964],["611CB7AE",654063],["270BED6B",326680],["F9AC014E",41653],["7CBC93B4",13564],["5D77F2D3",290600],["19096712",193156],["99B3AF25",304677],["7EF08E1A",204728],["DCB617AB",309647],["33EF4A6B",218185],["B199F277",317847],["E4933814",237126],["C3A6023B",305573],["34ECA43C",204825],["4E05F7C3",331242],["B9A4C5A5",249282],["719F6CF7",336580],["D4C5FC1F",253405],["B779A7AA",293411],["AB306EB4",193921],["D0453ADC",52057],["A49819C8",20978],["D5E64271",361359],["81DC14F2",251358],["607BD37E",380246],["79364FB4",267071],["C6F7E9BB",391949],["55CB3423",261236],["F3C1F5D1",412072],["A445144E",275169],["04BED485",395485],["32F9174D",249289],["4C011AA6",431932],["3B6F2B5D",311428],["A159FCC1",426053],["EFBA305C",281565],["9727DB13",363094],["00F9CD07",247291],["66850A84",49635],["F7C003F5",19275],["D6E2E088",251306],["3A9A986B",221524],["FC0C8ADD",262055],["3155AD9B",234129],["36A24DD7",264111],["7DE90361",266183],["B1B911A6",281427],["D154C0F5",292914],["914BC9E8",269703],["FCB58A19",255431],["73318A95",286031],["1DACFB2B",294363],["E024B96B",284632],["0482085E",291207],["DBACF489",250082],["9EEA28B7",220906],["6C6BDA9A",248873],["615402EC",225468],["E7763E5F",251831],["DCF080B4",228710],["E9064BC7",57142],["515C63BC",30391],["B029ECEF",287029],["D7459F7B",351512],["C2849705",299536],["76226F39",371546],["925DA459",304276],["1332A7BF",417674],["1E24F599",322366],["08238B58",462128],["72449731",311083],["4DC4D0F7",410852],["2A36BB82",331386],["B6CCB707",473448],["485DE0B0",327958],["B0BDACD1",465944],["ECDEB54B",285212],["6046FCAE",351632],["8015D11D",285461],["B97E3074",357817],["291B1F2D",289137],["C47A8D10",363279],["56BFFE84",70001],["0F56A27C",17961],["78D61CE1",188757],["3046EC50",91141],["AB01F4D4",195222],["EAEAC744",96916],["7BDB3096",185660],["A731DF7B",98146],["79D3F3B5",196364],["90DADB7E",112741],["3CD179DB",189954],["3CA333A8",100965],["8D12AA04",201217],["DE0762F4",122416],["C3639674",195797],["3449002C",112911],["D23A1D38",186937],["70B92862",92474],["920D68A3",183962],["38CB3189",99595],["4A2AF0BD",183355],["0C39B49A",99105],["9CFCB04F",185584],["24056C87",98436],["F88C7D51",109707],["D06EC6B0",47268],["BC465CEB",327255],["DABDD117",249057],["DB6499F8",343106],["A1E9A260",263024],["2E39FF52",353598],["D72D5490",301521],["E97E3DEA",360374],["C14BE010",316566],["B243A50B",354609],["6DD06B2E",294483],["71E64CE2",374758],["B755DFD7",338573],["D675ED02",354540],["C109C728",315868],["099C8225",334519],["ACBD302C",263043],["CAAB3D17",340926],["3239020C",280033],["94E2F348",339910],["7DD6502E",283225],["A3C49BBF",99393],["87647E62",438279],["9616FC8D",459527],["A2BCEA38",441003],["224162EA",473430],["1B465C57",456582],["FF560BEE",502888],["690BFF6E",465097],["1C088BF9",412634],["BDB8EF03",416941],["EC2A02E5",430970],["868957D1",74049],["A142B3F1",24108],["AE7A3398",217519],["5F77F1A4",230194],["C7DC5911",212569],["EFC20517",250558],["B1E9377A",212889],["C74A122A",247223],["D054DE70",207469],["CE8B0601",241619],["ED88D7E1",217691],["FC76E487",250690],["D766E68F",209904],["0B78B3D6",250516],["7707196A",196581],["D6E20DF4",198422],["AEE9875F",197067],["7F1BE555",196414],["2E5BAC17",197521],["1365CBAA",206782],["9D22F3E2",142866],["1D2F4BF3",71136],["B38DE6C7",428923],["C0C91D78",523598],["99B6F5E4",400940],["D1F7D9A3",527195],["DB66385A",410479],["8D9AFC15",540864],["2A68B3C4",396595],["E0AC173E",500289],["300A80E9",415883],["23719FF4",547694],["B53002F4",401220],["14C7FDE3",535541],["B6B8EBAE",376872],["6D12C9E1",440546],["EDD3DC38",377240],["B2485F5C",432631],["A12D9827",380373],["4C32D9D0",449342],["C3E5FB9D",4339],["8F488338",26442],["C0CC6C78",27488],["C000BF76",26723],["5D8671DF",30377],["38FA9F65",28212],["A8F362C0",43636],["3BF95355",213995],["8B89062A",189456],["BD1820D9",174259],["40824263",181488],["38D29549",211516],["CDD1322A",188971],["9920B1E3",3505],["CCD878B1",11682],["CC445D0F",10530],["A01D9E8C",10488],["3B409C23",11138],["0B197BEA",10982],["4452D813",11317],["D958ECBF",11107],["EA1432F5",14904],["CA9CD9BD",185298],["E266968F",191903],["97ECABBA",187664],["87A27B31",197388],["04872EBD",196569],["8E557D83",204124],["1605EDD5",197879],["26D93D24",11886],["95CC0171",294807],["C46156B1",261280],["9EA398A5",234498],["68062841",229744],["656E796C",230208],["A80BEC67",254904],["A190FDDD",241132],["3356A778",27511],["F8317CFE",168076],["F71850AB",154401],["E554DABC",154242],["C7E7F875",160914],["2C56E000",156325],["A55CCB2E",163853],["DE9A5332",149658],["4028E267",10276],["38B7948A",85967],["B3B75E50",63779],["34A6C0E7",63992],["F1318B98",68269],["CA1ADAA3",67235],["12F3987F",68652],["0E2E5E91",66187],["8EA29A66",28943],["A6D0F48B",252507],["BA9443EB",266550],["886D0304",287489],["606FC990",290952],["DC096C52",284717],["A25EDA41",300791],["B5DC512F",288797],["41303CFE",254545],["BF4FC8A0",260380],["7DEBD604",262359],["19B88DB6",124422],["3FE9024F",83651],["45B39AA0",695517],["468019A5",522803],["178F33F9",724549],["1DFF87A8",543864],["34E25F98",770042],["B471ACEC",584649],["9A31C8AB",773486],["69138ED7",586195],["2B197D76",756785],["A81BC8F2",575557],["6CBB2A0F",817937],["8F227AF5",626642],["64A00033",763166],["5743DC04",581048],["B2E49CB7",695621],["736542D5",520364],["DE6516AD",711468],["FF181780",534178],["42A2B796",713699],["0C26F405",535801],["E6A651B8",147144],["8015E883",487983],["6EE8E264",511425],["948B4DF8",556058],["EEB8D7EC",544168],["3C094B63",569944],["8FFE153E",550751],["D98A823D",542614],["9A4164CB",466888],["999707C6",486880],["727BA79A",538875],["ADB5FD8A",631318],["4D1185A4",657679],["83B469C5",534268],["2BD8D089",478827],["BF75F9E8",648717],["9E04B52E",128934],["B21C09EB",184080],["FC493326",13192],["AB4CEB81",340037],["421568BE",1530054],["9AA64E46",64774],["CC6264D5",322284],["01FE88DB",1505343],["1A66D24B",65852],["86C2E7BC",353932],["C7DF8BA9",1713091],["E6F4789E",71966],["40747062",337368],["F3863292",1575586],["5E708FB2",68350],["05621392",355639],["DB3F058D",1773683],["80086164",72299],["F55FBF58",348437],["C9BDB1AE",1704533],["B9636055",69964],["F69F46A2",318707],["4BF60668",1444957],["19CD40A1",60873],["37DA9D87",325715],["81BCAD7E",1534073],["27EBB0EB",58388]]'),le=(e,s,t)=>`corpus/${e}/${s}_${t}.txt.gz`,us=e=>Re(e).size,ds=async(e,s)=>{const[t,r]=await Pe(e,s);return r?.hash===t.hash?0:t.size},hs=async e=>{try{const s=await he(),t=(await Promise.all(e.flatMap(r=>C.collections[r].languages.flatMap(a=>C.collections[r].files.map(o=>ds(s,le(r,a,o))))))).reduce((r,a)=>r+a,0);return s.close(),t}catch{return e.flatMap(s=>C.collections[s].languages.flatMap(t=>C.collections[s].files.map(r=>us(le(s,t,r))))).reduce((s,t)=>s+t,0)}},fs=e=>"/poke-corpus/"+e,Rs=async(e,s,t)=>{const r=fs(t),[a,o]=await Pe(s,t);return o!==void 0?[await js(e,r),o.hash===a.hash]:[void 0,!1]},gs=e=>e!==null&&typeof e=="object"&&"hash"in e&&typeof e.hash=="string"&&"size"in e&&typeof e.size=="number",De=cs,ms=Object.fromEntries(ht.flatMap(([e,s])=>s.languages.flatMap(t=>s.files.map(r=>le(e,t,r)))).map((e,s)=>[e,{hash:De[s][0],size:De[s][1]}])),ps="corpus",J="files",he=()=>{const e=indexedDB.open(ps);return new Promise((s,t)=>{e.onupgradeneeded=()=>{e.result.createObjectStore(J),e.transaction!==null&&(e.transaction.oncomplete=()=>{console.log("Created object store")})},e.onsuccess=()=>{s(e.result)},e.onerror=()=>{t(e.error)}})},Re=e=>ms[e],Es=(e,s)=>{const a=e.transaction([J],"readonly").objectStore(J).get(s);return new Promise((o,i)=>{a.onsuccess=()=>{o(gs(a.result)?a.result:void 0)},a.onerror=()=>{i(a.error)}})},Ps=(e,s)=>{const a=e.transaction([J],"readwrite").objectStore(J).delete(s);return new Promise((o,i)=>{a.onsuccess=()=>{o(!0)},a.onerror=()=>{i(a.error)}})},Pe=async(e,s)=>[Re(s),await Es(e,s)],Ns=()=>he().then(e=>{const r=e.transaction(["files"],"readwrite").objectStore("files").clear();return e.close(),new Promise((a,o)=>{r.onsuccess=()=>{a(!0)},r.onerror=()=>{o(r.error)}})}),Is=()=>he().then(e=>{const r=e.transaction([J],"readonly").objectStore(J).getAllKeys();return e.close(),new Promise((a,o)=>{r.onsuccess=()=>{a(r.result.filter(i=>typeof i=="string"))},r.onerror=()=>{o(r.error)}})}),As="corpus",Ts=async()=>await caches.open(As),js=async(e,s)=>{try{const t=await e.match(s);return t}catch(t){console.error(t);return}},Cs={status:"initial"},Be="corpus-warn",Ds=2e7;function Bs({showModal:e,richText:s,limit:t}){const{t:r}=F(),a=l.useRef(null),o=l.useRef(null),i=l.useRef([]),u=l.useRef(s),h=l.useRef(I(Be)!=="false"),[f,p]=l.useState("initial"),[c,g]=l.useState(0),[b,A]=l.useState(!0),[x,D]=l.useState([]);l.useEffect(()=>{u.current=s;for(const{index:E,params:B}of i.current)O(E,B)},[s]);const w=(E,B)=>{D(k=>{const N=Array().concat(k);for(let S=N.length;S<E;S++)N[S]=Cs;return N[E]=B,N})},v=E=>{w(E.data.index,{status:"done",params:E.data,richText:E.data.richText}),E.data.error&&e({message:r("statusModal.error"),buttons:[{message:r("statusModal.buttons.ok"),autoFocus:!0}]})},O=(E,B)=>{o.current===null&&(console.log("Creating new TextWorker..."),o.current=new ot,o.current.addEventListener("message",v)),o.current.postMessage({...B,index:E,richText:u.current})},R=E=>{if(p(E.data.status),g(E.data.progress),A(E.data.showId),"index"in E.data&&"result"in E.data){const{index:B,result:k}=E.data;E.data.result.lines.length===0?w(B,{status:"noLines",params:k}):(i.current.push({index:B,params:k}),w(B,{status:"worker",params:k}),O(B,k))}E.data.complete&&lt(E.data.status)&&e({message:r(`statusModal.${E.data.status}`),buttons:[{message:r("statusModal.buttons.ok"),autoFocus:!0}]})},V=l.useCallback(()=>{console.log("Terminating workers!"),a.current!==null&&(a.current.removeEventListener("message",R),a.current.terminate(),a.current=null),o.current!==null&&(o.current.removeEventListener("message",R),o.current.terminate(),o.current=null),p("initial"),g(0),D([]),i.current=[]},[]),j=E=>{D([]),i.current=[],E.query.length>0&&E.collections.length>0&&E.languages.length>0&&(a.current===null&&(console.log("Creating new SearchWorkerManager..."),a.current=new at,a.current.addEventListener("message",R)),g(0),a.current.postMessage(E))},_=l.useCallback(E=>{if(p("waiting"),!h.current){j(E);return}hs(E.collections).then(B=>{if(B<=Ds){j(E);return}e({message:r("searchModal.message",et(B)),checkbox:{message:r("searchModal.checkboxDoNotShowAgain"),checked:!1},buttons:[{message:r("searchModal.buttons.yes"),callback:()=>{j(E)},checkboxCallback:k=>{h.current=!k,$(Be,(!k).toString())}},{message:r("searchModal.buttons.no"),callback:()=>{p("initial")},autoFocus:!0}],cancelCallback:()=>{p("initial")}})}).catch(B=>{console.error(B)})},[]),P=_e(f),y=f==="waiting",M=l.useMemo(()=>n.jsx(Gt,{inProgress:P,waiting:y,postToWorker:_,terminateWorker:V}),[P,y,_,V]);return n.jsxs("div",{className:"search",children:[M,n.jsx(ls,{status:f,progress:c,showId:b,richText:s,results:x,limit:t})]})}function bs({classes:e,message:s,buttons:t,checkbox:r,cancelCallback:a}){const[o,i]=l.useState(!1),[u,h]=l.useState(r?.checked??!1),f=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{(s||t||r)&&(i(!0),h(r?.checked??!1))},[s,t,r]),l.useEffect(()=>{const A=f.current,x=p.current;if(A!==null)if(o){if(A.showModal(),t){const D=t.findIndex(w=>w.autoFocus);x!==null&&D!==-1&&Array.from(x.children).filter(w=>w instanceof HTMLButtonElement)[D].focus()}}else A.close()},[o]);const c=(A,x)=>()=>{i(!1),A&&A(),x&&x(u)},g=()=>{a&&a(),i(!1)};if(!o)return null;const b=["modal"];return e&&e.forEach(A=>b.push(A)),n.jsxs("dialog",{ref:f,id:"modal",className:b.join(" "),onCancel:g,children:[n.jsx("div",{className:"modal-message",children:s}),r&&n.jsx("div",{className:"modal-checkbox",children:n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"modalCheckbox",name:"modalCheckbox",checked:u,onChange:A=>{h(A.target.checked)}}),n.jsx("label",{htmlFor:"modalCheckbox",children:r.message})]})}),n.jsx("div",{ref:p,className:"modal-button-group",children:t?.map(({message:A,callback:x,checkboxCallback:D,autoFocus:w},v)=>n.jsx("button",{type:"button",onClick:c(x,D),autoFocus:w,children:A},v))})]})}function Ne(){const{t:e}=F();return n.jsx("div",{className:"app-window",children:n.jsx("div",{className:"app-window-inner",children:n.jsxs("section",{className:"results-section",children:[n.jsx("h2",{children:e("error.title")}),n.jsx("div",{children:e("error.message")})]})})})}const xs=l.lazy(()=>m(()=>import("./CacheManager-a_uxIRiE.js"),__vite__mapDeps([0,1,2,3,4])));function Fs({showModal:e,richText:s,setRichText:t,limit:r,setLimit:a}){const{t:o}=F();return n.jsxs("header",{className:"header",children:[n.jsx("h1",{children:n.jsxs("a",{href:"/poke-corpus/",children:[n.jsx("img",{className:"header-logo",src:"logo.svg",alt:"",height:"40",width:"40"})," ",o("title",{version:o("version")})]})}),n.jsx(ce,{fallback:null,children:n.jsx(rt,{showModal:e,richText:s,setRichText:t,limit:r,setLimit:a})})]})}function vs({view:e,switchView:s}){const{t}=F();return n.jsxs("footer",{children:[n.jsx("span",{children:t("tagline")}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:t("footerText")}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:n.jsx("button",{className:"link",onClick:s,children:t(e!=="Search"?"backToSearch":"manageCache")})}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:n.jsx("a",{href:"https://github.com/abcboy101/poke-corpus",children:t("github")})})]})}function _s(){const[e,s]=l.useState(Xe),[t,r]=l.useState(Qe),[a,o]=l.useState("Search"),[i,u]=l.useState(null),[h,f]=l.useState(!1);l.useEffect(()=>{const A=Fe();document.body.classList.add(`mode-${A}`),f(!0)},[]);const p=l.useCallback(A=>{u(A)},[]),c=l.useCallback(()=>{o(A=>{const x=A!=="Search"?"Search":"CacheManager";return h||f(x==="CacheManager"),x})},[]),g=h&&n.jsx(xs,{active:a==="CacheManager",showModal:p}),b=["app",`view-${a.toLowerCase()}`];return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&b.push("ua-safari"),n.jsxs("div",{className:b.join(" "),lang:T.language,dir:T.dir(),children:[n.jsx(Fs,{showModal:p,richText:e,setRichText:s,limit:t,setLimit:r}),n.jsxs(ce,{FallbackComponent:Ne,children:[n.jsx(Bs,{showModal:p,richText:e,limit:t}),g]}),n.jsx(vs,{view:a,switchView:c}),n.jsx(bs,{...i})]})}function ws(){return n.jsx("div",{className:"app",children:n.jsx(Ne,{})})}const ys=Me.createRoot(document.getElementById("root"));ys.render(n.jsx(Ve.StrictMode,{children:n.jsx(ce,{FallbackComponent:ws,children:n.jsx(_s,{})})}));Ke({onOfflineReady(){console.log("Ready to work offline!")}});export{Wt as P,he as a,le as b,C as c,Ps as d,ht as e,Rs as f,Ts as g,Is as h,hs as i,et as j,L as k,Ns as l};
