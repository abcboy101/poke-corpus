const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/search-CcY8C8iP.js","assets/vendor-ACDtxvTX.js","assets/react-dom-12ThUI0J.js","assets/search-DoJJcrT3.css","assets/CacheManager-C2Q7vXmc.js","assets/i18n-en-DLlVDTx8.js","assets/CacheManager-Ku_1_5ob.css"])))=>i.map(i=>d[i]);
import{r as d,j as o,i as P,B as O,a as T,b as w,u as A,R as D}from"./vendor-ACDtxvTX.js";import{c as V}from"./react-dom-12ThUI0J.js";import{t as S,c as b,l as k,f as M,a as N}from"./i18n-en-DLlVDTx8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(i){if(i.ep)return;i.ep=!0;const l=e(i);fetch(i.href,l)}})();const C="modulepreload",B=function(t){return"/poke-corpus/"+t},L={},n=function(s,e,c){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(e.map(m=>{if(m=B(m),m in L)return;L[m]=!0;const f=m.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const a=document.createElement("link");if(a.rel=f?"stylesheet":C,f||(a.as="script"),a.crossOrigin="",a.href=m,u&&a.setAttribute("nonce",u),document.head.appendChild(a),f)return new Promise((E,j)=>{a.addEventListener("load",E),a.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return i.then(r=>{for(const u of r||[])u.status==="rejected"&&l(u.reason);return s().catch(l)})};function F(t={}){const{immediate:s=!1,onNeedRefresh:e,onOfflineReady:c,onRegistered:i,onRegisteredSW:l,onRegisterError:r}=t;let u,m;const f=async(a=!0)=>{await m};async function h(){if("serviceWorker"in navigator){if(u=await n(async()=>{const{Workbox:a}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:a}},[]).then(({Workbox:a})=>new a("/poke-corpus/sw.js",{scope:"/poke-corpus/",type:"classic"})).catch(a=>{r==null||r(a)}),!u)return;u.addEventListener("activated",a=>{(a.isUpdate||a.isExternal)&&window.location.reload()}),u.addEventListener("installed",a=>{a.isUpdate||c==null||c()}),u.register({immediate:s}).then(a=>{l?l("/poke-corpus/sw.js",a):i==null||i(a)}).catch(a=>{r==null||r(a)})}}return m=h(),f}const ie=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");function I(t){try{return localStorage.getItem(t)}catch{return null}}function ae(t,s){try{localStorage.setItem(t,s)}catch{return}}const z=["system","light","dark"],H=t=>z.includes(t),$=t=>typeof t=="string"&&H(t)?t:"system",U=()=>$(I("mode")),x=500,ce=t=>typeof t=="number"&&!Number.isNaN(t)&&Number.isInteger(t)&&t>0,W=()=>{const t=+(I("corpus-limit")??x);return Number.isNaN(t)?x:t},R=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function q(t){const s=Math.min(Math.floor((t.toString().length-1)/3),R.length-1),e={style:"unit",unit:R[s],unitDisplay:s===0?"long":"short",minimumFractionDigits:s===0?0:1,maximumFractionDigits:1,maximumSignificantDigits:3,roundingPriority:"lessPrecision"};return[t/Math.pow(1e3,s),e]}function le(t){const[s,e]=q(t);return{amount:s,formatParams:{amount:e}}}function G(t,s=1){return[t,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s}]}function ue(t,s=1){const[e,c]=G(t,s);return{amount:e,formatParams:{amount:c}}}function de(){return"scheduler"in window&&"yield"in scheduler?scheduler.yield():new Promise(t=>{setTimeout(t,0)})}function Z({classes:t,message:s,buttons:e,checkbox:c,cancelCallback:i}){const[l,r]=d.useState(!1),[u,m]=d.useState((c==null?void 0:c.checked)??!1),f=d.useRef(null),h=d.useRef(null);d.useEffect(()=>{(s||e||c)&&(r(!0),m((c==null?void 0:c.checked)??!1))},[s,e,c]),d.useEffect(()=>{const _=f.current,p=h.current;if(_!==null)if(l){if(_.showModal(),e){const v=e.findIndex(g=>g.autoFocus);p!==null&&v!==-1&&Array.from(p.children).filter(g=>g instanceof HTMLButtonElement)[v].focus()}}else _.close()},[l]);const a=(_,p)=>()=>{r(!1),_&&_(),p&&p(u)},E=()=>{i&&i(),r(!1)};if(!l)return null;const j=["modal"];return t&&t.forEach(_=>j.push(_)),o.jsxs("dialog",{ref:f,id:"modal",className:j.join(" "),onCancel:E,children:[o.jsx("div",{className:"modal-message",children:s}),c&&o.jsx("div",{className:"modal-checkbox",children:o.jsxs("div",{children:[o.jsx("input",{type:"checkbox",id:"modalCheckbox",name:"modalCheckbox",checked:u,onChange:_=>m(_.target.checked)}),o.jsx("label",{htmlFor:"modalCheckbox",children:c.message})]})}),o.jsx("div",{ref:h,className:"modal-button-group",children:e&&e.map(({message:_,callback:p,checkboxCallback:v,autoFocus:g},y)=>o.jsx("button",{type:"button",onClick:a(p,v),autoFocus:g,children:_},y))})]})}const K="data:image/svg+xml,%3csvg%20version='1.1'%20width='128'%20height='128'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='64'%20cy='64'%20r='62'%20fill='%23fff'%20/%3e%3ccircle%20cx='64'%20cy='64'%20r='60'%20fill='%23000'%20/%3e%3cpath%20d='M%2018%2064%20A%2046%2046%20180%201%201%20110%2064%20Z'%20fill='%23C00'/%3e%3cpath%20d='M%2018%2064%20A%2046%2046%20180%201%200%20110%2064%20Z'%20fill='%23FFF'/%3e%3cpath%20d='M%2013%2064%20H%20115'%20stroke-width='11'%20stroke='%23000'%20fill='%23000'%20/%3e%3ccircle%20cx='64'%20cy='64'%20r='18.5'%20stroke-width='10'%20stroke='%23000'%20fill='%23fff'%20/%3e%3c/svg%3e",J=(t,s,e)=>{const c=t[s];return c?typeof c=="function"?c():Promise.resolve(c):new Promise((i,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})};P.use(O).use(T).use(w((t,s)=>J(Object.assign({"./de/collections.json":()=>n(()=>import("./i18n-de-Dw_n6pCs.js").then(e=>e.c),[]),"./de/languages.json":()=>n(()=>import("./i18n-de-Dw_n6pCs.js").then(e=>e.l),[]),"./de/translation.json":()=>n(()=>import("./i18n-de-Dw_n6pCs.js").then(e=>e.t),[]),"./en-GB/translation.json":()=>n(()=>import("./i18n-en-DLlVDTx8.js").then(e=>e.h),[]),"./en/collections.json":()=>n(()=>import("./i18n-en-DLlVDTx8.js").then(e=>e.d),[]),"./en/files.json":()=>n(()=>import("./i18n-en-DLlVDTx8.js").then(e=>e.g),[]),"./en/languages.json":()=>n(()=>import("./i18n-en-DLlVDTx8.js").then(e=>e.e),[]),"./en/translation.json":()=>n(()=>import("./i18n-en-DLlVDTx8.js").then(e=>e.b),[]),"./es/collections.json":()=>n(()=>import("./i18n-es-DCutsmxA.js").then(e=>e.c),[]),"./es/languages.json":()=>n(()=>import("./i18n-es-DCutsmxA.js").then(e=>e.l),[]),"./es/translation.json":()=>n(()=>import("./i18n-es-DCutsmxA.js").then(e=>e.t),[]),"./fr-CA/translation.json":()=>n(()=>import("./i18n-fr-CIiQX0BV.js").then(e=>e.t),[]),"./fr/collections.json":()=>n(()=>import("./i18n-fr-CIiQX0BV.js").then(e=>e.c),[]),"./fr/languages.json":()=>n(()=>import("./i18n-fr-CIiQX0BV.js").then(e=>e.l),[]),"./fr/translation.json":()=>n(()=>import("./i18n-fr-CIiQX0BV.js").then(e=>e.a),[]),"./it/collections.json":()=>n(()=>import("./i18n-it-2Lc1pVVJ.js").then(e=>e.c),[]),"./it/languages.json":()=>n(()=>import("./i18n-it-2Lc1pVVJ.js").then(e=>e.l),[]),"./it/translation.json":()=>n(()=>import("./i18n-it-2Lc1pVVJ.js").then(e=>e.t),[]),"./ja/collections.json":()=>n(()=>import("./i18n-ja-DSlwGQ0H.js").then(e=>e.c),[]),"./ja/files.json":()=>n(()=>import("./i18n-ja-DSlwGQ0H.js").then(e=>e.f),[]),"./ja/languages.json":()=>n(()=>import("./i18n-ja-DSlwGQ0H.js").then(e=>e.l),[]),"./ja/translation.json":()=>n(()=>import("./i18n-ja-DSlwGQ0H.js").then(e=>e.t),[]),"./ko/collections.json":()=>n(()=>import("./i18n-ko-D2Tsea3c.js").then(e=>e.c),[]),"./ko/files.json":()=>n(()=>import("./i18n-ko-D2Tsea3c.js").then(e=>e.f),[]),"./ko/languages.json":()=>n(()=>import("./i18n-ko-D2Tsea3c.js").then(e=>e.l),[]),"./ko/translation.json":()=>n(()=>import("./i18n-ko-D2Tsea3c.js").then(e=>e.t),[]),"./zh-Hans/collections.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.c),[]),"./zh-Hans/languages.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.l),[]),"./zh-Hans/translation.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.t),[]),"./zh-Hant/collections.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.a),[]),"./zh-Hant/languages.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.b),[]),"./zh-Hant/translation.json":()=>n(()=>import("./i18n-zh-CAAY1Hpz.js").then(e=>e.d),[])}),`./${t}/${s}.json`,3))).init({partialBundledLanguages:!0,fallbackLng:"en",ns:["translation","collections","languages","files"],resources:{en:{translation:S,collections:b,languages:k,files:M},"en-GB":{translation:N}}});const Q=d.lazy(()=>n(()=>import("./search-CcY8C8iP.js").then(t=>t.O),__vite__mapDeps([0,1,2,3]))),X=d.lazy(()=>n(()=>import("./search-CcY8C8iP.js").then(t=>t.S),__vite__mapDeps([0,1,2,3]))),Y=d.lazy(()=>n(()=>import("./CacheManager-C2Q7vXmc.js"),__vite__mapDeps([4,1,2,0,3,5,6])));function ee(){const{t}=A();return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"item-group",children:t("status.loading")}),o.jsx("div",{className:"app-window"})]})}function te(){const{t}=A(),[,s]=d.useTransition(),[e,c]=d.useState(U),[i,l]=d.useState(W),[r,u]=d.useState("Search"),[m,f]=d.useState(null),[h,a]=d.useState(!1),E=y=>{f(y)},j=()=>{s(()=>{const y=r!=="Search"?"Search":"CacheManager";u(y),h||a(y==="CacheManager")})},_=h&&o.jsx(Y,{active:r==="CacheManager",showModal:E}),p=o.jsxs("header",{className:"header",children:[o.jsx("h1",{children:o.jsxs("a",{href:"/poke-corpus/",children:[o.jsx("img",{className:"header-logo",src:K,alt:"",height:"40",width:"40"})," ",t("title",{version:t("version")})]})}),o.jsx(d.Suspense,{children:o.jsx(Q,{showModal:E,mode:e,setMode:c,limit:i,setLimit:l})})]}),v=o.jsxs("footer",{children:[o.jsx("span",{children:t("tagline")}),o.jsx("span",{className:"separator",children:" | "}),o.jsx("span",{children:t("footerText")}),o.jsx("span",{className:"separator",children:" | "}),o.jsx("span",{children:o.jsx("button",{className:"link",onClick:j,children:t(r!=="Search"?"backToSearch":"manageCache")})}),o.jsx("span",{className:"separator",children:" | "}),o.jsx("span",{children:o.jsx("a",{href:"https://github.com/abcboy101/poke-corpus",children:t("github")})})]}),g=["app",`mode-${e}`,`view-${r.toLowerCase()}`];return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&g.push("ua-safari"),o.jsxs("div",{className:g.join(" "),lang:P.language,dir:P.dir(),children:[p,o.jsxs(d.Suspense,{fallback:o.jsx(ee,{}),children:[o.jsx(X,{showModal:E,limit:i}),_]}),v,o.jsx(Z,{...m})]})}const ne=V.createRoot(document.getElementById("root"));ne.render(o.jsx(D.StrictMode,{children:o.jsx(te,{})}));F({onOfflineReady(){console.log("Ready to work offline!")}});export{ae as a,H as b,K as c,x as d,ie as e,ue as f,le as g,ce as i,I as l,z as m,de as y};
