const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CacheManager-C3B3vlCI.js","assets/vendor-C0iXxd-T.js","assets/react-dom-CwkuqcRR.js","assets/i18n-en-BTz_pYLY.js","assets/CacheManager-DXJ-4Lin.css"])))=>i.map(i=>d[i]);
import{u as b,r as l,j as n,i as w,B as Ne,a as Ie,b as Te,E as X,R as Oe}from"./vendor-C0iXxd-T.js";import{R as Ve}from"./react-dom-CwkuqcRR.js";import{t as He,i as Me,f as qe,l as $e,c as ze,a as Ge}from"./i18n-en-BTz_pYLY.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const Ue="modulepreload",We=function(e){return"/poke-corpus/"+e},le={},m=function(s,t,a){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=Promise.allSettled(t.map(g=>{if(g=We(g),g in le)return;le[g]=!0;const p=g.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${d}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":Ue,p||(u.as="script"),u.crossOrigin="",u.href=g,c&&u.setAttribute("nonce",c),document.head.appendChild(u),p)return new Promise((j,D)=>{u.addEventListener("load",j),u.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${g}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return s().catch(i)})};function Je(e={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:a,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=e;let c,g;const p=async(u=!0)=>{await g};async function d(){if("serviceWorker"in navigator){if(c=await m(async()=>{const{Workbox:u}=await import("./workbox-window.prod.es5-DL_hIMXg.js");return{Workbox:u}},[]).then(({Workbox:u})=>new u("/poke-corpus/sw.js",{scope:"/poke-corpus/",type:"classic"})).catch(u=>{o?.(u)}),!c)return;c.addEventListener("activated",u=>{(u.isUpdate||u.isExternal)&&window.location.reload()}),c.addEventListener("installed",u=>{u.isUpdate||a?.()}),c.register({immediate:s}).then(u=>{i?i("/poke-corpus/sw.js",u):r?.(u)}).catch(u=>{o?.(u)})}}return g=d(),p}const ce=e=>e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&");function x(e){try{return localStorage.getItem(e)}catch{return null}}function R(e,s){try{localStorage.setItem(e,s)}catch{return}}const pe=["system","light","dark"],Ee=e=>pe.includes(e),Ke=e=>typeof e=="string"&&Ee(e)?e:"system",Ae=()=>Ke(x("mode")),ee=500,Ye=e=>typeof e=="number"&&!Number.isNaN(e)&&Number.isInteger(e)&&e>0,Ze=()=>{const e=+(x("corpus-limit")??ee);return Number.isNaN(e)?ee:e},Y=()=>x("corpus-richText")!=="false",ue=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function Qe(e){const s=Math.min(Math.floor((e.toString().length-1)/3),ue.length-1),t={style:"unit",unit:ue[s],unitDisplay:s===0?"long":"short",minimumFractionDigits:s===0?0:1,maximumFractionDigits:1,maximumSignificantDigits:3,roundingPriority:"lessPrecision"};return[e/Math.pow(1e3,s),t]}function Xe(e){const[s,t]=Qe(e);return{amount:s,formatParams:{amount:t}}}function et(e,s=1){return[e,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s}]}function tt(e,s=1){const[t,a]=et(e,s);return{amount:t,formatParams:{amount:a}}}function st(){return"scheduler"in window&&"yield"in scheduler?scheduler.yield():new Promise(e=>{setTimeout(e,0)})}const nt=[{code:"en",name:"English (United States)"},{code:"en-GB",name:"English (United Kingdom)"},{code:"ja",name:"日本語"},{code:"de",name:"Deutsch"},{code:"fr",name:"Français (France)"},{code:"fr-CA",name:"Français (Canada)"},{code:"es",name:"Español (España)"},{code:"it",name:"Italiano"},{code:"ko",name:"한국어"},{code:"zh-Hans",name:"简体中文"},{code:"zh-Hant",name:"繁体中文"}];function at({showModal:e,limit:s,limitRef:t}){const{t:a}=b(),[r,i]=l.useState(Ae),o=async d=>{await st(),await w.changeLanguage(d.target.value,u=>{u&&u.some(j=>!j.message.includes("Unknown variable dynamic import"))&&(console.log(u),e({message:a("options.network"),buttons:[{message:n.jsx(je,{}),autoFocus:!0}]}))})},c=d=>{const u=d.target.value;Ee(u)&&(i(u),R("mode",u),document.body.classList.replace(`mode-${r}`,`mode-${u}`))},g=d=>{const u=d.target.value;(u==="true"||u==="false")&&R("corpus-longURL",u)},p=d=>{const u=d.target.value;(u==="true"||u==="false")&&R("corpus-richText",u)};return n.jsx("div",{className:"options",children:n.jsxs("div",{className:"options-grid",children:[n.jsx("label",{htmlFor:"language",children:a("options.language")}),n.jsx("select",{name:"language",id:"language",onChange:o,defaultValue:w.language,autoFocus:!0,children:nt.map(d=>n.jsx("option",{value:d.code,lang:d.code,children:d.name},d.code))}),n.jsx("label",{htmlFor:"mode",children:a("options.mode")}),n.jsx("select",{name:"mode",id:"mode",onChange:c,defaultValue:r,children:pe.map(d=>n.jsx("option",{value:d,children:a(`options.modes.${d}`)},d))}),n.jsx("label",{htmlFor:"longURL",children:a("options.longURL")}),n.jsx("select",{name:"longURL",id:"longURL",onChange:g,defaultValue:x("corpus-longURL")??"false",children:["true","false"].map(d=>n.jsx("option",{value:d,children:a(`options.longURLSelect.${d}`)},d))}),n.jsx("label",{htmlFor:"richText",children:a("options.richText")}),n.jsx("select",{name:"richText",id:"richText",onChange:p,defaultValue:x("corpus-richText")??"true",children:["true","false"].map(d=>n.jsx("option",{value:d,children:a(`options.richTextSelect.${d}`)},d))}),n.jsx("label",{htmlFor:"limit",children:a("options.limit")}),n.jsx("input",{ref:t,type:"number",name:"limit",id:"limit",min:1,defaultValue:s})]})})}function je(){const{t:e}=b();return e("options.close")}function rt(e){const{t:s}=b(),{showModal:t,setLimit:a}=e,r=l.useRef(null),i=()=>{if(r.current!==null){const c=r.current.valueAsNumber;Ye(c)&&(R("corpus-limit",c.toString()),a(c))}},o={classes:["modal-options"],message:n.jsx(at,{...e,limitRef:r}),buttons:[{message:n.jsx(je,{}),callback:i}],cancelCallback:i};return n.jsxs("button",{className:"header-options",onClick:()=>t(o),children:[n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#gear"})}),s("options.options")]})}function ot(e){return new Worker("/poke-corpus/assets/searchWorkerManager-nWySUXGQ.js",{name:e?.name})}const it=["error","regex","noMatch","network","boolean.parentheses","boolean.regex","boolean.slash","boolean.quote","boolean.operand","boolean.empty","boolean.where"],Ce=["loading","processing","collecting"],lt=["qid","ja-Hrkt","ja","en","en-GB","fr","it","de","es","es-419","ko","zh-Hans","zh-Hans-CN","zh-Hant","pt-BR","th","ru","tr","id","hi"],ct={Red:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Green:{languages:["ja-Hrkt"],structured:!1,files:["data"]},Blue:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Yellow:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},Gold:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Silver:{languages:["ja-Hrkt","en","fr","it","de","es","ko"],structured:!1,files:["data"]},Crystal:{languages:["ja-Hrkt","en","fr","it","de","es"],structured:!1,files:["data"]},RubySapphire:{id:"rs",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.1",en:"1.2",fr:"1.1",it:"1.1",de:"1.1",es:"1.1"},files:["msg"],literals:{KUN:{branch:"gender",line:[12348,12349]},VERSION:{branch:"version",line:[12351,12350]},EVIL_TEAM:{branch:"version",line:[12353,12352]},GOOD_TEAM:{branch:"version",line:[12352,12353]},EVIL_LEADER:{branch:"version",line:[12355,12354]},GOOD_LEADER:{branch:"version",line:[12354,12355]},EVIL_LEGENDARY:{branch:"version",line:[12357,12356]},GOOD_LEGENDARY:{branch:"version",line:[12356,12357]},RIVAL:{branch:"gender",line:[12359,12358]}}},FireRedLeafGreen:{id:"frlg",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:{ja:"1.0",en:"1.1",fr:"1.0",it:"1.0",de:"1.0",es:"1.0"},files:["msg"],literals:{KUN:{branch:"gender",line:[9351,9352]}}},Emerald:{id:"e",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,version:"1.0",files:["msg"],literals:{KUN:{branch:"gender",line:[15105,15106]},VERSION:{line:15109},EVIL_TEAM:{line:15110},GOOD_TEAM:{line:15111},EVIL_LEADER:{line:15112},GOOD_LEADER:{line:15113},EVIL_LEGENDARY:{line:15114},GOOD_LEGENDARY:{line:15115},RIVAL:{branch:"gender",line:[15117,15116]}}},DiamondPearl:{id:"dp",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},Platinum:{id:"pt",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es","ko"],structured:!0,files:["msg"]},HeartGoldSoulSilver:{id:"hgss",languages:["qid","ja-Hrkt","en","fr","it","de","es","ko"],structured:!0,files:["msg"]},BlackWhite:{id:"bw",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},Black2White2:{id:"b2w2",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,files:["common","script"]},XY:{id:"xy",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.5",files:["common","script"]},OmegaRubyAlphaSapphire:{id:"oras",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko"],structured:!0,version:"1.4",files:["common","script"]},SunMoon:{id:"sm",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"58"}},UltraSunUltraMoon:{id:"usum",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.2",files:["common","script"],speaker:{file:"common",textFile:"63"}},LetsGoPikachuLetsGoEevee:{id:"lgpe",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hans-CN","zh-Hant"],structured:!0,version:"1.0.0/1.0.1/1.0.2",files:["common","script"]},SwordShield:{id:"swsh",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0/1.3.1/1.3.2",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},BrilliantDiamondShiningPearl:{id:"bdsp",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.3.0",files:["message"],speaker:{file:"message",textFile:"dlp_speakers_name"}},LegendsArceus:{id:"la",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.1.0/1.1.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},ScarletViolet:{id:"sv",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"3.0.1",files:["common","script"],speaker:{file:"common",textFile:"namelist"}},Stadium:{id:"stad",languages:["qid","en","fr","it","de","es"],structured:!0,files:["msg"]},Stadium2:{id:"stad2",languages:["qid","ja-Hrkt","en","fr","it","de","es"],structured:!0,files:["msg"]},Box:{id:"box",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,files:["message"]},Colosseum:{id:"colo",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},XD:{id:"xd",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,files:["msg"]},BattleRevolution:{id:"pbr",languages:["qid","ja","en","en-GB","fr","it","de","es"],structured:!0,version:{ja:"0/1/2",en:"0","en-GB":"0",fr:"0",it:"0",de:"0",es:"0"},files:["message"],literals:{'"No."':{branch:"language",line:{ja:992,en:993,"en-GB":993,de:994,fr:995,es:996,it:997}},'"Lv."':{branch:"language",line:{ja:998,en:999,"en-GB":999,de:1e3,fr:1001,es:1002,it:1003}},'"HP"':{branch:"language",line:{ja:1036,en:1037,"en-GB":1037,de:1038,fr:1039,es:1040,it:1041}},'"PP"':{branch:"language",line:{ja:1042,en:1043,"en-GB":1043,de:1044,fr:1045,es:1046,it:1047}}}},Ranch:{id:"ranch",languages:["qid","ja-Hrkt","en","en-GB","fr","it","de","es"],structured:!0,version:{"ja-Hrkt":"258",en:"256","en-GB":"1",fr:"1",it:"1",de:"1",es:"1"},files:["msg"]},Bank:{id:"bank",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:"1.5",files:["turtle"]},HOME:{id:"home",languages:["qid","ja-Hrkt","ja","en","fr","it","de","es","ko","zh-Hans","zh-Hant"],structured:!0,version:{nx:"3.2.1"},files:["megaturtle_nx","megaturtle_sp"]},GO:{id:"go",languages:["qid","ja","en","fr","it","de","es","es-419","ko","zh-Hant","pt-BR","th","ru","tr","id","hi"],structured:!0,softWrap:!0,files:["text"]},Masters:{id:"masters",languages:["qid","ja","en","fr","it","de","es","ko","zh-Hant"],structured:!0,softWrap:!0,files:["messages","talk","ui"]}},ut={languages:lt,collections:ct},O="qid",dt="zxx",E=ut,I=["exact","regex","boolean","all"],De=e=>I.includes(e),P=Object.keys(E.collections),ht=P.filter(e=>E.collections[e].structured),Be={id:"",file:"",query:"",type:"all",caseInsensitive:!0,common:!0,script:!0,showAllLanguages:!0,collections:ht,languages:E.languages,run:!1};function gt(e){const s={};return e.id!==void 0&&(s.id=e.id),e.file!==void 0&&(s.file=e.file),e.run!==void 0&&(s.run=e.run.toString()),new URLSearchParams({query:e.query,type:e.type,caseInsensitive:e.caseInsensitive.toString(),common:e.common.toString(),script:e.script.toString(),showAllLanguages:e.showAllLanguages.toString(),collections:e.collections.join(","),languages:e.languages.join(","),...s}).toString()}function ft(e){const s=new URLSearchParams(e);return{id:V(s.get("id")),file:V(s.get("file")),query:V(s.get("query")),type:mt(s.get("type")??(s.get("regex")==="true"?"regex":null),De),caseInsensitive:z(s.get("caseInsensitive")),common:z(s.get("common")),script:z(s.get("script")),showAllLanguages:z(s.get("showAllLanguages")),collections:de(s.get("collections"),P),languages:de(s.get("languages"),E.languages,pt),run:z(s.get("run"))}}function V(e){return e??void 0}function z(e){switch(e){case"true":return!0;case"false":return!1}}function mt(e,s){if(e!==null&&s(e))return e}function de(e,s,t=a=>a){if(e!==null)return e.split(",").map(t).filter(a=>s.includes(a))}function pt(e){switch(e){case"qid-ZZ":case"ja-JP":case"en-US":case"fr-FR":case"it-IT":case"de-DE":case"es-ES":case"ko-KR":return e.split("-",1)[0];case"ja-Hrkt-JP":return"ja-Hrkt";case"zh-CN":return"zh-Hans";case"zh-TW":return"zh-Hant";default:return e}}const Et=P.length^E.languages.length<<4,Z=2,G=Math.ceil(E.languages.length/8),At=Math.ceil(P.length/8),re=G+At,Fe=64,Q=Math.ceil(Math.log2(E.languages.length+P.length)),be=Z+re,jt=e=>btoa(String.fromCodePoint(...e)).replaceAll("/","_").replaceAll("+","-").replace(/=+$/,""),Ct=e=>Uint8Array.from(atob(e.replaceAll("_","/").replaceAll("-","+")),s=>s.codePointAt(0));function Dt(e){const s={};e.id!==void 0&&(s.id=e.id),e.file!==void 0&&(s.file=e.file);const t=Ft(e);return St(t),new URLSearchParams({...s,q:e.query,s:jt(t)}).toString()}function Bt(e){const s=new URLSearchParams(e),t={id:V(s.get("id")),file:V(s.get("file")),query:V(s.get("q"))},a=V(s.get("s"));if(!a)return t;try{const r=Ct(a).subarray(0,be);return kt(r),{...t,...bt(r)}}catch{return t}}function Ft(e){const s=new Uint8Array(be);s[1]=+(e.run??Be.run)<<0|+e.caseInsensitive<<1|+e.common<<2|+e.script<<3|I.indexOf(e.type)<<4|+!e.showAllLanguages<<7;const t=s.subarray(Z);vt(e,t),_t(t,s.subarray(1,2));let a=s.length;for(;s[a-1]===0&&a>1;)a--;return s.subarray(0,a)}function bt(e){const s=new Uint8Array(re);e[1]&Fe?xt(e.subarray(Z),s):s.set(e.subarray(Z));const t=E.languages.filter((r,i)=>H(s,i)===1),a=P.filter((r,i)=>H(s,8*G+i)===1);return{run:(e[1]&1)!==0,caseInsensitive:(e[1]&2)!==0,common:(e[1]&4)!==0,script:(e[1]&8)!==0,type:I[(e[1]&48)>>4],showAllLanguages:(e[1]&128)===0,languages:t,collections:a}}function vt(e,s){E.languages.forEach((t,a)=>{e.languages.includes(t)&&q(s,a)}),P.forEach((t,a)=>{e.collections.includes(t)&&q(s,8*G+a)})}function xt(e,s){const t=yt(e);E.languages.forEach((a,r)=>{t.next().value&&q(s,r)}),P.forEach((a,r)=>{t.next().value&&q(s,8*G+r)})}function _t(e,s){const t=H(e,0)===1,a=wt(e,t);let r=e.length;for(;e[r-1]===0;)r--;if(1+a.length*Q<8*r){s[0]|=Fe,e.fill(0),t||q(e,0);let i=1;a.forEach(([o])=>{for(let c=0;c<Q;i++,c++)q(e,i,o>>c&1)})}}function wt(e,s){const t=[[0,s]];return E.languages.forEach((a,r)=>{const i=H(e,r)===1;t[t.length-1][1]===i?t[t.length-1][0]++:t.push([1,i])}),P.forEach((a,r)=>{const i=H(e,8*G+r)===1;t[t.length-1][1]===i?t[t.length-1][0]++:t.push([1,i])}),t.pop(),t}function*yt(e){const s=new Uint8Array(re);s.set(e);let t=H(s,0)!==1;for(let a=1;a+Q<=s.length*8;){let r=0;for(let i=0;i<Q;a++,i++)r|=H(s,a)<<i;if(r===0)break;for(;r>0;)yield t,r--;t=!t}for(;;)yield t}function q(e,s,t=1){e[Math.floor(s/8)]|=t<<s%8}function H(e,s){return e[Math.floor(s/8)]>>s%8&1}function St(e){const s=e[0]=ve(e);xe(s,e)}function kt(e){const s=e[0];if(xe(s,e),s!==ve(e))throw Error("invalid checksum")}function ve(e,s=1){return e.subarray(s).reduce((t,a)=>t+a&255,0)^Et&255}function xe(e,s,t=1){let a=Lt(e);for(let r=t;r<s.length;r++)s[r]^=a>>24,a=Rt(a)}const Lt=e=>2480367069*e&4294967295,Rt=e=>2438952949*e+2654435769&4294967295;function te(e){return(x("corpus-longURL")==="true"?gt:Dt)(e)}function Pt(e){const s=new URLSearchParams(e);return(s.get("q")||s.get("s")?Bt:ft)(e)}const Nt=(e,s,t)=>{const a=e[s];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};w.use(Ne).use(Ie).use(Te((e,s)=>Nt(Object.assign({"./de/collections.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.c),[]),"./de/files.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.f),[]),"./de/languages.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.l),[]),"./de/translation.json":()=>m(()=>import("./i18n-de-DvTfi3sT.js").then(t=>t.t),[]),"./en-GB/translation.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.j),[]),"./en/collections.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.d),[]),"./en/files.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.g),[]),"./en/icons.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.h),[]),"./en/languages.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.e),[]),"./en/translation.json":()=>m(()=>import("./i18n-en-BTz_pYLY.js").then(t=>t.b),[]),"./es/collections.json":()=>m(()=>import("./i18n-es-B8CzqK4R.js").then(t=>t.c),[]),"./es/files.json":()=>m(()=>import("./i18n-es-B8CzqK4R.js").then(t=>t.f),[]),"./es/languages.json":()=>m(()=>import("./i18n-es-B8CzqK4R.js").then(t=>t.l),[]),"./es/translation.json":()=>m(()=>import("./i18n-es-B8CzqK4R.js").then(t=>t.t),[]),"./fr-CA/translation.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.t),[]),"./fr/collections.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.c),[]),"./fr/files.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.f),[]),"./fr/languages.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.l),[]),"./fr/translation.json":()=>m(()=>import("./i18n-fr-CCeUqura.js").then(t=>t.a),[]),"./it/collections.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.c),[]),"./it/files.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.f),[]),"./it/languages.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.l),[]),"./it/translation.json":()=>m(()=>import("./i18n-it-C970Nh-w.js").then(t=>t.t),[]),"./ja/collections.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.c),[]),"./ja/files.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.f),[]),"./ja/icons.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.i),[]),"./ja/languages.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.l),[]),"./ja/translation.json":()=>m(()=>import("./i18n-ja-BwQ8-9Fx.js").then(t=>t.t),[]),"./ko/collections.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.c),[]),"./ko/files.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.f),[]),"./ko/languages.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.l),[]),"./ko/translation.json":()=>m(()=>import("./i18n-ko-Dg8pId4h.js").then(t=>t.t),[]),"./zh-Hans/collections.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.c),[]),"./zh-Hans/files.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.f),[]),"./zh-Hans/languages.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.l),[]),"./zh-Hans/translation.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.t),[]),"./zh-Hant/collections.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.a),[]),"./zh-Hant/files.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.b),[]),"./zh-Hant/languages.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.d),[]),"./zh-Hant/translation.json":()=>m(()=>import("./i18n-zh-DRN2pXQa.js").then(t=>t.e),[])}),`./${e}/${s}.json`,3))).init({partialBundledLanguages:!0,fallbackLng:"en",ns:["translation","collections","languages","files","icons"],resources:{en:{translation:Ge,collections:ze,languages:$e,files:qe,icons:Me},"en-GB":{translation:He}}});function se(e,s=4){const t=[...e].reduce((a,r)=>a+(r.codePointAt(0)>255?1:.5),0);if(!(t<=s))return{fontSize:`${s*100/t}%`,scale:`1 ${t/s}`,whiteSpace:"nowrap"}}function It(e){if(e.length===0)return new Set(Object.keys(E.collections));const s=new Set,t=new Set(e);for(const a of Object.keys(E.collections))E.collections[a].languages.some(r=>t.has(r))&&s.add(a);return s}function Tt(e){if(e.length===0)return new Set(E.languages);const s=new Set;for(const t of e)for(const a of E.collections[t].languages)s.add(a);return s}function Ot({collections:e,languages:s,setCollections:t}){const{t:a}=b(),r=["ja","ko","zh"].some(o=>w.language.startsWith(o)),i=It(s);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"search-collections",children:Object.keys(E.collections).map(o=>[o,a(`collections:${o}.name`),a(`collections:${o}.short`)]).map(([o,c,g])=>n.jsxs("div",{className:`search-collection search-${i.has(o)?"valid":"invalid"}`,children:[n.jsx("input",{type:"checkbox",name:`collection-${o}`,id:`collection-${o}`,checked:e.includes(o),onChange:p=>{p.target.checked&&!e.includes(o)?t(e.concat([o])):!p.target.checked&&e.includes(o)&&t(e.filter(d=>d!==o))}}),n.jsx("label",{htmlFor:`collection-${o}`,style:r?se(g):void 0,children:c===g?c:n.jsx("abbr",{title:c,children:g})})]},o))}),n.jsxs("div",{className:"item-group",children:[n.jsx("button",{disabled:e.length===Object.keys(E.collections).length,onClick:()=>{t(Object.keys(E.collections))},children:a("selectAll")}),n.jsx("button",{disabled:e.length===0,onClick:()=>{t([])},children:a("deselectAll")})]})]})}function Vt({collections:e,languages:s,setLanguages:t}){const{t:a}=b(),r=["ja","ko","zh"].some(o=>w.language.startsWith(o)),i=Tt(e);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"search-languages",children:E.languages.map(o=>[o,a(`languages:${o}.name`),a(`languages:${o}.code`)]).map(([o,c,g])=>n.jsxs("div",{className:`search-language search-${i.has(o)?"valid":"invalid"}`,children:[n.jsx("input",{type:"checkbox",name:`language-${o}`,id:`language-${o}`,checked:s.includes(o),onChange:p=>{p.target.checked&&!s.includes(o)?t(s.concat([o])):!p.target.checked&&s.includes(o)&&t(s.filter(d=>d!==o))}}),n.jsxs("label",{htmlFor:`language-${o}`,children:[n.jsx("span",{className:"search-language-code",children:n.jsx("abbr",{title:c,children:g})}),n.jsx("span",{className:"search-language-name",style:r?se(c,12):se(c,15),children:c})]})]},o))}),n.jsxs("div",{className:"item-group",children:[n.jsx("button",{disabled:s.length===E.languages.length,onClick:()=>{t(E.languages)},children:a("selectAll")}),n.jsx("button",{disabled:s.length===0,onClick:()=>{t([])},children:a("deselectAll")})]})]})}function Ht({filtersVisible:e,collections:s,setCollections:t,languages:a,setLanguages:r}){const i=l.useRef(null),o=()=>i.current?.style.setProperty("--search-filters-height",`${i.current.scrollHeight}px`);return l.useEffect(()=>{if(!CSS.supports("interpolate-size","allow-keywords"))return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),n.jsx("div",{ref:i,className:`search-filters search-filters-${e?"show":"hide"}`,children:n.jsxs(n.Fragment,{children:[n.jsx(Ot,{collections:s,languages:a,setCollections:t}),n.jsx("div",{className:"search-filters-divider"}),n.jsx(Vt,{collections:s,languages:a,setLanguages:r})]})})}const he={...Be,languages:E.languages.filter(e=>e.startsWith(w.language.split("-")[0]))||E.languages.filter(e=>e.startsWith("en"))},Mt=()=>{const e=x("corpus-params");if(e===null)return he;const s={...he};try{const t=JSON.parse(e);t.type!==void 0&&I.includes(t.type)&&(s.type=t.type),t.caseInsensitive!==void 0&&typeof t.caseInsensitive=="boolean"&&(s.caseInsensitive=t.caseInsensitive),t.common!==void 0&&typeof t.common=="boolean"&&(s.common=t.common),t.script!==void 0&&typeof t.script=="boolean"&&(s.script=t.script),t.showAllLanguages!==void 0&&typeof t.showAllLanguages=="boolean"&&(s.showAllLanguages=t.showAllLanguages)}catch{console.log("Failed to parse saved search params!")}return s},qt=[I[3],I[0],I[1],I[2]];function $t({status:e,postToWorker:s,terminateWorker:t}){const{t:a}=b(),r=l.useMemo(Mt,[]),[i,o]=l.useState(r.id),[c,g]=l.useState(r.file),[p,d]=l.useState(r.query),[u,j]=l.useState(r.type),[D,A]=l.useState(r.caseInsensitive),[f,C]=l.useState(r.common),[v,F]=l.useState(r.script),[k,B]=l.useState(r.showAllLanguages),[_,T]=l.useState(r.collections),[N,$]=l.useState(r.languages),[U,W]=l.useState(r.run),[y,L]=l.useState((x("corpus-filtersVisible")??(window.location.hash?"false":"true"))!=="false"),J=l.useCallback(()=>{const h=Pt(window.location.hash.substring(1));h.id!==void 0&&o(h.id),h.file!==void 0&&g(h.file),h.query!==void 0&&d(h.query),h.type!==void 0&&j(h.type),h.caseInsensitive!==void 0&&A(h.caseInsensitive),h.common!==void 0&&C(h.common),h.script!==void 0&&F(h.script),h.showAllLanguages!==void 0&&B(h.showAllLanguages),h.collections!==void 0&&T(h.collections),h.languages!==void 0&&$(h.languages),h.run!==void 0&&W(h.run),x("corpus-filtersVisible")===null&&L(!h.id&&!h.file&&!h.run&&(!h.query||!h.collections||!h.languages))},[]);l.useEffect(()=>(window.location.hash&&J(),window.addEventListener("hashchange",J),()=>{window.removeEventListener("hashchange",J)}),[J]),l.useEffect(()=>{R("corpus-params",JSON.stringify({type:u,caseInsensitive:D,common:f,script:v,showAllLanguages:k}))},[u,D,f,v,k]),l.useEffect(()=>{if(i!==""){const h=i.split(".")[0];s({query:`^${ce(i)}$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,richText:Y(),collections:Object.keys(E.collections).filter(S=>E.collections[S]?.id===h),languages:[O]}),o("")}},[i,s]),l.useEffect(()=>{if(c!==""){const h=c.split(".")[0];s({query:`^${ce(c)}\\..*$`,type:"regex",caseInsensitive:!1,common:!0,script:!0,showAllLanguages:!0,richText:Y(),collections:Object.keys(E.collections).filter(S=>E.collections[S]?.id===h),languages:[O]}),g("")}},[c,s]),l.useEffect(()=>{if(U){const h={query:p,type:u,caseInsensitive:D,common:f,script:v,showAllLanguages:k,richText:Y(),collections:_,languages:N};window.location.hash=te(h),s(h),W(!1)}},[U,s]);const Se=h=>{h.preventDefault(),x("corpus-filtersVisible")||R("corpus-filtersVisible",y.toString());const S=document.getElementsByClassName("view-search").item(0);S&&S.scrollHeight>S.clientHeight&&L(!1);const ie={query:p,type:u,caseInsensitive:D,common:f,script:v,showAllLanguages:k,richText:Y(),collections:_,languages:N};window.location.hash=te(ie),s(ie)},ke=()=>{t()},Le=()=>{const h=!y;L(h),R("corpus-filtersVisible",h.toString())},Re=h=>{const S=h.target.value;De(S)&&j(S)},K=Ce.includes(e),Pe=K||p.length===0||_.length===0||N.length===0||e==="waiting";return n.jsxs("form",{className:"search search-form",role:"search",onSubmit:Se,children:[n.jsxs("div",{className:"search-bar",children:[n.jsxs("div",{className:"item-group",children:[n.jsx("label",{htmlFor:"query",children:a("query")}),n.jsx("input",{type:"text",name:"query",id:"query",value:p,onChange:h=>d(h.target.value)}),n.jsxs("div",{className:"btn-alternate-container",children:[n.jsx("input",{id:"submit",type:"submit",className:K?"invisible":"visible",value:a("search"),disabled:Pe}),n.jsx("button",{type:"button",className:K?"visible":"invisible",onClick:ke,disabled:!K,children:a("cancel")})]}),n.jsx("button",{type:"button",className:y?"active":void 0,onClick:Le,children:a("filters")}),n.jsx("select",{name:"type",id:"type",onChange:Re,value:u,title:a("searchType.searchType"),"aria-label":a("searchType.searchType"),children:qt.map(h=>n.jsx("option",{value:h,children:a(`searchType.${h}`)},h))})]}),n.jsxs("div",{className:"item-group search-option-group",children:[n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"caseInsensitive",id:"caseInsensitive",checked:D,onChange:h=>A(h.target.checked)}),n.jsx("label",{htmlFor:"caseInsensitive",children:a("caseInsensitive")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"common",id:"common",checked:f,onChange:h=>C(h.target.checked)}),n.jsx("label",{htmlFor:"common",children:a("common")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"script",id:"script",checked:v,onChange:h=>F(h.target.checked)}),n.jsx("label",{htmlFor:"script",children:a("script")})]}),n.jsxs("div",{className:"search-option",children:[n.jsx("input",{type:"checkbox",name:"showAllLanguages",id:"showAllLanguages",checked:k,onChange:h=>B(h.target.checked)}),n.jsx("label",{htmlFor:"showAllLanguages",children:a("showAllLanguages")})]})]})]}),n.jsx(Ht,{filtersVisible:y,collections:_,setCollections:T,languages:N,setLanguages:$})]})}function zt({src:e,active:s=!0}){const t=l.useRef(null);l.useEffect(()=>{t.current?.classList.add("spinner-stopped")},[]),l.useEffect(()=>{const r=t.current;if(r!==null){const i=()=>{s||r.classList.add("spinner-stopped")};return r.addEventListener("animationiteration",i),()=>{r.removeEventListener("animationiteration",i)}}},[s]);const a=["spinner",s?"spinner-active":"spinner-inactive"];return n.jsx("img",{ref:t,className:a.join(" "),src:e,alt:""})}function Gt({progress:e}){const{t:s}=b(),t=Math.min(Math.max(0,e*100),100);return n.jsxs("div",{className:"progress-bar-container",role:"progressbar","aria-label":s("progressBar.title"),"aria-valuenow":t,children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-complete",style:{width:`${t}%`,maxWidth:t===0?0:void 0,visibility:t===0?"hidden":void 0}})}),n.jsx("div",{className:"progress-bar-text",children:s("progressBar.value",tt(e))})]})}function Ut({hash:e}){const{t:s}=b(),t=a=>{const r=new URL(window.location.href);r.hash=e,"share"in navigator&&(a.preventDefault(),navigator.share({url:r.toString()}))};return n.jsx("a",{href:e,rel:"bookmark noreferrer",target:"_blank",title:s("share"),onClick:t,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#share"})})})}function Wt({hash:e,callback:s}){const{t}=b();return n.jsx("a",{href:e,rel:"bookmark noreferrer",title:t("viewNearby"),onClick:s,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#file-lines"})})})}function Jt({callback:e}){const{t:s}=b();return n.jsx("button",{className:"link",title:s("copy"),onClick:e,children:n.jsx("svg",{className:"icon",children:n.jsx("use",{href:"sprites.svg#copy"})})})}function Kt(e,s,t,a){return e.replaceAll(/<a class="speaker" data-var="(.+?)">(.+?)<\/a>/gu,(r,i,o)=>`<a class="speaker" href="#${te({query:i,type:"exact",caseInsensitive:!1,common:!1,script:!0,showAllLanguages:!1,collections:[s],languages:[t],run:!0})}" title="${a}">${o}</a>`)}const Yt=(e,s)=>s===O?e.replaceAll(/([._/]|([a-z])(?=[A-Z])|([A-Za-z])(?=[0-9]))/gu,"$1<wbr>"):e;function Zt(){const{t:e}=b();return n.jsx("div",{className:"results-rendering",children:e("status.rendering")})}function Qt({id:e}){return n.jsx("td",{className:"results-table-actions-cell",children:n.jsxs("div",{className:"results-table-actions",children:[n.jsx(Ut,{hash:`#id=${e}`}),n.jsx(Wt,{hash:`#file=${e.split(".").slice(0,-1).join(".")}`})]})},"actions")}function Xt({collection:e,file:s,languages:t,lines:a,showId:r}){const{t:i}=b(),o=t.indexOf(O),c=t.map(f=>f===O?dt:f),g=i("viewSpeaker"),p=E.collections[e].speaker!==void 0,d=c.map(f=>w.dir(f)),u=d.every(f=>f===d[0]),j=l.useRef(null),D=()=>{const f=j.current,C=window.getSelection();C!==null&&f!==null&&(C.removeAllRanges(),C.selectAllChildren(f),document.execCommand("copy"),C.removeAllRanges())},A=["results-table",`collection-${E.collections[e].id??e.toLowerCase()}`,`file-${s}`];return E.collections[e].softWrap===!0&&A.push("soft"),n.jsx("div",{className:"results-table-container",children:n.jsxs("table",{ref:j,className:A.join(" "),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[o!==-1&&n.jsx("th",{className:"results-table-actions-cell",children:n.jsx(Jt,{callback:D})}),t.filter(f=>r||f!==O).map(f=>n.jsx("th",{children:n.jsx("abbr",{title:i(`languages:${f}.name`),children:i(`languages:${f}.code`)})},f))]})}),n.jsx("tbody",{dir:u&&d[0]!==w.dir()?d[0]:void 0,children:a.map((f,C)=>n.jsxs("tr",{"data-id":o!==-1?f[o]:void 0,children:[o!==-1&&n.jsx(Qt,{id:f[o]}),f.map((v,F)=>r||t[F]!==O?n.jsx("td",{lang:c[F],dir:u?void 0:d[F],dangerouslySetInnerHTML:{__html:Yt(p?Kt(v,e,t[F],g):v,t[F])}},F):void 0)]},C))})]})})}function es({lines:e,index:s,sectionOffset:t,offset:a,limit:r,onShowSection:i,...o}){const{t:c}=b(),g=Math.max(0,Math.min(e.length,a-t)),p=Math.max(0,Math.min(e.length,a+r-t)),d=g!==0||p!==void 0?e.slice(g,p):e;return n.jsxs(n.Fragment,{children:[g!==0&&n.jsx("button",{className:"results-notice",onClick:i(t,s),children:c("tablePartial",{count:g})}),g!==p&&n.jsx(Xt,{...o,lines:d},s),p!==void 0&&p<e.length&&n.jsx("button",{className:"results-notice",onClick:i(t+p,s),children:c("tablePartial",{count:e.length-p})})]})}function ts({className:e,results:s,headers:t,showId:a,offset:r,limit:i,onShowSection:o,jumpTo:c}){const[g,p]=l.useState([]),[d,u]=l.useTransition();return l.useEffect(()=>{u(async()=>{let j=0;const D=[];for(const[A,f]of s.entries())D.push(n.jsx(es,{...f,index:A,sectionOffset:j,offset:r,limit:i,showId:a,onShowSection:o})),j+=f.lines.length;p(D)})},[s,i,r]),l.useEffect(()=>{let j=0;for(const[D,{lines:A}]of s.entries()){if(r>=j&&r<j+A.length){c(D);break}j+=A.length}},[r]),n.jsxs("main",{id:"results",className:e,children:[!1,s.map(({displayHeader:j},D)=>n.jsxs("section",{id:`results-section${D}`,className:"results-section",children:[n.jsx("h2",{className:j?void 0:"d-none",children:t[D]}),d?n.jsx(Zt,{}):g[D]]},t[D]))]})}function ne(e){const s=document.getElementById("results"),t=document.getElementById("results-section0"),a=document.getElementById(`results-section${e}`);s&&t&&a&&(s.scrollTop=a.offsetTop-t.offsetTop)}function ss({headers:e}){const{t:s}=b();return n.jsx("nav",{className:"results-jump",children:n.jsxs("select",{name:"jump",id:"jump",onChange:t=>ne(Number(t.target.value)),value:"",children:[n.jsx("option",{value:"",disabled:!0,children:s("jumpTo")}),e.map((t,a)=>(a===0||e[a-1]!==t)&&n.jsx("option",{value:a,children:t},a))]})})}function ns({count:e,offset:s,limit:t,setOffset:a}){const{t:r}=b();return n.jsxs("div",{className:"results-nav",children:[n.jsxs("div",{children:[n.jsx("span",{className:"results-nav-range-long",children:r("displayedRange.long",{count:e,start:s+1,end:Math.min(e,s+t)})}),n.jsx("span",{className:"results-nav-range-short",children:r("displayedRange.short",{count:e,start:s+1,end:Math.min(e,s+t)})})]}),n.jsx("button",{className:"button-square",disabled:s===0,onClick:()=>a(Math.max(0,s-t)),title:r("loadPrev"),children:r("icons:loadPrev",{limit:t})}),n.jsx("button",{className:"button-square",disabled:s+t>=e,onClick:()=>a(Math.min(Math.floor(e/t)*t,s+t)),title:r("loadNext"),children:r("icons:loadNext",{limit:t})})]})}const ge={showVariables:0,showAllCharacters:!1,showGender:2,showPlural:0,showGrammar:!0,showFurigana:!0},as=()=>{const e=x("corpus-toggle");if(e===null)return ge;const s={...ge};try{const t=JSON.parse(e);t.showVariables!==void 0&&[0,1,2].includes(t.showVariables)&&(s.showVariables=t.showVariables),t.showAllCharacters!==void 0&&typeof t.showAllCharacters=="boolean"&&(s.showAllCharacters=t.showAllCharacters),t.showGender!==void 0&&[0,1,2].includes(t.showGender)&&(s.showGender=t.showGender),t.showPlural!==void 0&&[0,1,2].includes(t.showPlural)&&(s.showPlural=t.showPlural),t.showGrammar!==void 0&&typeof t.showGrammar=="boolean"&&(s.showGrammar=t.showGrammar),t.showFurigana!==void 0&&typeof t.showFurigana=="boolean"&&(s.showFurigana=t.showFurigana)}catch{console.log("Failed to parse saved toggle preferences!")}return s};function rs({status:e,progress:s,results:t,showId:a=!0,richText:r=!0,limit:i=ee}){const{t:o}=b(),c=l.useMemo(as,[]),[g,p]=l.useState(c.showVariables),[d,u]=l.useState(c.showAllCharacters),[j,D]=l.useState(c.showGender),[A,f]=l.useState(c.showPlural),[C,v]=l.useState(c.showGrammar),[F,k]=l.useState(c.showFurigana),[B,_]=l.useState(0);l.useEffect(()=>{R("corpus-toggle",JSON.stringify({showVariables:g,showAllCharacters:d,showGender:j,showPlural:A,showGrammar:C,showFurigana:F}))},[g,d,j,A,C,F]);const T=(y,L)=>()=>{_(y),ne(L)};l.useEffect(()=>{_(0)},[t]);const N=l.useMemo(()=>t.map(({collection:y,file:L})=>o("tableHeader",{collection:o(`collections:${y}.name`),file:o(`files:${L}`),interpolation:{escapeValue:!1}})),[t,w.language]),$=l.useMemo(()=>t.reduce((y,L)=>y+L.lines.length,0),[t]),U=o(`status.${e.split(".",1)[0]}`),W=n.jsxs("div",{className:"results-toggle",children:[n.jsx("button",{className:g!==2?"button-square active":"button-square",disabled:!r,onClick:()=>{p((g+1)%3)},title:o("showVariables"),children:o("icons:showVariables",{context:g})}),n.jsx("button",{className:d?"button-square active":"button-square",disabled:!r,onClick:()=>{u(!d)},title:o("showAllCharacters"),children:o("icons:showAllCharacters")}),n.jsx("button",{className:j!==2?"button-square active":"button-square",disabled:!r,onClick:()=>{D((j+1)%3)},title:o("showGender"),children:o("icons:showGender",{context:j})}),n.jsx("button",{className:A!==0?"button-square active":"button-square",disabled:!r,onClick:()=>{f((A+1)%3)},title:o("showPlural"),children:o("icons:showPlural",{context:A})}),n.jsx("button",{className:C?"button-square active":"button-square",disabled:!r,onClick:()=>{v(!C)},title:o("showGrammar"),children:o("icons:showGrammar")}),n.jsx("button",{className:F?"button-square active":"button-square",disabled:!r,onClick:()=>{k(!F)},title:o("showFurigana"),children:n.jsx("span",{className:"results-toggle-furigana",children:o("icons:showFurigana")})})]});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"search results-status",children:[N.length>1?n.jsx(ss,{headers:N}):n.jsx("div",{className:"results-status-text",children:U}),n.jsx(zt,{src:"logo.svg",active:Ce.includes(e)}),$>i?n.jsx(ns,{count:$,offset:B,limit:i,setOffset:_}):n.jsx(Gt,{progress:s}),W]}),n.jsx(ts,{className:`search results app-window variables-${["short","show","hide"][g]} control-${d?"show":"hide"} gender-${j} number-${A} grammar-${C?"show":"hide"} furigana-${F?"show":"hide"} rich-text-${r?"enabled":"disabled"}`,results:t,headers:N,showId:a,offset:B,limit:i,onShowSection:T,jumpTo:ne})]})}const os=JSON.parse('[["805868F0",451848],["FE0A4516",184505],["0E6B4AFC",186358],["38089687",184678],["C8E18522",192736],["AC075F40",185187],["BC8E428D",451830],["E0EDED5F",452016],["AE888233",184382],["42CE5E23",186162],["49A1D761",184638],["E6BE2C39",192693],["EEE6AA0B",184987],["D0A898D8",914491],["B4916E10",247699],["9353A098",247605],["01E40379",247360],["B9271014",255341],["7A3C7531",247525],["93D27A9D",853930],["50D2D70E",371161],["297D48D7",423562],["9E40D227",443434],["7E45FF40",433301],["E53FA927",443211],["DB38E4EE",716552],["F5DB65C4",853759],["CB8106C0",371328],["847BC0BC",423799],["F4F9E121",443569],["31E85F86",433496],["CCEB35BA",443147],["B5AC5376",716517],["C258E1C0",1188380],["AA0CCAD6",516532],["061F929E",583183],["9EB0BB7D",617996],["3154E257",605519],["287D9986",626416],["1B6B811F",56247],["47F479B5",219921],["E98655B9",240723],["A5BA82AE",251904],["66BF6AE1",243507],["24BE0C34",265357],["48268292",253204],["15DA0A67",80381],["B5C9124E",206414],["D50DFB6F",212463],["8BDC97A0",209249],["7F5DBF9C",203357],["BAFD4554",223099],["79526023",209842],["464B1550",105715],["51475FA2",326267],["C1B05D7D",337789],["B91D2631",351308],["3F0AD689",343626],["812A1AB9",378330],["AA61A5BF",362267],["2B0D4B93",43358],["5904163D",376708],["EDD0E9E7",388614],["127039EB",388665],["D5FDB9AE",400933],["C7B1655B",389346],["1EFE3353",417115],["63F8BA72",391961],["ECFF31F9",360643],["3A1A9B1D",65345],["598865DB",612597],["9FC7F04F",658341],["724DB29C",658264],["064910D4",684430],["85A41B08",667743],["F0A6E5C4",718659],["C2700D4A",670855],["FEEB02C7",619191],["4D550F2C",73843],["5A4CAD20",706150],["24945ACB",647415],["5C256E39",661940],["A0E65FD8",661900],["1853AD06",741198],["F1A542E7",663250],["F486A32C",641976],["9C34BDCD",74122],["B7574077",14277],["F995C30A",418914],["9D60674E",238161],["30FC1626",431312],["0F0B9315",251501],["2BD96831",427975],["B2A835DB",231433],["C25D8FD2",440869],["B4D5380B",253667],["19CCEDE0",435286],["A7392F1D",238116],["21A4F991",471647],["F5456BBE",286258],["319F6C84",434313],["D35D93AA",255061],["3202D6A1",432445],["5821F1C6",228581],["8098B211",108529],["DA8465B6",23285],["D986A44C",689295],["D26EF998",345597],["6788D3EB",725690],["D853AAFB",366512],["809A966C",661231],["71BD1A82",321837],["A7E66C77",686073],["6263F6C4",364277],["1C541F50",676483],["80392CBD",345983],["8C28A3B1",743806],["5C726113",400249],["E4D9A8A1",709524],["F010E441",388964],["611CB7AE",654063],["270BED6B",326680],["F9AC014E",41653],["7CBC93B4",13564],["5D77F2D3",290600],["19096712",193156],["99B3AF25",304677],["7EF08E1A",204728],["DCB617AB",309647],["33EF4A6B",218185],["B199F277",317847],["E4933814",237126],["C3A6023B",305573],["34ECA43C",204825],["4E05F7C3",331242],["B9A4C5A5",249282],["719F6CF7",336580],["D4C5FC1F",253405],["B779A7AA",293411],["AB306EB4",193921],["D0453ADC",52057],["A49819C8",20978],["D5E64271",361359],["81DC14F2",251358],["607BD37E",380246],["79364FB4",267071],["C6F7E9BB",391949],["55CB3423",261236],["F3C1F5D1",412072],["A445144E",275169],["04BED485",395485],["32F9174D",249289],["4C011AA6",431932],["3B6F2B5D",311428],["A159FCC1",426053],["EFBA305C",281565],["9727DB13",363094],["00F9CD07",247291],["66850A84",49635],["F7C003F5",19275],["D6E2E088",251306],["3A9A986B",221524],["FC0C8ADD",262055],["3155AD9B",234129],["36A24DD7",264111],["7DE90361",266183],["B1B911A6",281427],["D154C0F5",292914],["914BC9E8",269703],["FCB58A19",255431],["73318A95",286031],["1DACFB2B",294363],["E024B96B",284632],["0482085E",291207],["DBACF489",250082],["9EEA28B7",220906],["6C6BDA9A",248873],["615402EC",225468],["E7763E5F",251831],["DCF080B4",228710],["E9064BC7",57142],["515C63BC",30391],["B029ECEF",287029],["D7459F7B",351512],["C2849705",299536],["76226F39",371546],["925DA459",304276],["1332A7BF",417674],["1E24F599",322366],["08238B58",462128],["72449731",311083],["4DC4D0F7",410852],["2A36BB82",331386],["B6CCB707",473448],["485DE0B0",327958],["B0BDACD1",465944],["ECDEB54B",285212],["6046FCAE",351632],["8015D11D",285461],["B97E3074",357817],["291B1F2D",289137],["C47A8D10",363279],["56BFFE84",70001],["0F56A27C",17961],["78D61CE1",188757],["3046EC50",91141],["AB01F4D4",195222],["EAEAC744",96916],["7BDB3096",185660],["A731DF7B",98146],["79D3F3B5",196364],["90DADB7E",112741],["3CD179DB",189954],["3CA333A8",100965],["8D12AA04",201217],["DE0762F4",122416],["C3639674",195797],["3449002C",112911],["D23A1D38",186937],["70B92862",92474],["920D68A3",183962],["38CB3189",99595],["4A2AF0BD",183355],["0C39B49A",99105],["9CFCB04F",185584],["24056C87",98436],["F88C7D51",109707],["D06EC6B0",47268],["BC465CEB",327255],["DABDD117",249057],["DB6499F8",343106],["A1E9A260",263024],["2E39FF52",353598],["D72D5490",301521],["E97E3DEA",360374],["C14BE010",316566],["B243A50B",354609],["6DD06B2E",294483],["71E64CE2",374758],["B755DFD7",338573],["D675ED02",354540],["C109C728",315868],["099C8225",334519],["ACBD302C",263043],["CAAB3D17",340926],["3239020C",280033],["94E2F348",339910],["7DD6502E",283225],["A3C49BBF",99393],["87647E62",438279],["9616FC8D",459527],["A2BCEA38",441003],["224162EA",473430],["1B465C57",456582],["FF560BEE",502888],["690BFF6E",465097],["1C088BF9",412634],["BDB8EF03",416941],["EC2A02E5",430970],["868957D1",74049],["A142B3F1",24108],["AE7A3398",217519],["5F77F1A4",230194],["C7DC5911",212569],["EFC20517",250558],["B1E9377A",212889],["C74A122A",247223],["D054DE70",207469],["CE8B0601",241619],["ED88D7E1",217691],["FC76E487",250690],["D766E68F",209904],["0B78B3D6",250516],["7707196A",196581],["D6E20DF4",198422],["AEE9875F",197067],["7F1BE555",196414],["2E5BAC17",197521],["1365CBAA",206782],["9D22F3E2",142866],["1D2F4BF3",71136],["B38DE6C7",428923],["C0C91D78",523598],["99B6F5E4",400940],["D1F7D9A3",527195],["DB66385A",410479],["8D9AFC15",540864],["2A68B3C4",396595],["E0AC173E",500289],["300A80E9",415883],["23719FF4",547694],["B53002F4",401220],["14C7FDE3",535541],["B6B8EBAE",376872],["6D12C9E1",440546],["EDD3DC38",377240],["B2485F5C",432631],["A12D9827",380373],["4C32D9D0",449342],["C3E5FB9D",4339],["8F488338",26442],["C0CC6C78",27488],["C000BF76",26723],["5D8671DF",30377],["38FA9F65",28212],["A8F362C0",43636],["3BF95355",213995],["8B89062A",189456],["BD1820D9",174259],["40824263",181488],["38D29549",211516],["CDD1322A",188971],["9920B1E3",3505],["CCD878B1",11682],["CC445D0F",10530],["A01D9E8C",10488],["3B409C23",11138],["0B197BEA",10982],["4452D813",11317],["D958ECBF",11107],["EA1432F5",14904],["CA9CD9BD",185298],["E266968F",191903],["97ECABBA",187664],["87A27B31",197388],["04872EBD",196569],["8E557D83",204124],["1605EDD5",197879],["26D93D24",11886],["95CC0171",294807],["C46156B1",261280],["9EA398A5",234498],["68062841",229744],["656E796C",230208],["A80BEC67",254904],["A190FDDD",241132],["3356A778",27511],["F8317CFE",168076],["F71850AB",154401],["E554DABC",154242],["C7E7F875",160914],["2C56E000",156325],["A55CCB2E",163853],["DE9A5332",149658],["4028E267",10276],["38B7948A",85967],["B3B75E50",63779],["34A6C0E7",63992],["F1318B98",68269],["CA1ADAA3",67235],["12F3987F",68652],["0E2E5E91",66187],["8EA29A66",28943],["A6D0F48B",252507],["BA9443EB",266550],["886D0304",287489],["606FC990",290952],["DC096C52",284717],["A25EDA41",300791],["B5DC512F",288797],["41303CFE",254545],["BF4FC8A0",260380],["7DEBD604",262359],["19B88DB6",124422],["3FE9024F",83651],["45B39AA0",695517],["468019A5",522803],["178F33F9",724549],["1DFF87A8",543864],["34E25F98",770042],["B471ACEC",584649],["9A31C8AB",773486],["69138ED7",586195],["2B197D76",756785],["A81BC8F2",575557],["6CBB2A0F",817937],["8F227AF5",626642],["64A00033",763166],["5743DC04",581048],["B2E49CB7",695621],["736542D5",520364],["DE6516AD",711468],["FF181780",534178],["42A2B796",713699],["0C26F405",535801],["656A6704",143592],["5EB6C18E",482108],["6B4445CC",505370],["D8888024",549360],["F8F09D09",537978],["37749736",563371],["52405B63",544493],["E4EB901C",535840],["1517145B",461152],["619AD20F",481547],["68E40EC0",532562],["2705D4FF",624240],["2E624650",649539],["1DB75E38",528211],["E48CA5D7",473358],["97A0615C",640307],["43C26113",126213],["4EBBC268",181948],["EFD76187",12925],["C2C155D6",331883],["A84095F4",1509992],["75869BAD",62707],["421E9846",317363],["962FB091",1487074],["49345F87",63760],["B49849FD",346999],["8E26B672",1691339],["0E0547BE",69664],["42A47AF4",330698],["267217A2",1554533],["5BF584ED",66055],["1B0FD60F",347436],["C48076A1",1749200],["AF58D88D",69924],["F47A457C",341942],["16E0133F",1682870],["0315060B",67728],["9B8572CA",313930],["9D7CD26A",1425380],["9CF8A919",58808],["54C2F830",319639],["AD6E8427",1514255],["DAFC0EC4",56486]]'),ae=(e,s,t)=>`corpus/${e}/${s}_${t}.txt.gz`,is=e=>_e(e).size,ls=async(e,s)=>{const[t,a]=await we(e,s);return a?.hash===t.hash?0:t.size},cs=async e=>{try{const s=await oe(),t=(await Promise.all(e.flatMap(a=>E.collections[a].languages.flatMap(r=>E.collections[a].files.map(i=>ls(s,ae(a,r,i))))))).reduce((a,r)=>a+r,0);return s.close(),t}catch{return e.flatMap(s=>E.collections[s].languages.flatMap(t=>E.collections[s].files.map(a=>is(ae(s,t,a))))).reduce((s,t)=>s+t,0)}},us=e=>"/poke-corpus/"+e,xs=async(e,s,t)=>{const a=us(t),[r,i]=await we(s,t);return i?.hash!==void 0?[await ms(e,a),i.hash===r.hash]:[void 0,!1]},fe=os,ds=Object.fromEntries(Object.entries(E.collections).flatMap(([e,s])=>s.languages.flatMap(t=>s.files.map(a=>ae(e,t,a)))).map((e,s)=>[e,{hash:fe[s][0],size:fe[s][1]}])),hs="corpus",M="files",oe=()=>{const e=indexedDB.open(hs);return new Promise((s,t)=>{e.onupgradeneeded=()=>{e.result.createObjectStore(M),e.transaction!==null&&(e.transaction.oncomplete=()=>{console.log("Created object store")})},e.onsuccess=()=>s(e.result),e.onerror=()=>t(e.error)})},_e=e=>ds[e],gs=(e,s)=>{const r=e.transaction([M],"readonly").objectStore(M).get(s);return new Promise((i,o)=>{r.onsuccess=()=>i(r.result),r.onerror=()=>o(r.error)})},_s=(e,s)=>{const r=e.transaction([M],"readwrite").objectStore(M).delete(s);return new Promise((i,o)=>{r.onsuccess=()=>i(r.result!==void 0),r.onerror=()=>o(r.error)})},we=async(e,s)=>[_e(s),await gs(e,s)],ws=()=>oe().then(e=>{const a=e.transaction(["files"],"readwrite").objectStore("files").clear();return e.close(),new Promise((r,i)=>{a.onsuccess=()=>r(a===void 0),a.onerror=()=>i(a.error)})}).catch(e=>new Promise((s,t)=>t(e))),ys=()=>oe().then(e=>{const a=e.transaction([M],"readonly").objectStore(M).getAllKeys();return e.close(),new Promise((r,i)=>{a.onsuccess=()=>r(a.result.filter(o=>typeof o=="string")),a.onerror=()=>i(a.error)})}).catch(e=>new Promise((s,t)=>t(e))),fs="corpus",Ss=async()=>await caches.open(fs),ms=async(e,s)=>{try{const t=await e.match(s);return t}catch(t){console.error(t);return}},me="corpus-warn",ps=2e7;function Es({showModal:e,limit:s}){const{t}=b(),a=l.useRef(null),[r,i]=l.useState("initial"),[o,c]=l.useState(0),[g,p]=l.useState(!0),[d,u]=l.useState(!0),[j,D]=l.useState([]),[A,f]=l.useState(x(me)!=="false"),C=l.useCallback(B=>{B.data.complete?(i(B.data.status),c(B.data.progress),p(B.data.showId),u(B.data.richText),D(B.data.results),it.includes(B.data.status)&&e({message:t(`statusModal.${B.data.status}`),buttons:[{message:t("statusModal.buttons.ok"),autoFocus:!0}]})):(i(B.data.status),c(B.data.progress))},[]),v=()=>{a.current!==null&&(console.log("Terminating worker!"),a.current.removeEventListener("message",C),a.current.terminate(),a.current=null,i("initial"),c(0))},F=l.useCallback(B=>{D([]),B.query.length>0&&B.collections.length>0&&B.languages.length>0&&(a.current===null&&(console.log("Creating new worker..."),a.current=new ot,a.current.addEventListener("message",C)),c(0),a.current.postMessage(B))},[]),k=l.useCallback(async B=>{if(i("waiting"),A){const _=await cs(B.collections);if(_>ps){e({message:t("searchModal.message",Xe(_)),checkbox:{message:t("searchModal.checkboxDoNotShowAgain"),checked:!1},buttons:[{message:t("searchModal.buttons.yes"),callback:()=>F(B),checkboxCallback:T=>{f(!T),R(me,(!T).toString())}},{message:t("searchModal.buttons.no"),callback:()=>i("initial"),autoFocus:!0}],cancelCallback:()=>i("initial")});return}}F(B)},[A]);return n.jsxs(n.Fragment,{children:[n.jsx($t,{status:r,postToWorker:k,terminateWorker:v}),n.jsx(rs,{status:r,progress:o,showId:g,richText:d,results:j,limit:s})]})}function As({classes:e,message:s,buttons:t,checkbox:a,cancelCallback:r}){const[i,o]=l.useState(!1),[c,g]=l.useState(a?.checked??!1),p=l.useRef(null),d=l.useRef(null);l.useEffect(()=>{(s||t||a)&&(o(!0),g(a?.checked??!1))},[s,t,a]),l.useEffect(()=>{const A=p.current,f=d.current;if(A!==null)if(i){if(A.showModal(),t){const C=t.findIndex(v=>v.autoFocus);f!==null&&C!==-1&&Array.from(f.children).filter(v=>v instanceof HTMLButtonElement)[C].focus()}}else A.close()},[i]);const u=(A,f)=>()=>{o(!1),A&&A(),f&&f(c)},j=()=>{r&&r(),o(!1)};if(!i)return null;const D=["modal"];return e&&e.forEach(A=>D.push(A)),n.jsxs("dialog",{ref:p,id:"modal",className:D.join(" "),onCancel:j,children:[n.jsx("div",{className:"modal-message",children:s}),a&&n.jsx("div",{className:"modal-checkbox",children:n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"modalCheckbox",name:"modalCheckbox",checked:c,onChange:A=>g(A.target.checked)}),n.jsx("label",{htmlFor:"modalCheckbox",children:a.message})]})}),n.jsx("div",{ref:d,className:"modal-button-group",children:t&&t.map(({message:A,callback:f,checkboxCallback:C,autoFocus:v},F)=>n.jsx("button",{type:"button",onClick:u(f,C),autoFocus:v,children:A},F))})]})}function ye(){const{t:e}=b();return n.jsx("div",{className:"app-window",children:n.jsxs("section",{className:"results-section",children:[n.jsx("h2",{children:e("error.title")}),n.jsx("div",{children:e("error.message")})]})})}const js=l.lazy(()=>m(()=>import("./CacheManager-C3B3vlCI.js"),__vite__mapDeps([0,1,2,3,4])));function Cs(){const{t:e}=b(),[,s]=l.useTransition(),[t,a]=l.useState(Ze),[r,i]=l.useState("Search"),[o,c]=l.useState(null),[g,p]=l.useState(!1);l.useEffect(()=>{const C=Ae();document.body.classList.add(`mode-${C}`),p(!0)},[]);const d=C=>{c(C)},u=()=>{s(()=>{const C=r!=="Search"?"Search":"CacheManager";i(C),g||p(C==="CacheManager")})},j=g&&n.jsx(js,{active:r==="CacheManager",showModal:d}),D=n.jsxs("header",{className:"header",children:[n.jsx("h1",{children:n.jsxs("a",{href:"/poke-corpus/",children:[n.jsx("img",{className:"header-logo",src:"logo.svg",alt:"",height:"40",width:"40"})," ",e("title",{version:e("version")})]})}),n.jsx(X,{fallback:null,children:n.jsx(rt,{showModal:d,limit:t,setLimit:a})})]}),A=n.jsxs("footer",{children:[n.jsx("span",{children:e("tagline")}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:e("footerText")}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:n.jsx("button",{className:"link",onClick:u,children:e(r!=="Search"?"backToSearch":"manageCache")})}),n.jsx("span",{className:"separator",children:" | "}),n.jsx("span",{children:n.jsx("a",{href:"https://github.com/abcboy101/poke-corpus",children:e("github")})})]}),f=["app",`view-${r.toLowerCase()}`];return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&f.push("ua-safari"),n.jsxs("div",{className:f.join(" "),lang:w.language,dir:w.dir(),children:[D,n.jsxs(X,{FallbackComponent:ye,children:[n.jsx(Es,{showModal:d,limit:t}),j]}),A,n.jsx(As,{...o})]})}function Ds(){return n.jsx("div",{className:"app",children:n.jsx(ye,{})})}const Bs=Ve.createRoot(document.getElementById("root"));Bs.render(n.jsx(Oe.StrictMode,{children:n.jsx(X,{FallbackComponent:Ds,children:n.jsx(Cs,{})})}));Je({onOfflineReady(){console.log("Ready to work offline!")}});export{Gt as P,oe as a,ae as b,E as c,xs as d,ys as e,_s as f,Ss as g,cs as h,Xe as i,ws as j};
